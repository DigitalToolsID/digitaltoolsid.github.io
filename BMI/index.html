<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">

    <link rel="canonical" href="https://digitaltoolsid.github.io/bmi/" />
    
    <link rel="icon" href="data:,">

    <meta name="description" content="Accurate BMI & Calorie Calculator: Calculate Body Mass Index (IMT), BMR, and TDEE. Get daily calorie targets for weight loss or muscle gain.">
    
    <meta name="keywords" content="BMI Calculator, TDEE Calculator, BMR Calculator, Body Mass Index, Daily Calorie Needs, Weight Loss Calculator, Kalkulator BMI, Hitung IMT, Kalkulator Kalori Harian, Berat Badan Ideal, Hitung BMR, Diet Defisit Kalori, Rumus IMT, Ideal Weight Formula, Health Analysis Tool">
 
    <title id="appTitle">BMI & Calorie Calculator (IMT/BMR) - Health Analysis</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* CSS LOKAL (Hanya untuk Kalkulator ini) */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 1200px; 
            padding: 1.5rem; 
        }
        
        .classification-table th, .classification-table td {
            padding: 0.5rem 1rem;
            text-align: left;
        }

        /* Tabs Style */
        .tab-button.active {
            border-color: #1e3a8a;
            color: #1e3a8a;
            font-weight: 600;
        }

        .action-list {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }
        .action-list li { margin-bottom: 0.25rem; }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>

    



    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-lg bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-primary-dark mb-3">Body Mass Index (BMI) & Calorie Analyzer</h1>
            
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6">
                Complete Health Analysis: Calculate your BMI, BMR, & Calorie Needs to receive an accurate guide for reaching your ideal weight.
            </p>
            <div class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div class="relative">
                        <label for="weightInput" class="block text-sm font-medium text-gray-700 mb-1" id="labelWeight">Weight (kg)</label>
                        <input type="number" id="weightInput" placeholder="E.g.: 70" step="0.1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-secondary focus:border-secondary transition duration-150" required>
                    </div>
                    
                    <div class="relative">
                        <label for="heightInput" class="block text-sm font-medium text-gray-700 mb-1" id="labelHeight">Height (cm)</label>
                        <input type="number" id="heightInput" placeholder="E.g.: 175" step="1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-secondary focus:border-secondary transition duration-150" required>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="relative">
                        <label for="ageInput" class="block text-sm font-medium text-gray-700 mb-1" id="labelAge">Age (Years)</label>
                        <input type="number" id="ageInput" placeholder="E.g.: 30" step="1" min="1" max="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-secondary focus:border-secondary transition duration-150" required>
                    </div>
                    
                    <div class="relative">
                        <label for="genderSelect" class="block text-sm font-medium text-gray-700 mb-1" id="labelGender">Gender</label>
                        <select id="genderSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-secondary focus:border-secondary transition duration-150 appearance-none bg-white">
                            <option value="male" id="genderMale">Male</option>
                            <option value="female" id="genderFemale">Female</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                            <svg class="h-5 w-5 text-gray-400 mt-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="relative">
                    <label for="activitySelect" class="block text-sm font-medium text-gray-700 mb-1" id="labelActivity">Activity Level (TDEE)</label>
                    <select id="activitySelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-secondary focus:border-secondary transition duration-150 appearance-none bg-white">
                        <option value="1.2" id="activitySedentary">Sedentary (Little or no exercise)</option>
                        <option value="1.375" id="activityLight">Lightly Active (1-3 days/week)</option>
                        <option value="1.55" id="activityModerate">Moderately Active (3-5 days/week)</option>
                        <option value="1.725" id="activityVery">Very Active (6-7 days/week)</option>
                        <option value="1.9" id="activityExtra">Extra Active (Hard daily exercise)</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                        <svg class="h-5 w-5 text-gray-400 mt-5" xmlns="http://www.w3d.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </div>
                </div>

                <button id="calculateButton" onclick="calculateFullHealthMetrics()" class="w-full bg-secondary text-white font-semibold py-3 rounded-xl shadow-md hover:bg-primary transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-secondary focus:ring-opacity-50">
                    Calculate BMI & Calories
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </div>

            <div id="resultBox" class="result-box mt-6 bg-secondary/5 border border-secondary/30 rounded-xl shadow-lg">
                
                <div class="flex border-b border-gray-300 mb-4 -mx-3 px-3">
                    <button id="tabBmi" onclick="setActiveTab('bmi')" class="tab-button active flex-1 py-2 text-sm text-gray-500 border-b-2 border-transparent hover:border-secondary transition duration-150 ease-in-out">BMI Result</button>
                    <button id="tabAnalysis" onclick="setActiveTab('analysis')" class="tab-button flex-1 py-2 text-sm text-gray-500 border-b-2 border-transparent hover:border-secondary transition duration-150 ease-in-out">Health Analysis</button>
                </div>

                <div id="contentBmi" class="tab-content">
                    <div class="grid grid-cols-2 gap-4 border-b pb-4 mb-4">
                        <div class="text-center">
                            <p id="labelYourBmi" class="text-sm text-gray-600 font-medium">Your BMI</p>
                            <p id="bmiResult" class="text-4xl font-bold text-primary mt-1">--</p>
                        </div>
                        <div class="text-center">
                            <p id="labelCategory" class="text-sm text-gray-600 font-medium">Category</p>
                            <p id="categoryResult" class="text-xl font-semibold mt-1 text-green-600">--</p>
                        </div>
                    </div>

                    <div id="weightAdviceBox" class="p-3 mt-4 mb-4 rounded-lg hidden">
                        <p id="adviceText" class="text-sm text-gray-800 font-medium"></p>
                        <p id="actionAdviceText" class="text-sm text-gray-800 font-bold mt-1"></p> 
                    </div>
                    
                    <h3 id="classificationTitle" class="lg font-bold mb-3 text-primary border-b pb-2">BMI Classification (WHO Standard)</h3>
                    <table class="classification-table w-full text-sm text-gray-700 rounded-lg overflow-hidden">
                        <thead class="bg-primary-dark text-white">
                            <tr>
                                <th id="tableHeaderCategory" class="rounded-tl-lg">Category</th>
                                <th id="tableHeaderBmi" class="rounded-tr-lg">BMI (kg/m²)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td id="catUnderweight">Underweight</td>
                                <td>&lt; 18.5</td>
                            </tr>
                            <tr class="bg-green-50 border-b">
                                <td id="catNormal">Normal Weight</td>
                                <td>18.5 – 24.9</td>
                            </tr>
                            <tr class="border-b">
                                <td id="catOverweight">Overweight</td>
                                <td>25.0 – 29.9</td>
                            </tr>
                            <tr class="bg-red-50 border-b">
                                <td id="catObese1">Obese Class I</td>
                                <td>30.0 – 34.9</td>
                            </tr>
                            <tr class="bg-red-100 border-b">
                                <td id="catObese2">Obese Class II</td>
                                <td>35.0 – 39.9</td>
                            </tr>
                            <tr class="bg-red-200">
                                <td id="catObese3" class="rounded-bl-lg">Obese Class III</td>
                                <td class="rounded-br-lg">&ge; 40.0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="contentAnalysis" class="tab-content hidden">
                    <h3 id="analysisHeader" class="text-lg font-bold mb-3 text-primary border-b pb-2">Your Daily Calorie Needs Estimation</h3>
                    
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <p id="labelBmr" class="text-sm text-blue-800 font-medium mb-1">Basal Metabolic Rate (BMR)</p>
                            <p id="bmrResult" class="text-2xl font-bold text-blue-600">--</p>
                            <p id="bmrDescription" class="text-xs text-gray-600 mt-1">Calories burned at rest.</p>
                        </div>
                        <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                            <p id="labelTdee" class="text-sm text-green-800 font-medium mb-1">Total Daily Energy Expenditure (TDEE)</p>
                            <p id="tdeeResult" class="text-2xl font-bold text-green-600">--</p>
                            <p id="tdeeDescription" class="text-xs text-gray-600 mt-1">Estimated calories burned including activity.</p>
                        </div>
                    </div>

                    <h3 id="calorieAdviceTitle" class="text-lg font-bold mt-6 mb-3 text-primary border-b pb-2">Weight Goal Calorie Advice</h3>
                    <div id="calorieAdviceBox" class="space-y-2 text-sm text-gray-700">
                        <p id="maintainAdvice"><span class="font-semibold">Maintain Weight:</span> <span id="maintainValue">--</span> Calories/day</p>
                        <p id="loseAdvice"><span class="font-semibold text-red-700">Mild Weight Loss:</span> <span id="loseValue">--</span> Calories/day</p>
                        <p id="gainAdvice"><span class="font-semibold text-green-700">Mild Weight Gain:</span> <span id="gainValue">--</span> Calories/day</p>
                    </div>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding Your Health Metrics: Beyond BMI</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Critical Limitations of BMI (For High-Value Content)</h3>
                
                <div id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 space-y-4">
                    <p id="content2Intro"></p>
                    <div id="case1">
                        <h4 class="text-base font-semibold mt-0 text-primary-dark" id="case1Header"></h4>
                        <p id="case1Desc"></p>
                        <p class="font-bold text-gray-800 mt-2" id="case1AdviceTitle"></p>
                        <ul class="action-list list-disc ml-4 space-y-1" id="case1Advice">
                            <li></li><li></li><li></li>
                        </ul>
                    </div>
                    
                    <div id="case2" class="pt-4 border-t border-gray-100">
                        <h4 class="text-base font-semibold mt-0 text-primary-dark" id="case2Header"></h4>
                        <p id="case2Desc"></p>
                        <p class="font-bold text-gray-800 mt-2" id="case2AdviceTitle"></p>
                        <ul class="action-list list-disc ml-4 space-y-1" id="case2Advice">
                            <li></li><li></li><li></li>
                        </ul>
                    </div>

                    <div id="case3" class="pt-4 border-t border-gray-100">
                        <h4 class="text-base font-semibold mt-0 text-primary-dark" id="case3Header"></h4>
                        <p id="case3Desc"></p>
                        <p class="font-bold text-gray-800 mt-2" id="case3AdviceTitle"></p>
                        <ul class="action-list list-disc ml-4 space-y-1" id="case3Advice">
                            <li></li><li></li><li></li>
                        </ul>
                    </div>

                    <div id="alternativeMetrics" class="pt-4 border-t border-gray-100">
                        <h4 class="text-base font-semibold mt-0 text-primary-dark" id="altMetricsHeader"></h4>
                        <p id="altMetricsDesc"></p>
                    </div>
                </div>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Interpreting Results and Next Steps (Actionable Advice)</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>

    </main>

   <section id="related-tools-section" class="max-w-4xl mx-auto px-4 py-8 mb-4">
    
    <div class="flex items-center mb-5">
        <div class="w-1 h-7 mr-3 dynamic-bg"></div> 
        <h2 class="text-xl font-bold text-gray-800" 
            data-en="Health & Lifestyle Tools" 
            data-id="Alat Kesehatan & Gaya Hidup">
            Health & Lifestyle Tools
        </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
        
        <a href="../body-fat-calculator/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
            <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                data-en="Body Fat Percentage Calculator"
                data-id="Kalkulator Persentase Lemak Tubuh">
                Body Fat Percentage Calculator
            </h3>
            <p class="text-xs text-gray-600 leading-relaxed"
                data-en="Estimate body composition using the US Navy Method."
                data-id="Estimasi komposisi tubuh menggunakan Metode Angkatan Laut AS.">
                Estimate body composition using the US Navy Method.
            </p>
        </a>

        <a href="../kalkulator-air-harian/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
            <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                data-en="Daily Water Intake Calculator"
                data-id="Kalkulator Asupan Air Harian">
                Daily Water Intake Calculator
            </h3>
            <p class="text-xs text-gray-600 leading-relaxed"
                data-en="Calculate your minimum daily hydration needs."
                data-id="Hitung kebutuhan hidrasi harian minimum Anda.">
                Calculate your minimum daily hydration needs.
            </p>
        </a>

        <a href="../kalkulator-kebutuhan-protein/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
            <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                data-en="Daily Protein Needs Calculator"
                data-id="Kalkulator Kebutuhan Protein">
                Daily Protein Needs Calculator
            </h3>
            <p class="text-xs text-gray-600 leading-relaxed"
                data-en="Determine ideal protein intake for muscle building or diet."
                data-id="Tentukan asupan protein ideal untuk pembentukan otot atau diet.">
                Determine ideal protein intake for muscle building or diet.
            </p>
        </a>

        <a href="../kalkulator-denyut-jantung/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
            <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                data-en="Target Heart Rate Calculator"
                data-id="Kalkulator Detak Jantung Target">
                Target Heart Rate Calculator
            </h3>
            <p class="text-xs text-gray-600 leading-relaxed"
                data-en="Calculate Fat Burn and Aerobic zones using Karvonen method."
                data-id="Hitung zona Pembakaran Lemak & Aerobik (Metode Karvonen).">
                Calculate Fat Burn and Aerobic zones using Karvonen method.
            </p>
        </a>

        <a href="../kalkulator-siklus-menstruasi/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
            <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                data-en="Menstrual & Ovulation Cycle"
                data-id="Kalkulator Siklus Menstruasi">
                Menstrual & Ovulation Cycle
            </h3>
            <p class="text-xs text-gray-600 leading-relaxed"
                data-en="Estimate your next period and fertile window."
                data-id="Perkirakan periode haid berikutnya dan masa subur.">
                Estimate your next period and fertile window.
            </p>
        </a>

    </div>

    <div class="border-t border-gray-100 pt-8">
        <h3 class="text-xl font-bold text-gray-800 mb-4" 
            data-en="Related Articles:" 
            data-id="Artikel Terkait:">
            Related Articles:
        </h3>
        <ul class="space-y-3">
            <li>
                <a href="../articles/definisi_bmi_tdee.html" class="flex items-center text-sm hover:underline group dynamic-text">
                    <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                    <span data-en="Understanding BMI and TDEE: Your Daily Calorie Needs" 
                          data-id="Memahami BMI dan TDEE: Kebutuhan Kalori Harian Anda">
                        Understanding BMI and TDEE: Your Daily Calorie Needs
                    </span>
                </a>
            </li>

            <li>
                <a href="../articles/panduan_lingkar_pinggang.html" class="flex items-center text-sm hover:underline group dynamic-text">
                    <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                    <span data-en="Complete Guide to Measuring Ideal Waist Circumference" 
                          data-id="Panduan Lengkap Mengukur Lingkar Pinggang Ideal">
                        Complete Guide to Measuring Ideal Waist Circumference
                    </span>
                </a>
            </li>

            <li>
                <a href="../articles/panduan-label-nutrisi.html" class="flex items-center text-sm hover:underline group dynamic-text">
                    <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                    <span data-en="The Complete Guide: How to Read a Nutrition Facts Label" 
                          data-id="Panduan Lengkap: Cara Membaca Label Informasi Nilai Gizi">
                        The Complete Guide: How to Read a Nutrition Facts Label
                    </span>
                </a>
            </li>

            <li>
                <a href="../articles/protein-penurunan-berat-badan.html" class="flex items-center text-sm hover:underline group dynamic-text">
                    <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                    <span data-en="The Critical Role of Protein in Weight Loss Strategy" 
                          data-id="Peran Kritis Protein dalam Strategi Penurunan Berat Badan">
                        The Critical Role of Protein in Weight Loss Strategy
                    </span>
                </a>
            </li>

            <li>
                <a href="../articles/strategi_menurunkan_berat_badan.html" class="flex items-center text-sm hover:underline group dynamic-text">
                    <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                    <span data-en="5 Sustainable Weight Loss Strategies" 
                          data-id="5 Strategi Penurunan Berat Badan yang Berkelanjutan">
                        5 Sustainable Weight Loss Strategies
                    </span>
                </a>
            </li>
        </ul>
    </div>



</section>


    <div id="global-footer-container"></div> 

    <script src="../components.js"></script>
    
    <script>
      
      
      
      // **********************************************
        // SCRIPT LOKAL (LOGIKA PERHITUNGAN BMI)
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Analisis Kesehatan (IMT & Kalori)",
                headerTitle: "Kalkulator Indeks Massa Tubuh (IMT) & Kalori",
                toolSubtitle: "Analisis Kesehatan Lengkap: Hitung IMT, BMR, & Kebutuhan Kalori Anda untuk mendapatkan panduan akurat menuju berat badan ideal.",
                backToCatalogText: "Kembali ke Katalog Alat",
                labelWeight: "Berat Badan (kg)",
                labelHeight: "Tinggi Badan (cm)",
                labelAge: "Usia (Tahun)",
                labelGender: "Jenis Kelamin",
                genderMale: "Pria",
                genderFemale: "Wanita",
                labelActivity: "Tingkat Aktivitas (TDEE)",
                activitySedentary: "Sangat Ringan (Kurang/Tanpa olahraga)",
                activityLight: "Ringan (1-3 hari/minggu)",
                activityModerate: "Sedang (3-5 hari/minggu)",
                activityVery: "Sangat Aktif (6-7 hari/minggu)",
                activityExtra: "Ekstra Aktif (Latihan berat harian)",
                calculateButton: "Hitung IMT & Kalori",
                labelYourBmi: "IMT Anda",
                labelCategory: "Kategori",
                classificationTitle: "Klasifikasi IMT (Standar WHO)",
                tableHeaderCategory: "Kategori",
                tableHeaderBmi: "IMT (kg/m²)",
                catUnderweight: "Kekurangan Berat Badan",
                catNormal: "Berat Badan Normal",
                catOverweight: "Kelebihan Berat Badan",
                catObese1: "Obesitas Kelas I",
                catObese2: "Obesitas Kelas II",
                catObese3: "Obesitas Kelas III",
                inputError: "Mohon masukkan nilai yang valid untuk Berat, Tinggi, dan Usia.",
                placeholderWeight: "Contoh: 70",
                placeholderHeight: "Contoh: 175",
                placeholderAge: "Contoh: 30",
                adviceNormal: "IMT Anda dalam kisaran normal. Pertahankan gaya hidup sehat Anda!",
                adviceUnderweight: (minWeight, maxWeight) => `Anda berada di bawah berat badan ideal. Kisaran berat badan normal untuk tinggi badan Anda adalah antara ${minWeight} kg hingga ${maxWeight} kg.`,
                adviceOverweight: (minWeight, maxWeight) => `Anda memiliki berat badan berlebih. Kisaran berat badan normal untuk tinggi badan Anda adalah antara ${minWeight} kg hingga ${maxWeight} kg.`,
                actionNormal: "Lanjutkan dengan pola makan seimbang dan aktivitas rutin.",
                actionUnderweight: "Konsultasikan ahli gizi untuk rencana peningkatan berat badan yang sehat.",
                actionOverweight: "Upayakan penurunan berat badan. Untuk menurunkan lemak tubuh, Anda wajib menciptakan keseimbangan energi negatif yaitu dengan mengurangi jumlah kalori dari makanan yang Anda konsumsi sambil meningkatkan kalori yang Anda bakar melalui olahraga teratur. Lihat tab Analisis Kesehatan untuk target Anda.",
                tabBmiText: "Hasil IMT",
                tabAnalysisText: "Analisis Kesehatan",
                analysisHeader: "Estimasi Kebutuhan Kalori Harian Anda",
                labelBmr: "Tingkat Metabolik Basal (BMR)",
                bmrDescription: "Kalori yang dibakar saat istirahat (tidur, dll).",
                labelTdee: "Total Pengeluaran Energi Harian (TDEE)",
                tdeeDescription: "Estimasi kalori yang dibakar termasuk aktivitas.",
                calorieAdviceTitle: "Saran Kalori untuk Tujuan Berat Badan",
                maintainAdvice: "Pertahankan Berat Badan:",
                loseAdvice: "Penurunan Berat Badan Ringan (Defisit 500 kkal):",
                gainAdvice: "Peningkatan Berat Badan Ringan (Surplus 500 kkal):",
                sectionHeader1: "Memahami Metrik Kesehatan Anda: Melampaui IMT",
                content1: "Indeks Massa Tubuh (IMT) adalah titik awal, tetapi kesehatan sejati membutuhkan pandangan yang lebih luas. Alat analisis kami menggabungkan perhitungan IMT, BMR (tingkat kalori istirahat), dan TDEE (kebutuhan kalori total) untuk memberikan Anda peta jalan yang komprehensif, menghubungkan status berat badan Anda saat ini dengan kebutuhan energi harian Anda. <br><br> Memahami ketiga metrik ini secara bersamaan adalah kunci untuk manajemen berat badan yang efektif. IMT memberi tahu Anda di mana Anda berada dalam skala populasi umum. BMR (<strong>Basal Metabolic Rate</strong>) memberi tahu Anda berapa banyak kalori yang dibakar tubuh Anda *hanya untuk mempertahankan fungsi dasar*—seperti bernapas dan menjaga suhu tubuh—tanpa memperhitungkan aktivitas. <br><br> Kemudian, TDEE (<strong>Total Daily Energy Expenditure</strong>) adalah metrik terpenting untuk tindakan. TDEE adalah estimasi jumlah total kalori yang Anda bakar per hari, termasuk BMR ditambah semua aktivitas fisik (mulai dari mencuci piring hingga latihan berat). Dengan mengetahui TDEE Anda secara akurat, Anda dapat menentukan secara pasti target kalori harian yang diperlukan untuk mempertahankan, menurunkan, atau menambah berat badan dengan cara yang paling sehat. Melampaui IMT dengan data BMR dan TDEE akan mengubah pendekatan Anda dari sekadar diagnosis menjadi perencanaan nutrisi yang akurat.",
                sectionHeader2: "Batasan Kritis IMT (Untuk Analisis Mendalam)",
                content2Intro: `Meskipun Indeks Massa Tubuh (IMT) berfungsi sebagai alat skrining cepat yang diakui oleh Organisasi Kesehatan Dunia (WHO) untuk mengidentifikasi kategori berat badan, penting bagi pengguna alat ini untuk memahami keterbatasan kritisnya. IMT hanyalah perhitungan matematis yang mengukur rasio antara berat badan total Anda dengan kuadrat tinggi badan. Formula ini <strong>gagal membedakan</strong> komponen-komponen yang membentuk berat badan Anda (lemak, otot, tulang, dan air). Kegagalan metodologis inilah yang membuat IMT seringkali memberikan klasifikasi yang salah pada kelompok populasi tertentu.`,
                case1Header: `Kasus 1: Atlet dan Binaragawan (Massa Otot Tinggi)`,
                case1Desc: `Ini adalah batasan IMT yang paling sering dikutip. Otot, secara volume, jauh lebih padat dan berat daripada lemak. Seorang atlet atau binaragawan yang memiliki massa otot tinggi mungkin memiliki IMT di atas 25, yang secara otomatis mengklasifikasikannya ke dalam kategori Kelebihan Berat Badan (<strong>Overweight</strong>) atau bahkan Obesitas.`,
                case1AdviceTitle: `Saran Tindakan Tambahan:`,
                case1Advice1: `IMT tetap berguna sebagai <strong>metrik pemantauan konsistensi</strong> selama musim latihan.`,
                case1Advice2: `Gunakan hasil TDEE kami (di tab Analisis Kesehatan) untuk mempersonalisasi asupan kalori Anda demi menjaga atau membangun massa otot.`,
                case1Advice3: `**Wajib:** Lakukan pengukuran persentase lemak tubuh yang lebih akurat (misalnya <em>calipers</em> atau DEXA <em>scan</em>) untuk mengonfirmasi komposisi tubuh Anda yang sebenarnya.`,
                case2Header: `Kasus 2: Lansia (Sarcopenia dan Massa Otot Rendah)`,
                case2Desc: `Sebaliknya, IMT juga dapat meremehkan risiko kesehatan pada lansia. Seiring bertambahnya usia, seseorang secara alami kehilangan massa otot (kondisi yang dikenal sebagai Sarcopenia). Orang lansia mungkin memiliki berat badan yang tampak "normal" atau bahkan "kurang" pada kalkulator IMT (misalnya IMT 22), tetapi persentase lemak tubuh mereka bisa sangat tinggi karena mereka kehilangan jaringan otot yang padat. Kondisi ini dikenal sebagai Obesitas dengan Berat Badan Normal.`,
                case2AdviceTitle: `Saran Tindakan Tambahan:`,
                case2Advice1: `Gunakan hasil IMT sebagai <strong>pemicu untuk meningkatkan aktivitas fisik</strong>, meskipun hasilnya tampak normal.`,
                case2Advice2: `Hasil BMR adalah metrik penting untuk memantau kebutuhan kalori dasar lansia.`,
                case2Advice3: `**Wajib:** Fokus pada latihan ketahanan (<em>resistance training</em>) untuk mencegah hilangnya massa otot lebih lanjut dan konsultasikan asupan protein harian Anda.`,
                case3Header: `Kasus 3: Distribusi Lemak (Risiko Jantung)`,
                case3Desc: `Batasan terpenting IMT lainnya adalah kegagalannya dalam menilai <strong>distribusi lemak</strong>. Seseorang dengan IMT yang normal (misalnya 23.5) namun memiliki timbunan lemak yang tinggi di sekitar perut (lemak visceral) memiliki risiko penyakit kardiovaskular dan diabetes yang jauh lebih tinggi. Lemak visceral sangat aktif secara metabolik dan beracun.`,
                case3AdviceTitle: `Saran Tindakan Tambahan:`,
                case3Advice1: `IMT yang normal adalah awal yang baik, namun tetap **wajib memantau lingkar perut Anda**.`,
                case3Advice2: `Ukur lingkar pinggang Anda: idealnya di bawah 102 cm (Pria) dan 88 cm (Wanita) menurut WHO.`,
                case3Advice3: `Jika ambang batas terlampaui, fokus pada defisit kalori (dihitung TDEE) dan lakukan latihan kardio secara rutin.`,
                altMetricsHeader: `Metrik Alternatif yang Lebih Baik`,
                altMetricsDesc: `Kami mendorong pengguna untuk tidak hanya mengandalkan angka IMT. Untuk analisis yang lebih lengkap, pertimbangkan metrik kesehatan lain. Metode alternatif terbaik mencakup: pengukuran <strong>Persentase Lemak Tubuh</strong>, rasio <strong>Lingkar Pinggang-ke-Pinggul (<em>Waist-to-Hip Ratio</em>)</strong> untuk menilai distribusi lemak visceral, dan tentunya, konsultasi rutin dengan profesional kesehatan. Dengan memahami batasan ini, Anda dapat menempatkan hasil IMT Anda dalam konteks yang benar untuk pengambilan keputusan kesehatan yang lebih akurat.`,
                sectionHeader3: "Langkah Selanjutnya: Menginterpretasi Hasil (Saran Tindakan)",
                content3: "Setelah mendapatkan IMT, BMR, dan TDEE, langkah selanjutnya adalah bertindak. Interpretasi hasil Anda harus fokus pada TDEE, di mana Anda dapat menentukan defisit (untuk penurunan berat badan) atau surplus (untuk penambahan berat badan) kalori harian yang aman. <br><br> Jika target Anda adalah <strong>menurunkan berat badan</strong>, Anda perlu menciptakan defisit kalori. Sebagai panduan umum, pengurangan 500 Kalori dari TDEE Anda per hari akan menghasilkan penurunan sekitar 0.5 kg berat badan per minggu—ini adalah laju yang sehat dan berkelanjutan. Jika target Anda adalah <strong>menambah berat badan</strong>, Anda perlu menciptakan surplus kalori, menambahkan 500 Kalori ke TDEE Anda per hari. <br><br> Penting untuk selalu memastikan asupan kalori Anda tidak pernah turun di bawah BMR Anda untuk menjaga fungsi tubuh dasar. Gunakan kalkulator kami untuk menemukan target kalori Anda, kemudian mulai lacak nutrisi Anda dengan alat kami yang lain (yang akan datang). Selalu ingat untuk berkonsultasi dengan dokter atau ahli gizi sebelum membuat perubahan pola makan yang signifikan.",
            
                // Tambahkan di dalam translations.id
                footerPrivacy: "Kebijakan Privasi",
                footerTerms: "Syarat Ketentuan",
                footerAbout: "Tentang Kami",
                footerContact: "Hubungi Kami",
                footerDev: "Dikembangkan oleh DTID Analytics.",
            
            
            },
            en: {
                appTitle: "Health Analysis Calculator (BMI & BMR/TDEE)",
                headerTitle: "Body Mass Index (BMI) & Calorie Analyzer",
                toolSubtitle: "Complete Health Analysis: Calculate your BMI, BMR, & Calorie Needs to receive an accurate guide for reaching your ideal weight.",
                backToCatalogText: "Back to Tools Catalog",
                labelWeight: "Weight (kg)",
                labelHeight: "Height (cm)",
                labelAge: "Age (Years)",
                labelGender: "Gender",
                genderMale: "Male",
                genderFemale: "Female",
                labelActivity: "Activity Level (TDEE)",
                activitySedentary: "Sedentary (Little or no exercise)",
                activityLight: "Lightly Active (1-3 days/week)",
                activityModerate: "Moderately Active (3-5 days/week)",
                activityVery: "Very Active (6-7 days/week)",
                activityExtra: "Extra Active (Hard daily exercise)",
                calculateButton: "Calculate BMI & Calories",
                labelYourBmi: "Your BMI",
                labelCategory: "Category",
                classificationTitle: "BMI Classification (WHO Standard)",
                tableHeaderCategory: "Category",
                tableHeaderBmi: "BMI (kg/m²)",
                catUnderweight: "Underweight",
                catNormal: "Normal Weight",
                catOverweight: "Overweight",
                catObese1: "Obese Class I",
                catObese2: "Obese Class II",
                catObese3: "Obese Class III",
                inputError: "Please enter valid values for Weight, Height, and Age.",
                placeholderWeight: "E.g.: 70",
                placeholderHeight: "E.g.: 175",
                placeholderAge: "E.g.: 30",
                adviceNormal: "Your BMI is in the normal range. Maintain your healthy lifestyle!",
                adviceUnderweight: (minWeight, maxWeight) => `You are below the ideal weight. The normal weight range for your height is between ${minWeight} kg and ${maxWeight} kg.`,
                adviceOverweight: (minWeight, maxWeight) => `You are overweight. The normal weight range for your height is between ${minWeight} kg and ${maxWeight} kg.`,
                actionNormal: "Continue with a balanced diet and regular activity.",
                actionUnderweight: "Consult a nutritionist for a healthy weight gain plan.",
                actionOverweight: "Work toward weight loss. To reduce body fat, you must create a negative energy balance by reducing the amount of calories from the food you consume while increasing the calories you burn through regular exercise. See the Health Analysis tab for your target.",
                tabBmiText: "BMI Result",
                tabAnalysisText: "Health Analysis",
                analysisHeader: "Your Daily Calorie Needs Estimation",
                labelBmr: "Basal Metabolic Rate (BMR)",
                bmrDescription: "Calories burned at rest.",
                labelTdee: "Total Daily Energy Expenditure (TDEE)",
                tdeeDescription: "Estimated calories burned including activity.",
                calorieAdviceTitle: "Weight Goal Calorie Advice",
                maintainAdvice: "Maintain Weight:",
                loseAdvice: "Mild Weight Loss (500 kcal Deficit):",
                gainAdvice: "Mild Weight Gain (500 kcal Surplus):",
                sectionHeader1: "Understanding Your Health Metrics: Beyond BMI",
                content1: "The Body Mass Index (BMI) is a starting point, but true health requires a wider view. Our analysis tool combines BMI, BMR (resting calorie rate), and TDEE (total daily calorie needs) to provide you with a comprehensive roadmap, connecting your current weight status with your daily energy requirements. <br><br> Understanding these three metrics simultaneously is key to effective weight management. BMI tells you where you stand on the general population scale. BMR (<strong>Basal Metabolic Rate</strong>) tells you how many calories your body burns *just to maintain basic functions*—like breathing and maintaining body temperature—without accounting for activity. <br><br> Then, TDEE (<strong>Total Daily Energy Expenditure</strong>) is the most important metric for action. TDEE is the estimated total number of calories you burn per day, including your BMR plus all physical activity (from washing dishes to intense exercise). By knowing your TDEE accurately, you can precisely determine the daily calorie target needed to maintain, lose, or gain weight in the healthiest way possible. Moving beyond BMI with BMR and TDEE data transforms your approach from mere diagnosis to accurate nutritional planning.",
                sectionHeader2: "Critical Limitations of BMI (For In-Depth Analysis)",
                content2Intro: `While the Body Mass Index (BMI) serves as a quick screening tool recognized by the World Health Organization (WHO) for identifying weight categories, it is crucial for users of this tool to understand its critical limitations. BMI is simply a mathematical calculation that measures the ratio of your total body weight to the square of your height. This formula <strong>fails to distinguish</strong> the components that make up your body mass (fat, muscle, bone, and water). This methodological flaw often leads to misclassification in certain populations.`,
                case1Header: `Case 1: Athletes and Bodybuilders (High Muscle Mass)`,
                case1Desc: `This is the most frequently cited limitation of BMI. Muscle tissue is significantly denser and heavier than fat tissue by volume. An athlete or bodybuilder with high muscle mass might register a BMI over 25, automatically classifying them as <strong>Overweight</strong> or even Obese.`,
                case1AdviceTitle: `Additional Action Advice:`,
                case1Advice1: `BMI can still serve as a <strong>consistency monitoring metric</strong> during training seasons.`,
                case1Advice2: `Use our TDEE result (in the Health Analysis tab) to personalize your calorie intake for maintaining or building muscle mass.`,
                case1Advice3: `**Mandatory:** Get a more accurate body fat percentage measurement (using <em>calipers</em> or DEXA <em>scan</em>) to confirm your true body composition.`,
                case2Header: `Case 2: Elderly (Sarcopenia and Low Muscle Mass)`,
                case2Desc: `Conversely, BMI can also underestimate health risks in the elderly. As we age, people naturally lose muscle mass (a condition known as Sarcopenia). An elderly person might have a seemingly "normal" or even "underweight" BMI reading (e.g., BMI 22), yet their body fat percentage could be dangerously high because they have lost dense muscle tissue. This condition is known as Normal-Weight Obesity.`,
                case2AdviceTitle: `Additional Action Advice:`,
                case2Advice1: `Use the BMI result as a <strong>trigger to increase physical activity</strong>, even if the result looks normal.`,
                case2Advice2: `The calculated BMR result is a vital metric for monitoring the basic calorie needs of the elderly.`,
                case2Advice3: `**Mandatory:** Focus on regular resistance training to prevent further muscle loss and consult your daily protein intake.`,
                case3Header: `Case 3: Fat Distribution (Heart Risk)`,
                case3Desc: `Another major limitation of BMI is its failure to assess <strong>fat distribution</strong>. An individual with a normal BMI (e.g., 23.5) but high fat deposits around the abdomen (visceral fat) carries a significantly higher risk of cardiovascular disease and diabetes. Visceral fat is metabolically active and toxic.`,
                case3AdviceTitle: `Additional Action Advice:`,
                case3Advice1: `A normal BMI is a good start, but it's still **mandatory to monitor your abdominal circumference**.`,
                case3Advice2: `Measure your waist circumference: ideally below 102 cm (Men) and 88 cm (Women) per WHO standards.`,
                case3Advice3: `If the threshold is exceeded, focus on a calorie deficit (using calculated TDEE) and engage in regular cardio exercises.`,
                altMetricsHeader: `Superior Alternative Metrics`,
                altMetricsDesc: `We encourage users not to rely solely on the BMI number. For a more complete analysis, consider other health metrics. Superior alternative methods include: measuring <strong>Body Fat Percentage</strong>, the <strong>Waist-to-Hip Ratio</strong> to assess visceral fat distribution, and, of course, regular consultation with a healthcare professional. By understanding these limitations, you can place your BMI result into the correct context for more accurate health decision-making.`,
                sectionHeader3: "Next Steps: Interpreting Results (Actionable Advice)",
                content3: "Once you have your BMI, BMR, and TDEE, the next step is action. Interpreting your results should focus on TDEE, where you can determine a safe daily calorie deficit (for weight loss) or surplus (for weight gain) per day. <br><br> If your goal is <strong>weight loss</strong>, you need to create a calorie deficit. As a general guide, reducing 500 Calories from your TDEE per day will result in a loss of about 0.5 kg of body weight per week—this is a healthy and sustainable rate. If your goal is <strong>weight gain</strong>, you need to create a calorie surplus, adding 500 Calories to your TDEE per day. <br><br> It is crucial to always ensure your calorie intake never drops below your BMR to maintain basic bodily functions. Use our calculator to find your calorie target, then start tracking your nutrition with our other tools (coming soon). Always remember to consult a doctor or nutritionist before making significant dietary changes.",
                // Tambahkan di dalam translations.en
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms of Service",
                footerAbout: "About Us",
                footerContact: "Contact Us",
                footerDev: "Developed by DTID Analytics.",
            
            }
        };

        let currentLang = 'en';

        function setActiveTab(tabName) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            if (tabName === 'bmi') {
                document.getElementById('tabBmi').classList.add('active');
                document.getElementById('contentBmi').classList.remove('hidden');
            } else if (tabName === 'analysis') {
                document.getElementById('tabAnalysis').classList.add('active');
                document.getElementById('contentAnalysis').classList.remove('hidden');
            }
        }

        function calculateBMR(weightKg, heightCm, ageYears, gender) {
            let bmr = 0;
            if (gender === 'male') {
                bmr = 66.5 + (13.75 * weightKg) + (5.003 * heightCm) - (6.75 * ageYears);
            } else {
                bmr = 655.1 + (9.563 * weightKg) + (1.850 * heightCm) - (4.676 * ageYears);
            }
            return Math.round(bmr);
        }

        function calculateTDEE(bmr, activityMultiplier) {
            return Math.round(bmr * activityMultiplier);
        }

        function getBMICategory(bmi, lang) {
            let categoryKey = '';
            let colorClass = '';

            if (bmi < 18.5) {
                categoryKey = 'underweight';
                colorClass = 'text-yellow-600';
            } else if (bmi >= 18.5 && bmi <= 24.9) {
                categoryKey = 'normal';
                colorClass = 'text-green-600';
            } else if (bmi >= 25.0 && bmi <= 29.9) {
                categoryKey = 'overweight';
                colorClass = 'text-orange-600';
            } else { 
                categoryKey = 'obese3';
                colorClass = 'text-red-700';
            }
            
            const categoryText = translations[lang]['cat' + categoryKey.charAt(0).toUpperCase() + categoryKey.slice(1)];
            return { categoryText, colorClass, categoryKey }; 
        }

        function calculateNormalWeightRange(heightM) {
            const minNormalBMI = 18.5;
            const maxNormalBMI = 24.9;
            const minWeight = minNormalBMI * heightM * heightM;
            const maxWeight = maxNormalBMI * heightM * heightM;
            return {
                min: minWeight.toFixed(1),
                max: maxWeight.toFixed(1)
            };
        }

        function calculateFullHealthMetrics() {
            const weight = parseFloat(document.getElementById('weightInput').value);
            const heightCm = parseFloat(document.getElementById('heightInput').value);
            const age = parseFloat(document.getElementById('ageInput').value);
            const gender = document.getElementById('genderSelect').value;
            const activityMultiplier = parseFloat(document.getElementById('activitySelect').value);

            const lang = currentLang;
            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');
            const weightAdviceBox = document.getElementById('weightAdviceBox');
            const adviceText = document.getElementById('adviceText');
            const actionAdviceText = document.getElementById('actionAdviceText');
            
            if (isNaN(weight) || weight <= 0 || isNaN(heightCm) || heightCm <= 0 || isNaN(age) || age < 1) {
                document.getElementById('errorText').textContent = translations[lang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                weightAdviceBox.classList.add('hidden');
                return;
            }
            
            errorAlert.classList.add('hidden');
            const heightM = heightCm / 100;
            const bmi = weight / (heightM * heightM);
            const formattedBmi = bmi.toFixed(1);
            const { categoryText, colorClass, categoryKey } = getBMICategory(bmi, lang);
            
            document.getElementById('bmiResult').textContent = formattedBmi;
            const categoryResultElement = document.getElementById('categoryResult');
            categoryResultElement.textContent = categoryText;
            categoryResultElement.className = `text-xl font-semibold mt-1 ${colorClass}`;
            
            const bmrValue = calculateBMR(weight, heightCm, age, gender);
            const tdeeValue = calculateTDEE(bmrValue, activityMultiplier);
            document.getElementById('bmrResult').textContent = `${bmrValue} Kkal`;
            document.getElementById('tdeeResult').textContent = `${tdeeValue} Kkal`;
            document.getElementById('maintainValue').textContent = `${tdeeValue} Kkal/hari`;
            document.getElementById('loseValue').textContent = `${Math.max(tdeeValue - 500, 1200)} Kkal/hari`;
            document.getElementById('gainValue').textContent = `${tdeeValue + 500} Kkal/hari`;

            const normalRange = calculateNormalWeightRange(heightM);
            let adviceMessage = '';
            let actionMessage = '';
            let adviceBoxClass = '';

            if (categoryKey === 'normal') {
                adviceMessage = translations[lang].adviceNormal;
                actionMessage = translations[lang].actionNormal;
                adviceBoxClass = 'bg-green-100 border-green-300';
            } else if (categoryKey === 'underweight') {
                adviceMessage = translations[lang].adviceUnderweight(normalRange.min, normalRange.max);
                actionMessage = translations[lang].actionUnderweight;
                adviceBoxClass = 'bg-yellow-100 border-yellow-300';
            } else { 
                adviceMessage = translations[lang].adviceOverweight(normalRange.min, normalRange.max);
                actionMessage = translations[lang].actionOverweight;
                adviceBoxClass = 'bg-red-100 border-red-300';
            }
            
            adviceText.textContent = adviceMessage;
            actionAdviceText.textContent = actionMessage;
            weightAdviceBox.className = `p-3 mt-4 mb-4 rounded-lg border ${adviceBoxClass}`;
            weightAdviceBox.classList.remove('hidden'); 

            resultBox.classList.add('visible');
            setActiveTab('bmi');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Logika baru: Mencari elemen toggle di komponen global
            const languageSwitcher = document.getElementById('languageSwitcher');
            if(languageSwitcher) {
                languageSwitcher.classList.remove('lang-en', 'lang-id');
                languageSwitcher.classList.add(`lang-${lang}`);
            }

            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').textContent = t.toolSubtitle;
            
            // Cek apakah elemen header global sudah ada sebelum diganti teksnya

            // --- LOGIKA BARU UNTUK FOOTER MODULAR ---
            // Pastikan elemen footer sudah dimuat oleh components.js
            if(document.getElementById('footerPrivacy')) {
            document.getElementById('footerPrivacy').textContent = t.footerPrivacy;
            document.getElementById('footerTerms').textContent = t.footerTerms;
            document.getElementById('footerAbout').textContent = t.footerAbout;
            document.getElementById('footerContact').textContent = t.footerContact;
            // Khusus untuk Developer text karena ada span di dalamnya, kita bisa pakai innerHTML atau textContent sebagian
            // Tapi untuk aman dan rapi sesuai template components.js:
            const devSpan = document.getElementById('footerDev');
            if(devSpan) devSpan.textContent = t.footerDev;
}


            const backBtn = document.getElementById('backToCatalogText');
            if(backBtn) backBtn.textContent = t.backToCatalogText;

            document.getElementById('labelWeight').textContent = t.labelWeight;
            document.getElementById('labelHeight').textContent = t.labelHeight;
            document.getElementById('labelAge').textContent = t.labelAge;
            document.getElementById('labelGender').textContent = t.labelGender;
            document.getElementById('genderMale').textContent = t.genderMale;
            document.getElementById('genderFemale').textContent = t.genderFemale;
            document.getElementById('labelActivity').textContent = t.labelActivity;
            document.getElementById('calculateButton').textContent = t.calculateButton;

            document.getElementById('activitySedentary').textContent = t.activitySedentary;
            document.getElementById('activityLight').textContent = t.activityLight;
            document.getElementById('activityModerate').textContent = t.activityModerate;
            document.getElementById('activityVery').textContent = t.activityVery;
            document.getElementById('activityExtra').textContent = t.activityExtra;
            document.getElementById('weightInput').placeholder = t.placeholderWeight;
            document.getElementById('heightInput').placeholder = t.placeholderHeight;
            document.getElementById('ageInput').placeholder = t.placeholderAge;

            document.getElementById('labelYourBmi').textContent = t.labelYourBmi;
            document.getElementById('labelCategory').textContent = t.labelCategory;
            document.getElementById('classificationTitle').textContent = t.classificationTitle;
            
            document.getElementById('tableHeaderCategory').textContent = t.tableHeaderCategory;
            document.getElementById('tableHeaderBmi').textContent = t.tableHeaderBmi;
            document.getElementById('catUnderweight').textContent = t.catUnderweight;
            document.getElementById('catNormal').textContent = t.catNormal;
            document.getElementById('catOverweight').textContent = t.catOverweight;
            document.getElementById('catObese1').textContent = t.catObese1;
            document.getElementById('catObese2').textContent = t.catObese2;
            document.getElementById('catObese3').textContent = t.catObese3;

            document.getElementById('tabBmi').textContent = t.tabBmiText;
            document.getElementById('tabAnalysis').textContent = t.tabAnalysisText;
            document.getElementById('analysisHeader').textContent = t.analysisHeader;
            document.getElementById('labelBmr').textContent = t.labelBmr;
            document.getElementById('bmrDescription').textContent = t.bmrDescription;
            document.getElementById('labelTdee').textContent = t.labelTdee;
            document.getElementById('tdeeDescription').textContent = t.tdeeDescription;
            document.getElementById('calorieAdviceTitle').textContent = t.calorieAdviceTitle;
            document.getElementById('maintainAdvice').firstChild.textContent = t.maintainAdvice;
            document.getElementById('loseAdvice').firstChild.textContent = t.loseAdvice;
            document.getElementById('gainAdvice').firstChild.textContent = t.gainAdvice;
            
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2Intro').innerHTML = t.content2Intro;
            
            document.getElementById('case1Header').textContent = t.case1Header;
            document.getElementById('case1Desc').innerHTML = t.case1Desc;
            document.getElementById('case1AdviceTitle').textContent = t.case1AdviceTitle;
            document.getElementById('case1Advice').innerHTML = `
                <li>${t.case1Advice1}</li>
                <li>${t.case1Advice2}</li>
                <li>${t.case1Advice3}</li>
            `;
            
            document.getElementById('case2Header').textContent = t.case2Header;
            document.getElementById('case2Desc').innerHTML = t.case2Desc;
            document.getElementById('case2AdviceTitle').textContent = t.case2AdviceTitle;
            document.getElementById('case2Advice').innerHTML = `
                <li>${t.case2Advice1}</li>
                <li>${t.case2Advice2}</li>
                <li>${t.case2Advice3}</li>
            `;
            
            document.getElementById('case3Header').textContent = t.case3Header;
            document.getElementById('case3Desc').innerHTML = t.case3Desc;
            document.getElementById('case3AdviceTitle').textContent = t.case3AdviceTitle;
            document.getElementById('case3Advice').innerHTML = `
                <li>${t.case3Advice1}</li>
                <li>${t.case3Advice2}</li>
                <li>${t.case3Advice3}</li>
            `;
            
            document.getElementById('altMetricsHeader').textContent = t.altMetricsHeader;
            document.getElementById('altMetricsDesc').innerHTML = t.altMetricsDesc;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3; 

            const bmiResultElement = document.getElementById('bmiResult');
            if (bmiResultElement.textContent !== '--') {
                 calculateFullHealthMetrics();
            }

            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }

            // --- TAMBAHKAN BARIS INI DI SINI ---
            updateRelatedContent(lang); 
            // -----------------------------------


        }
        
        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage('en'); 
        });

    // ============================================================
    // LOGIKA BAHASA: BAGIAN RELATED TOOLS & ARTICLES
    // ============================================================

    // Fungsi untuk mengganti teks berdasarkan bahasa yang aktif
    function updateRelatedContent(lang) {
        // Ambil semua elemen yang punya atribut terjemahan di section ini
        const translatableElements = document.querySelectorAll('#related-tools-section [data-en]');
        
        translatableElements.forEach(el => {
            // Cek apakah ada teks untuk bahasa yang diminta (data-en atau data-id)
            const newText = el.getAttribute(`data-${lang}`);
            if (newText) {
                el.textContent = newText;
            }
        });
    }

    // ============================================================
    // LOGIKA WARNA DINAMIS (THEME MANAGER)
    // Otomatis menyesuaikan warna berdasarkan window.headerCategory
    // ============================================================
    function applyDynamicTheme() {
        const category = window.headerCategory || 'health'; // Default ke health jika null
        
        // Peta Warna Tailwind per Kategori
        const themes = {
            health: {
                bg: 'bg-blue-600',
                text: 'text-blue-600',
                border: 'hover:border-blue-400',
                hoverText: 'group-hover:text-blue-700',
                bgGroup: 'group-hover:bg-blue-500'
            },
            finance: {
                bg: 'bg-green-600',
                text: 'text-green-600',
                border: 'hover:border-green-400',
                hoverText: 'group-hover:text-green-700',
                bgGroup: 'group-hover:bg-green-500'
            },
            productivity: {
                bg: 'bg-purple-600',
                text: 'text-purple-600',
                border: 'hover:border-purple-400',
                hoverText: 'group-hover:text-purple-700',
                bgGroup: 'group-hover:bg-purple-500'
            }
        };

        const theme = themes[category] || themes.health;

        // Terapkan ke elemen yang punya marker class
        document.querySelectorAll('.dynamic-bg').forEach(el => el.classList.add(theme.bg));
        document.querySelectorAll('.dynamic-text').forEach(el => el.classList.add(theme.text));
        document.querySelectorAll('.dynamic-border').forEach(el => el.classList.add(theme.border));
        document.querySelectorAll('.dynamic-hover-text').forEach(el => el.classList.add(theme.hoverText));
        document.querySelectorAll('.dynamic-bg-group').forEach(el => el.classList.add(theme.bgGroup));
    }

    // Panggil fungsi ini SAAT AWAL HALAMAN DIMUAT
    document.addEventListener('DOMContentLoaded', () => {
        // ... kode existing load language ...
        
        applyDynamicTheme(); // <--- TAMBAHKAN PEMANGGIL INI
    });


    // ============================================================
    // PERBAIKAN: OBSERVER BAHASA (Agar Konten BMI Merespon Header)
    // ============================================================
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                const currentLang = document.documentElement.lang || 'en';
                // Panggil fungsi setLanguage milik BMI
                setLanguage(currentLang);
            }
        });
    });
    
    // Aktifkan pemantauan pada tag <html>
    observer.observe(document.documentElement, { attributes: true });


    </script>
</body>
</html>