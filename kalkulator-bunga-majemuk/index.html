<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Compound Interest Calculator: Calculate the future value of your investments with monthly or yearly compounding. Visualize the power of exponential growth." />
    
    <meta name="keywords" content="Compound Interest Calculator, Future Value Calculator, Investment Return Calculator, Savings Growth, Kalkulator Bunga Majemuk, Hitung Bunga Berbunga, Simulasi Investasi, Tabungan Berjangka, Bunga Deposito, Rumus Bunga Majemuk" />
 
    <title id="appTitle">Compound Interest Calculator (Future Value) - Digital Tools ID</title>
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-bunga-majemuk/" />
    <link rel="icon" href="data:,"> <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-bunga-majemuk/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-bunga-majemuk/index.html" />

    <meta name="theme-color" content="#27ae60"> <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* CSS LOKAL (Hard Lock & Theme) */
        
        /* Layout Hard Lock 50% Desktop */
        .layout-article-fixed { width: 100%; }
        @media (min-width: 1024px) {
            .layout-article-fixed { width: 50% !important; margin-left: auto !important; margin-right: auto !important; }
        }

        /* Warna Spesifik Alat (Finance Green) */
        .text-finance-color { color: #27ae60; }
        .bg-finance-color { background-color: #27ae60; }
        .border-finance-color { border-color: #27ae60; }
        .ring-finance-color { --tw-ring-color: #27ae60; }
        
        .bg-finance-color\/5 { background-color: rgba(39, 174, 96, 0.05); }
        .border-finance-color\/30 { border-color: rgba(39, 174, 96, 0.3); }

        /* Gaya Tombol Aksi */
        .calculate-button {
            background-color: #27ae60;
            box-shadow: 0 4px #1e8449;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #1e8449;
            background-color: #219150;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #1e8449;
        }

        /* Gaya Hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 1200px; 
            padding: 1.5rem; 
        }
        
        .input-description {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
        
        /* Hover effects for tool cards */
        .tool-card:hover {
            border-color: #27ae60;
            transform: translateY(-2px);
        }
        
        /* Dynamic Text Highlight */
        .dynamic-text:hover {
            color: #16a34a; /* Green-600 */
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>
    <script> window.headerCategory = 'finance'; </script>

    <main class="flex-grow p-4 sm:p-8 mx-auto layout-article-fixed">
        <div class="w-full bg-white shadow-xl rounded-xl p-6 sm:p-10 border border-gray-100">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3">Compound Interest Calculator</h1>
            
            <p id="toolSubtitle" class="text-sm text-gray-600 mb-6 leading-relaxed text-justify">
                Calculate the future value of your investments and harness the power of compounding.
            </p>
            
            <form id="compoundForm" onsubmit="calculateCompoundInterest(event)" class="space-y-4">
                
                <div class="relative">
                    <label for="initialPrincipal" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="labelPrincipal">Initial Investment</label>
                    <input type="text" id="initialPrincipal" inputmode="numeric" value="10.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 text-sm" required>
                    <p class="input-description" id="descPrincipal">The initial sum of money you deposit on the first day.</p>
                </div>
                 
                <div class="relative">
                    <label for="annualContribution" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="labelContribution">Annual Contribution</label>
                    <input type="text" id="annualContribution" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 text-sm" required>
                    <p class="input-description" id="descContribution">Total amount you add each year (divided monthly).</p>
                </div>

                <div class="relative">
                    <label for="annualRate" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="labelRate">Annual Interest Rate (%)</label>
                    <input type="number" id="annualRate" min="0" step="0.1" value="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 text-sm" required>
                    <p class="input-description" id="descRate">Expected average return per year.</p>
                </div>
                
                <div class="relative">
                    <label for="years" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="labelYears">Investment Period (Years)</label>
                    <input type="number" id="years" min="1" max="50" value="10" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 text-sm" required>
                    <p class="input-description" id="descYears">Total duration of your investment.</p>
                </div>

                <div class="relative">
                    <label for="compoundingFrequency" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="labelFrequency">Compounding Frequency</label>
                    <select id="compoundingFrequency" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white transition duration-150 text-sm">
                        <option value="1" id="optAnnually">Annually (1x/year)</option>
                        <option value="2" id="optSemiAnnually">Semi-Annually (2x/year)</option>
                        <option value="4" id="optQuarterly">Quarterly (4x/year)</option>
                        <option value="12" id="optMonthly" selected>Monthly (12x/year)</option>
                    </select>
                    <p class="input-description" id="descFrequency">How often interest is added back to principal.</p>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-bold py-3 rounded-xl transform focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-opacity-50 text-sm">
                    Calculate Future Value
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-xs" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-6 bg-finance-color/5 border border-finance-color/30 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-lg font-bold mb-4 text-gray-800 border-b pb-2">Investment Growth Summary</h3>
                
                <div class="space-y-4">
                    <div class="p-4 bg-white border border-green-200 rounded-lg shadow-sm text-center">
                        <p id="labelFutureValue" class="text-sm text-green-800 font-bold uppercase mb-1">Total Future Value</p>
                        <p id="futureValueResult" class="text-4xl font-extrabold text-finance-color">0</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-3 bg-gray-50 border border-gray-200 rounded-lg text-center">
                            <p id="labelTotalPrincipal" class="text-xs text-gray-500 font-bold uppercase mb-1">Total Principal Invested</p>
                            <p id="totalPrincipalResult" class="text-base font-bold text-gray-700">0</p>
                        </div>
                        <div class="p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center">
                            <p id="labelTotalInterest" class="text-xs text-yellow-800 font-bold uppercase mb-1">Total Interest Earned</p>
                            <p id="totalInterestResult" class="text-base font-bold text-yellow-700">0</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-lg font-bold text-gray-800 mb-3">The Magic of Compounding</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader4" class="text-base font-bold text-gray-800 mb-2">Case Study</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul id="caseExampleList" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="exampleType"></li>
                    <li id="example1"></li>
                    <li id="example2"></li>
                    <li id="example3"></li>
                    <li id="exampleResult"></li>
                </ul>

                <h3 id="sectionHeader5" class="text-base font-bold text-gray-800 mb-2">Relevant Investments</h3>
                <p id="content5" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul id="relevantInvestmentList" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="relevant1"></li>
                    <li id="relevant2"></li>
                </ul>

                <h3 id="sectionHeader2" class="text-base font-bold text-gray-800 mb-2">Why Compounding Frequency Matters</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-base font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content3" class="text-gray-600 text-xs leading-relaxed text-justify mb-6 italic"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="max-w-4xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 bg-green-600 mr-3 rounded"></div> 
            <h2 class="text-xl font-bold text-gray-800" 
                data-en="More Finance Tools" 
                data-id="Alat Keuangan Lainnya">
                More Finance Tools
            </h2>
        </div>
    
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-networth/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Net Worth Calculator"
                    data-id="Kalkulator Kekayaan Bersih">
                    Net Worth Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Track your total assets minus liabilities."
                    data-id="Lacak total aset dikurangi kewajiban Anda.">
                    Track your total assets minus liabilities.
                </p>
            </a>

            <a href="../kalkulator-dana-darurat/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Emergency Fund Calculator"
                    data-id="Kalkulator Dana Darurat">
                    Emergency Fund Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Secure your financial stability."
                    data-id="Amankan stabilitas finansial Anda.">
                    Secure your financial stability.
                </p>
            </a>
            
            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Monthly Budget Calculator"
                    data-id="Kalkulator Anggaran Bulanan">
                    Monthly Budget Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Plan your expenses using the 50/30/20 rule."
                    data-id="Rencanakan pengeluaran dengan aturan 50/30/20.">
                    Plan your expenses using the 50/30/20 rule.
                </p>
            </a>
        </div>
    
        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles:" data-id="Artikel Terkait:">Related Articles:</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/analisis-titik-impas-bisnis.html" class="flex items-center text-sm hover:underline group dynamic-text">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Business Viability Analysis: BEP, NPV & IRR" 
                              data-id="Analisis Kelayakan Bisnis: BEP, NPV & IRR">
                            Business Viability Analysis: BEP, NPV & IRR
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>

    <script>
        // TRANSLATION & LOGIC
        const translations = {
            id: {
                appTitle: "Kalkulator Bunga Majemuk",
                headerTitle: "Kalkulator Bunga Majemuk",
                toolSubtitle: "Hitung nilai masa depan investasi Anda dan manfaatkan kekuatan penggandaan.",
                
                labelPrincipal: "Modal Awal",
                descPrincipal: "Jumlah uang yang Anda masukkan pertama kali (modal awal) di hari pertama investasi.",
                labelContribution: "Kontribusi Tahunan",
                descContribution: "Total jumlah uang yang akan Anda tambahkan ke investasi setiap tahun. Kalkulator ini membagi jumlah ini secara merata per bulan.",
                labelRate: "Suku Bunga Tahunan (%)",
                descRate: "Rata-rata persentase bunga/keuntungan yang Anda harapkan per tahun.",
                labelYears: "Periode Investasi (Tahun)",
                descYears: "Berapa lama total waktu investasi Anda berlangsung.",
                labelFrequency: "Frekuensi Penggabungan Bunga",
                descFrequency: "Seberapa sering bunga dihitung dan ditambahkan kembali ke modal pokok.",
                optAnnually: "Tahunan (1x/tahun)",
                optSemiAnnually: "Semi-Tahunan (2x/tahun)",
                optQuarterly: "Kuartalan (4x/tahun)",
                optMonthly: "Bulanan (12x/tahun)",
                calculateButton: "Hitung Nilai Masa Depan",
                inputError: "Mohon masukkan semua nilai input yang valid (Modal, Kontribusi, Bunga, dan Tahun harus >= 0).",
                
                resultHeader: "Ringkasan Pertumbuhan Investasi",
                labelFutureValue: "Total Nilai Masa Depan",
                labelTotalPrincipal: "Total Modal yang Diinvestasikan",
                labelTotalInterest: "Total Bunga yang Diperoleh",

                sectionHeader1: "Keajaiban Penggandaan (Compounding)",
                content1: "Bunga Majemuk (Compound Interest) adalah bunga yang dihitung dari jumlah pokok awal ditambah dengan semua bunga yang telah diakumulasikan dari periode-periode investasi sebelumnya. Ini adalah konsep yang oleh Albert Einstein disebut sebagai 'keajaiban dunia kedelapan'. <br><br>Dengan menginvestasikan kembali bunga yang Anda peroleh, Anda akan menghasilkan bunga atas bunga, yang menyebabkan pertumbuhan investasi Anda menjadi eksponensial seiring waktu, terutama dalam jangka panjang.",
                
                sectionHeader4: "Contoh Kasus dan Implementasi Kalkulator",
                content4: "Mari kita lihat implementasi perhitungan bunga majemuk dengan contoh praktis. **Konteks investasi dalam contoh ini adalah Tabungan Berjangka Bank**, di mana bunga dihitung dan ditambahkan kembali secara bulanan:",
                exampleType: "Jenis Investasi Contoh: Tabungan Berjangka Bank (Penggabungan Bulanan).",
                example1: "Modal Awal: 10.000.000",
                example2: "Kontribusi Tahunan: 1.200.000 (Setara 100.000/bulan)",
                example3: "Periode Investasi: 10 Tahun, Suku Bunga: 5% per tahun, Penggabungan: Bulanan.",
                exampleResult: "Dengan input di atas, total nilai masa depan (Future Value) investasi Anda setelah 10 tahun adalah sekitar 24.385.700. Ini terdiri dari 22.000.000 modal yang Anda setorkan dan 2.385.700 total bunga yang dihasilkan.",

                sectionHeader5: "Investasi Relevan dengan Kalkulator Bunga Majemuk",
                content5: "Dua jenis investasi lain yang relevan dan sering menggunakan kalkulasi bunga majemuk adalah:",
                relevant1: "Sertifikat Deposito (Certificate of Deposit/CD): Instrumen investasi yang memberikan bunga pada interval tertentu (bulanan, kuartalan) dan dapat diinvestasikan kembali (compounded).",
                relevant2: "Asuransi Dwiguna (Endowment): Polis asuransi yang menggabungkan proteksi dan tabungan, di mana elemen investasi dapat bertumbuh secara majemuk dari waktu ke waktu.",

                sectionHeader2: "Mengapa Frekuensi Penggabungan Penting",
                content2: "Frekuensi penggabungan bunga ('compounding frequency') menunjukkan seberapa sering bunga Anda dihitung dan ditambahkan kembali ke modal pokok. Semakin sering frekuensi penggabungan (misalnya, Bulanan vs. Tahunan), semakin cepat investasi Anda tumbuh. Ini karena bunga yang ditambahkan ke modal pokok Anda mulai menghasilkan bunga *lebih cepat*, memanfaatkan penggandaan secara maksimal. Selalu cari investasi dengan frekuensi penggabungan yang paling sering.",
                
                sectionHeader3: "Penting (Disclaimer)",
                content3: "Kalkulator ini menggunakan formula investasi sederhana untuk memproyeksikan nilai masa depan dan mengasumsikan suku bunga dan kontribusi konstan. Hasil ini adalah estimasi teoretis. Kinerja investasi aktual dapat sangat bervariasi karena biaya, pajak, inflasi, dan fluktuasi pasar. Selalu berkonsultasi dengan penasihat keuangan profesional sebelum membuat keputusan investasi.",
            },
            en: {
                appTitle: "Compound Interest Calculator",
                headerTitle: "Compound Interest Calculator",
                toolSubtitle: "Calculate the future value of your investments and harness the power of compounding.",
                
                labelPrincipal: "Initial Investment",
                descPrincipal: "The initial sum of money you deposit on the first day of the investment.",
                labelContribution: "Annual Contribution",
                descContribution: "The total amount of money you will add to the investment each year. This calculator divides this amount evenly per month.",
                labelRate: "Annual Interest Rate (%)",
                descRate: "The average percentage of interest/return you expect per year.",
                labelYears: "Investment Period (Years)",
                descYears: "The total duration for which your investment will run.",
                labelFrequency: "Compounding Frequency",
                descFrequency: "How often the interest is calculated and added back to the principal.",
                optAnnually: "Annually (1x/year)",
                optSemiAnnually: "Semi-Annually (2x/year)",
                optQuarterly: "Quarterly (4x/year)",
                optMonthly: "Monthly (12x/year)",
                calculateButton: "Calculate Future Value",
                inputError: "Please enter all valid input values (Principal, Contribution, Rate, and Years must be >= 0).",
                
                resultHeader: "Investment Growth Summary",
                labelFutureValue: "Total Future Value",
                labelTotalPrincipal: "Total Principal Invested",
                labelTotalInterest: "Total Interest Earned",

                sectionHeader1: "The Magic of Compounding",
                content1: "Compound interest is interest calculated on the initial principal, which also includes all of the accumulated interest from previous periods of an investment. This is the concept Albert Einstein famously called 'the eighth wonder of the world.' <br><br>By reinvesting the interest you earn, you generate interest on interest, leading to your investment growing exponentially over time, especially in the long run.",
                
                sectionHeader4: "Case Example and Calculator Implementation",
                content4: "Let's review the implementation of compound interest calculation with a practical example. **The investment context in this example is a Bank Time Deposit (Tabungan Berjangka)**, where interest is calculated and compounded monthly:",
                exampleType: "Example Investment Type: Bank Time Deposit (Monthly Compounding).",
                example1: "Initial Investment: 10,000,000",
                example2: "Annual Contribution: 1,200,000 (Equivalent to 100,000/month)",
                example3: "Investment Period: 10 Years, Interest Rate: 5% per annum, Compounding: Monthly.",
                exampleResult: "With the inputs above, the total future value of your investment after 10 years is approximately 24,385,700. This consists of 22,000,000 principal you contributed and 2,385,700 total interest earned.",

                sectionHeader5: "Relevant Investments for Compound Interest Calculator",
                content5: "Two other relevant investment types that often use compound interest calculation are:",
                relevant1: "Certificate of Deposit (CD): An investment instrument that pays interest at set intervals (monthly, quarterly) and can be reinvested (compounded).",
                relevant2: "Endowment Insurance: An insurance policy that combines protection and savings, where the investment element can grow through compounding over time.",

                sectionHeader2: "Why Compounding Frequency Matters",
                content2: "Compounding frequency indicates how often your interest is calculated and added back to the principal. The more frequent the compounding (e.g., Monthly vs. Annually), the faster your investment grows. This is because the interest added to your principal starts earning interest *sooner*, leveraging compounding to its maximum potential. Always look for investments with the most frequent compounding schedule possible.",
                
                sectionHeader3: "Disclaimer",
                content3: "This calculator uses a simplified investment formula to project future value and assumes a constant interest rate and contribution. The result is a theoretical estimate. Actual investment performance can vary significantly due to fees, taxes, inflation, and market fluctuations. Always consult a professional financial advisor before making investment decisions.",
            }
        };

        let currentLang = 'en';

        function formatNumber(amount) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = '';
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateCompoundInterest(event) {
            event.preventDefault();
            const P = cleanInput(document.getElementById('initialPrincipal').value);
            const A = cleanInput(document.getElementById('annualContribution').value);
            const r = parseFloat(document.getElementById('annualRate').value) / 100;
            const t = parseInt(document.getElementById('years').value) || 0;
            const n = parseInt(document.getElementById('compoundingFrequency').value) || 12;

            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            if (P < 0 || A < 0 || r < 0 || t < 0 || t > 50) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            let futureValue = P; 
            
            for (let i = 0; i < (t * n); i++) {
                const periodContribution = A / n;
                futureValue += periodContribution;
                futureValue = futureValue * (1 + (r / n));
            }
            
            const totalPrincipal = P + (A * t);
            const totalInterest = futureValue - totalPrincipal;

            document.getElementById('futureValueResult').textContent = formatNumber(Math.round(futureValue));
            document.getElementById('totalPrincipalResult').textContent = formatNumber(Math.round(totalPrincipal));
            document.getElementById('totalInterestResult').textContent = formatNumber(Math.round(totalInterest));

            resultBox.classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').innerHTML = t.toolSubtitle;
            
            const pValue = cleanInput(document.getElementById('initialPrincipal').value);
            const aValue = cleanInput(document.getElementById('annualContribution').value);

            const ids = [
                'labelPrincipal', 'descPrincipal', 'labelContribution', 'descContribution', 
                'labelRate', 'descRate', 'labelYears', 'descYears', 'labelFrequency', 'descFrequency', 
                'optAnnually', 'optSemiAnnually', 'optQuarterly', 'optMonthly', 'calculateButton', 
                'resultHeader', 'labelFutureValue', 'labelTotalPrincipal', 'labelTotalInterest', 
                'sectionHeader1', 'sectionHeader4', 'exampleType', 'example1', 'example2', 
                'example3', 'exampleResult', 'sectionHeader5', 'relevant1', 'relevant2', 
                'sectionHeader2', 'sectionHeader3'
            ];
            ids.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.textContent = t[id];
            });

            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('content4').innerHTML = t.content4;
            document.getElementById('content5').innerHTML = t.content5;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('content3').innerHTML = t.content3;

            document.getElementById('initialPrincipal').value = formatNumber(pValue);
            document.getElementById('annualContribution').value = formatNumber(aValue);
            
            if (document.getElementById('resultBox').classList.contains('visible')) {
                 calculateCompoundInterest({ preventDefault: () => {} });
            }

            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }
            
            // Translate Related Section
            document.querySelectorAll('#related-tools-section [data-en]').forEach(el => {
                const newText = el.getAttribute(`data-${lang}`);
                if (newText) el.textContent = newText;
            });
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            observer.observe(document.documentElement, { attributes: true });
            setLanguage('en'); 
        });
    </script>
</body>
</html>