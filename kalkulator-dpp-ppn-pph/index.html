<!DOCTYPE html>
<html lang="id">
<head>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-dpp-ppn-pph/" />
    <title id="pageTitle">Kalkulator Pajak Kontrak (DPP, PPN, PPh) - Alat Keuangan</title>
   
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864"
     crossorigin="anonymous"></script>
   
   
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f7fafc; }
        .main-container { max-width: 1000px; margin: auto; padding: 1.5rem; background: white; border-radius: 12px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .input-group label { font-weight: 600; color: #333; }
        .input-group input, .input-group select { 
            border: 1px solid #ccc; 
            border-radius: 8px; 
            padding: 0.75rem;
            transition: border-color 0.2s;
        }
        .input-group input:focus, .input-group select:focus {
            border-color: #27ae60; /* Warna fokus Keuangan */
            outline: none;
            box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.2);
        }
        .result-box {
            padding: 0.8rem;
            border-radius: 6px;
            margin-top: 0.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-start;
            height: 100%;
        }
        .result-label { font-weight: 500; font-size: 0.9rem; }
        .result-value { font-weight: 700; color: #1e3a8a; font-size: 1.05rem; margin-top: 0.1rem;}
        .net-value { font-weight: 800; color: #27ae60; font-size: 1.25rem; }
        .header-title { color: #2c3e50; }
        .note-box {
            background-color: #f0fdf4; /* green-50 */
            border-left: 4px solid #10b981; /* emerald-500 */
        }
        /* Warna Garis Keuangan */
        .card-finance { border-color: #27ae60; }

        /* Responsive grid for results */
        .result-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        @media (min-width: 640px) {
            .result-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* CSS Toggle Bahasa */
        .lang-toggle-container {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            background: rgba(255, 255, 255, 0.9); border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 4px; display: flex;
        }
        .lang-toggle-container button {
            transition: all 0.2s; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-weight: 500; color: #4b5563;
        }
        .lang-toggle-container button.active {
            font-weight: bold; background-color: #dbeafe; color: #1e3a8a;
        }
    </style>
</head>
<body class="antialiased text-gray-800 flex flex-col min-h-screen">
    
    <div id="languageSwitcher" class="lang-toggle-container">
        <button id="lang-en" onclick="setLanguage('en')">EN</button>
        <button id="lang-id" onclick="setLanguage('id')">ID</button>
    </div>

    <!-- Header Section -->
    <header class="bg-[#2c3e50] text-white py-4 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <a href="../index.html" id="backToCatalogLink" class="text-lg font-semibold tracking-tight text-gray-400 hover:text-white transition duration-150">
                &larr; <span id="backToCatalogText">Kembali ke Katalog Alat</span>
            </a>
            <h1 id="headerTitle" class="text-xl font-bold">Kalkulator Pajak Kontrak</h1>
        </div>
    </header>

    <main class="p-4 sm:p-8 flex-grow">
        <div class="main-container">
            <h1 id="mainHeading" class="text-3xl font-extrabold mb-2 header-title">Hitung DPP, PPN, dan PPh Kontrak Otomatis</h1>
            <p id="subHeading" class="text-gray-500 mb-6">Pahami dampak pajak (PPN 11% & PPh) pada berbagai skema pembayaran kontrak.</p>

            <!-- Deskripsi Penggunaan dan Edukasi Singkat -->
            <div class="note-box p-4 mb-8">
                <h3 id="useCaseTitle" class="font-bold text-lg text-[#10b981] mb-2">Kapan Kalkulator ini Digunakan?</h3>
                <p id="useCaseDesc" class="text-gray-700 text-sm mb-3">
                    Gunakan alat ini saat merancang atau meninjau kontrak jasa di mana **Klausul Pembayaran** Anda menggunakan frasa yang multitafsir, seperti *"...sudah termasuk pajak-pajak yang berlaku"*. Alat ini membantu Anda menguji tiga skema interpretasi untuk menghindari **Sengketa Pajak** dan memastikan **Kewajiban Perpajakan** dipenuhi dengan benar.
                </p>
                <p id="articleQuote" class="text-gray-600 text-xs italic border-t pt-2 mt-2">
                    Kutipan dari Artikel: <i id="quoteText">"Perbedaan penafsiran ini secara langsung memengaruhi keuntungan Pihak 2 dan Kewajiban Perpajakan Pihak 1. Oleh karena itu, kontrak harus eksplisit..."</i>
                </p>
            </div>

            <!-- Input Section -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 p-6 rounded-xl border border-gray-200 mb-8">
                <div class="input-group">
                    <label for="nilaiKontrak" id="labelNilaiKontrak">Nilai Kontrak yang Disepakati (Rp)</label>
                    <!-- Input type text untuk format angka, kemudian di-parse ke float -->
                    <input type="text" id="nilaiKontrak" value="100.000.000" class="w-full mt-1 text-right" inputmode="numeric">
                </div>
                <div class="input-group">
                    <label for="tarifPPh" id="labelTarifPPh">Tarif PPh (Pajak Penghasilan - %)</label>
                    <select id="tarifPPh" class="w-full mt-1">
                        <option value="0.02">2% (Jasa Konsultasi, dll)</option>
                        <option value="0.03">3% (Jasa Tertentu)</option>
                        <option value="0.04">4% (Persewaan Tanah & Bangunan, Final)</option>
                        <option value="0.045" selected>4.5% (Ilustrasi Artikel)</option>
                        <option value="0.05">5% (PPh Pasal 26)</option>
                    </select>
                </div>
            </div>

            <!-- Kalkulasi Skema 1: Harga adalah DPP (Basis) -->
            <h2 id="skema1Title" class="text-xl font-bold text-[#27ae60] mb-3">Skema 1: Harga Kontrak adalah DPP (Basis)</h2>
            <p id="skema1Desc" class="text-gray-600 mb-4">Jumlah Kontrak adalah Dasar Pengenaan Pajak (DPP). PPN 11% ditambahkan, PPh dipotong dari DPP.</p>
            <div class="result-grid mb-8">
                <div class="result-box bg-green-50/70 card-finance border">
                    <span id="labelDPP1" class="result-label">DPP (Dasar)</span>
                    <span id="resultDPP1" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-green-50/70 card-finance border">
                    <span id="labelPPN1" class="result-label">PPN (11%)</span>
                    <span id="resultPPN1" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-green-50/70 card-finance border">
                    <span id="labelPPh1" class="result-label">PPh (Dipotong)</span>
                    <span id="resultPPh1" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-green-200/90 card-finance border-2">
                    <span id="labelNet1" class="result-label">Jumlah Bersih Diterima</span>
                    <span id="resultNet1" class="net-value">Rp0</span>
                </div>
            </div>

            <!-- Kalkulasi Skema 2: Harga Termasuk PPN (Gross-Up PPN) -->
            <h2 id="skema2Title" class="text-xl font-bold text-[#27ae60] mb-3">Skema 2: Harga Kontrak Termasuk PPN (Gross-Up PPN)</h2>
            <p id="skema2Desc" class="text-gray-600 mb-4">Jumlah Kontrak sudah termasuk PPN 11% (Total Jasa). PPh dipotong dari DPP hasil Gross-Up.</p>
            <div class="result-grid mb-8">
                <div class="result-box bg-yellow-50/70 card-finance border">
                    <span id="labelDPP2" class="result-label">DPP (Hasil Gross-Up)</span>
                    <span id="resultDPP2" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-yellow-50/70 card-finance border">
                    <span id="labelPPN2" class="result-label">PPN (11%)</span>
                    <span id="resultPPN2" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-yellow-50/70 card-finance border">
                    <span id="labelPPh2" class="result-label">PPh (Dipotong)</span>
                    <span id="resultPPh2" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-yellow-200/90 card-finance border-2">
                    <span id="labelNet2" class="result-label">Jumlah Bersih Diterima</span>
                    <span id="resultNet2" class="net-value">Rp0</span>
                </div>
            </div>

            <!-- Kalkulasi Skema 3: Harga Net/Bersih (Gross-Up PPN & PPh) -->
            <h2 id="skema3Title" class="text-xl font-bold text-[#27ae60] mb-3">Skema 3: Harga Kontrak Net/Bersih (Gross-Up PPN & PPh)</h2>
            <p id="skema3Desc" class="text-gray-600 mb-4">Jumlah Kontrak adalah nilai bersih yang harus diterima Pihak 2. Perlu dilakukan Gross-Up ganda untuk menentukan Nilai Transfer Pihak 1.</p>
            <div class="result-grid">
                <div class="result-box bg-blue-50/70 card-finance border">
                    <span id="labelDPP3" class="result-label">DPP (Hasil Gross-Up)</span> 
                    <span id="resultDPP3" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-blue-50/70 card-finance border">
                    <span id="labelPPN3" class="result-label">PPN (11%)</span>
                    <span id="resultPPN3" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-blue-50/70 card-finance border">
                    <span id="labelPPh3" class="result-label">PPh (Dipotong)</span>
                    <span id="resultPPh3" class="result-value">Rp0</span>
                </div>
                <div class="result-box bg-blue-200/90 card-finance border-2">
                    <span id="labelNet3" class="result-label">Nilai Bersih Diterima</span>
                    <span id="resultNet3" class="net-value">Rp0</span>
                </div>
            </div>

        </div>
    </main>
    
    <!-- Footer Section (Diperbaiki) -->
    <footer class="mt-8 py-6 border-t border-gray-200 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
                <a href="../privacy-policy.html" id="linkPrivacy" class="hover:text-secondary transition duration-150 ease-in-out">Kebijakan Privasi</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../terms-of-service.html" id="linkTerms" class="hover:text-secondary transition duration-150 ease-in-out">Ketentuan Layanan</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../about-us.html" id="linkAbout" class="hover:text-secondary transition duration-150 ease-in-out">Tentang Kami</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../contact-us.html" id="linkContact" class="hover:text-secondary transition duration-150 ease-in-out">Hubungi Kami</a>
            </div>
            
            <div class="mt-6 text-center text-xs text-gray-500">
                <span id="footerCopyright">&copy; 2025 Digital Tools ID. Semua hak dilindungi. Dikembangkan oleh DTID Analytics.</span>
            </div>
        </div>
    </footer>

    <script>
        const PPN_RATE = 0.11; // PPN saat ini 11%

        // Objek Terjemahan
        const translations = {
            id: {
                pageTitle: "Kalkulator Pajak Kontrak (DPP, PPN, PPh) - Alat Keuangan",
                backToCatalogText: "Kembali ke Katalog Alat",
                headerTitle: "Kalkulator Pajak Kontrak",
                mainHeading: "Hitung DPP, PPN, dan PPh Kontrak Otomatis",
                subHeading: "Pahami dampak pajak (PPN 11% & PPh) pada berbagai skema pembayaran kontrak.",
                labelNilaiKontrak: "Nilai Kontrak yang Disepakati (Rp)",
                labelTarifPPh: "Tarif PPh (Pajak Penghasilan - %)",
                // Pilihan Tarif PPh
                optionPPh2: "2% (Jasa Konsultasi, dll)",
                optionPPh3: "3% (Jasa Tertentu)",
                optionPPh4: "4% (Persewaan Tanah & Bangunan, Final)",
                optionPPh45: "4.5% (Ilustrasi Artikel)",
                optionPPh5: "5% (PPh Pasal 26)",

                // Skema 1
                skema1Title: "Skema 1: Harga Kontrak adalah DPP (Basis)",
                skema1Desc: "Jumlah Kontrak adalah Dasar Pengenaan Pajak (DPP). PPN 11% ditambahkan, PPh dipotong dari DPP.",
                labelDPP1: "DPP (Dasar)",
                labelPPN1: "PPN (11%)",
                labelPPh1: "PPh (Dipotong)",
                labelNet1: "Jumlah Bersih Diterima",
                
                // Skema 2
                skema2Title: "Skema 2: Harga Kontrak Termasuk PPN (Gross-Up PPN)",
                skema2Desc: "Jumlah Kontrak sudah termasuk PPN 11% (Total Jasa). PPh dipotong dari DPP hasil Gross-Up.",
                labelDPP2: "DPP (Hasil Gross-Up)",
                labelPPN2: "PPN (11%)",
                labelPPh2: "PPh (Dipotong)",
                labelNet2: "Jumlah Bersih Diterima",
                
                // Skema 3
                skema3Title: "Skema 3: Harga Kontrak Net/Bersih (Gross-Up PPN & PPh)",
                skema3Desc: "Jumlah Kontrak adalah nilai bersih yang harus diterima Pihak 2. Perlu dilakukan Gross-Up ganda untuk menentukan Nilai Transfer Pihak 1.",
                labelDPP3: "DPP (Hasil Gross-Up)", 
                labelPPN3: "PPN (11%)",
                labelPPh3: "PPh (Dipotong)",
                labelNet3: "Nilai Bersih Diterima",

                // Konten Edukasi/Use Case
                useCaseTitle: "Kapan Kalkulator ini Digunakan?",
                useCaseDesc: "Gunakan alat ini saat merancang atau meninjau kontrak jasa di mana <strong>Klausul Pembayaran</strong> Anda menggunakan frasa yang multitafsir, seperti *\"...sudah termasuk pajak-pajak yang berlaku\"*. Alat ini membantu Anda menguji tiga skema interpretasi untuk menghindari <strong>Sengketa Pajak</strong> dan memastikan <strong>Kewajiban Perpajakan</strong> dipenuhi dengan benar.",
                quoteText: "\"Perbedaan penafsiran ini secara langsung memengaruhi keuntungan Pihak 2 dan Kewajiban Perpajakan Pihak 1. Oleh karena itu, kontrak harus eksplisit...\"",

                // Footer
                footerCopyright: "&copy; 2025 Digital Tools ID. Semua hak dilindungi. Dikembangkan oleh DTID Analytics.",
                linkPrivacy: "Kebijakan Privasi",
                linkTerms: "Ketentuan Layanan",
                linkAbout: "Tentang Kami",
                linkContact: "Hubungi Kami",
            },
            en: {
                pageTitle: "Contract Tax Calculator (DPP, VAT, WHT) - Finance Tool",
                backToCatalogText: "Back to Tools Catalog",
                headerTitle: "Contract Tax Calculator",
                mainHeading: "Calculate Contract DPP, VAT, and WHT Automatically",
                subHeading: "Understand the tax impact (VAT 11% & WHT) across various contract payment schemes.",
                labelNilaiKontrak: "Agreed Contract Value (Rp)",
                labelTarifPPh: "WHT Rate (Withholding Tax - %)",
                // Pilihan Tarif PPh
                optionPPh2: "2% (Consulting Services, etc)",
                optionPPh3: "3% (Specific Services)",
                optionPPh4: "4% (Land & Building Lease, Final)",
                optionPPh45: "4.5% (Article Illustration)",
                optionPPh5: "5% (WHT Article 26)",

                // Skema 1
                skema1Title: "Scheme 1: Contract Price is DPP (Base)",
                skema1Desc: "Contract Value is the Tax Base (DPP). VAT 11% is added, WHT is deducted from DPP.",
                labelDPP1: "DPP (Base)",
                labelPPN1: "VAT (11%)",
                labelPPh1: "WHT (Withheld)",
                labelNet1: "Net Amount Received",
                
                // Skema 2
                skema2Title: "Scheme 2: Contract Price Includes VAT (VAT Gross-Up)",
                skema2Desc: "Contract Value already includes 11% VAT (Total Service). WHT is deducted from the Grossed-Up DPP.",
                labelDPP2: "DPP (Grossed-Up Result)",
                labelPPN2: "VAT (11%)",
                labelPPh2: "WHT (Withheld)",
                labelNet2: "Net Amount Received",
                
                // Skema 3
                skema3Title: "Scheme 3: Contract Price Net/Clean (VAT & WHT Gross-Up)",
                skema3Desc: "Contract Value is the net amount Party 2 must receive. Double Gross-Up required to determine Party 1 Transfer Value.",
                labelDPP3: "DPP (Grossed-Up Result)", 
                labelPPN3: "VAT (11%)",
                labelPPh3: "WHT (Withheld)",
                labelNet3: "Net Amount Received",

                // Konten Edukasi/Use Case
                useCaseTitle: "When to Use This Calculator?",
                useCaseDesc: "Use this tool when drafting or reviewing service contracts where the <strong>Payment Clause</strong> uses ambiguous phrases, such as *\"...inclusive of applicable taxes\"*. This tool helps you test three interpretation schemes to avoid <strong>Tax Disputes</strong> and ensure <strong>Tax Liabilities</strong> are met correctly.",
                quoteText: "\"This difference in interpretation directly affects the profit of Party 2 and the Tax Liability of Party 1. Therefore, the contract must explicitly...\"",

                // Footer
                footerCopyright: "&copy; 2025 Digital Tools ID. All Rights Reserved. Developed by DTID Analytics.",
                linkPrivacy: "Privacy Policy",
                linkTerms: "Terms of Service",
                linkAbout: "About Us",
                linkContact: "Contact Us",
            }
        };

        let currentLang = 'id';

        // Fungsi utilitas untuk memformat Rupiah
        const formatRupiah = (number) => {
            if (isNaN(number) || number === null) return 'Rp0';
            const formatter = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            });
            return formatter.format(number).replace('IDR', 'Rp');
        };

        // Fungsi utilitas untuk memformat angka dengan pemisah ribuan
        const formatNumberInput = (number) => {
            if (isNaN(number) || number === null) return '0';
            return new Intl.NumberFormat('id-ID').format(number);
        };

        // Fungsi Utama Kalkulasi
        const calculateTax = () => {
            // Ambil nilai dari input setelah menghilangkan pemisah ribuan
            const nilaiKontrakRaw = document.getElementById('nilaiKontrak').value.replace(/\./g, '');
            const nilaiKontrak = parseFloat(nilaiKontrakRaw) || 0;
            const tarifPPh = parseFloat(document.getElementById('tarifPPh').value) || 0;

            // PPN RATE is fixed at 11% (0.11)

            // --- SKEMA 1: Harga = DPP ---
            const dpp1 = nilaiKontrak;
            const ppn1 = dpp1 * PPN_RATE;
            const pph1 = dpp1 * tarifPPh;
            const net1 = dpp1 + ppn1 - pph1;
            document.getElementById('resultDPP1').textContent = formatRupiah(dpp1);
            document.getElementById('resultPPN1').textContent = formatRupiah(ppn1);
            document.getElementById('resultPPh1').textContent = formatRupiah(pph1);
            document.getElementById('resultNet1').textContent = formatRupiah(net1);
            
            // --- SKEMA 2: Harga Termasuk PPN (Gross-Up PPN) ---
            const totalJasa2 = nilaiKontrak;
            const dpp2 = totalJasa2 / (1 + PPN_RATE); // 1.11
            const ppn2 = dpp2 * PPN_RATE;
            const pph2 = dpp2 * tarifPPh;
            const net2 = totalJasa2 - pph2;
            document.getElementById('resultDPP2').textContent = formatRupiah(dpp2);
            document.getElementById('resultPPN2').textContent = formatRupiah(ppn2);
            document.getElementById('resultPPh2').textContent = formatRupiah(pph2);
            document.getElementById('resultNet2').textContent = formatRupiah(net2);
            
            // --- SKEMA 3: Harga Net/Bersih (Gross-Up PPN & PPh) ---
            const netPrice3 = nilaiKontrak; // Nilai Bersih yang diharapkan
            // dpp3 = Net / (1 + PPN_RATE - tarifPPh)
            const dpp3 = netPrice3 / (1 + PPN_RATE - tarifPPh);
            const pph3 = dpp3 * tarifPPh;
            const ppn3 = dpp3 * PPN_RATE;
            // const totalTransfer3 = dpp3 + ppn3; // Total transfer Pihak 1

            document.getElementById('resultDPP3').textContent = formatRupiah(dpp3); // Menampilkan DPP
            document.getElementById('resultPPN3').textContent = formatRupiah(ppn3);
            document.getElementById('resultPPh3').textContent = formatRupiah(pph3);
            document.getElementById('resultNet3').textContent = formatRupiah(netPrice3); // Nilai bersih adalah inputnya sendiri
        };

        // Fungsi untuk mengaplikasikan terjemahan
        const setLanguage = (lang) => {
            currentLang = lang;
            const t = translations[lang];

            // Update HTML lang attribute
            document.documentElement.lang = lang; 

            // Update status tombol toggle
            document.getElementById('lang-en').classList.remove('active');
            document.getElementById('lang-id').classList.remove('active');
            document.getElementById(`lang-${lang}`).classList.add('active');

            // Array elemen yang diterjemahkan
            const elementsToTranslate = [
                { id: 'pageTitle', key: 'pageTitle' },
                { id: 'backToCatalogText', key: 'backToCatalogText' },
                { id: 'headerTitle', key: 'headerTitle' },
                { id: 'mainHeading', key: 'mainHeading' },
                { id: 'subHeading', key: 'subHeading' },
                { id: 'labelNilaiKontrak', key: 'labelNilaiKontrak' },
                { id: 'labelTarifPPh', key: 'labelTarifPPh' },

                // Skema 1
                { id: 'skema1Title', key: 'skema1Title' },
                { id: 'skema1Desc', key: 'skema1Desc' },
                { id: 'labelDPP1', key: 'labelDPP1' },
                { id: 'labelPPN1', key: 'labelPPN1' },
                { id: 'labelPPh1', key: 'labelPPh1' },
                { id: 'labelNet1', key: 'labelNet1' },
                
                // Skema 2
                { id: 'skema2Title', key: 'skema2Title' },
                { id: 'skema2Desc', key: 'skema2Desc' },
                { id: 'labelDPP2', key: 'labelDPP2' },
                { id: 'labelPPN2', key: 'labelPPN2' },
                { id: 'labelPPh2', key: 'labelPPh2' },
                { id: 'labelNet2', key: 'labelNet2' },
                
                // Skema 3
                { id: 'skema3Title', key: 'skema3Title' },
                { id: 'skema3Desc', key: 'skema3Desc' },
                { id: 'labelDPP3', key: 'labelDPP3' }, 
                { id: 'labelPPN3', key: 'labelPPN3' },
                { id: 'labelPPh3', key: 'labelPPh3' },
                { id: 'labelNet3', key: 'labelNet3' },
                
                // Edukasi
                { id: 'useCaseTitle', key: 'useCaseTitle' },
                // Footer
                { id: 'linkPrivacy', key: 'linkPrivacy' },
                { id: 'linkTerms', key: 'linkTerms' },
                { id: 'linkAbout', key: 'linkAbout' },
                { id: 'linkContact', key: 'linkContact' },
            ];

            elementsToTranslate.forEach(item => {
                const element = document.getElementById(item.id);
                if (element) {
                    element.textContent = t[item.key];
                }
            });

            // Update elemen yang menggunakan innerHTML
            document.getElementById('useCaseDesc').innerHTML = t.useCaseDesc;
            document.getElementById('quoteText').innerHTML = t.quoteText;
            document.getElementById('footerCopyright').innerHTML = t.footerCopyright;


            // Update Opsi PPh
            document.querySelector('#tarifPPh option[value="0.02"]').textContent = t.optionPPh2;
            document.querySelector('#tarifPPh option[value="0.03"]').textContent = t.optionPPh3;
            document.querySelector('#tarifPPh option[value="0.04"]').textContent = t.optionPPh4;
            document.querySelector('#tarifPPh option[value="0.045"]').textContent = t.optionPPh45;
            document.querySelector('#tarifPPh option[value="0.05"]').textContent = t.optionPPh5;

            // Jalankan kalkulasi setelah terjemahan selesai
            calculateTax();
        };

        document.addEventListener('DOMContentLoaded', () => {
            const nilaiKontrakInput = document.getElementById('nilaiKontrak');

            // Inisialisasi format input
            nilaiKontrakInput.value = formatNumberInput(parseFloat(nilaiKontrakInput.value.replace(/\./g, '')) || 0);

            // Event listeners untuk input
            nilaiKontrakInput.addEventListener('input', function() {
                // Hapus semua karakter non-digit
                let rawValue = this.value.replace(/\D/g, ''); 
                
                // Batasi panjang agar tidak terlalu besar sebelum diformat
                if (rawValue.length > 15) {
                    rawValue = rawValue.substring(0, 15);
                }

                // Format angka dengan pemisah ribuan
                const formattedValue = formatNumberInput(parseInt(rawValue));
                this.value = formattedValue;
                
                calculateTax();
            });

            document.getElementById('tarifPPh').addEventListener('change', calculateTax);

            // Set bahasa default ke ID dan jalankan kalkulasi awal
            setLanguage('id'); 
        });

        // Toggle bahasa listener
        document.getElementById('languageSwitcher').addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const newLang = event.target.id === 'lang-en' ? 'en' : 'id';
                if (newLang !== currentLang) {
                    setLanguage(newLang);
                }
            }
        });
    </script>
</body>
</html>