<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-dana-darurat/" />
    <link rel="icon" href="data:,"> <meta name="description" content="Calculate your ideal Emergency Fund target based on essential monthly expenses. Secure your financial stability with our 3 to 12-month safety net calculator." />
    <meta name="keywords" content="Emergency Fund Calculator, Safety Net Calculator, Financial Stability Tool, Monthly Expenses Calculator, Kalkulator Dana Darurat, Hitung Dana Cadangan, Tabungan Darurat, Tips Keuangan Pribadi, Financial Planning Indonesia" />

    <title id="appTitle">Ideal Emergency Fund Calculator - Digital Tools ID</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>

    <style>
        /* CSS LOKAL */
        .layout-article-fixed { width: 100%; }
        @media (min-width: 1024px) {
            .layout-article-fixed { width: 50% !important; margin-left: auto !important; margin-right: auto !important; }
        }
        
        .text-finance-color { color: #27ae60; }
        .bg-finance-color { background-color: #27ae60; }
        .text-debt-color { color: #e74c3c; }
        
        .bg-finance-soft { background-color: rgba(39, 174, 96, 0.1); }
        .bg-debt-soft { background-color: rgba(231, 76, 60, 0.1); }

        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 2000px;
            padding: 1.5rem; 
        }

        .input-description { font-size: 0.75rem; color: #6b7280; margin-top: 0.25rem; }
        
        .tool-card:hover { border-color: #27ae60; transform: translateY(-2px); }
        .dynamic-text:hover { color: #15803d; }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>
    <script> window.headerCategory = 'finance'; </script>

    <main class="flex-grow p-4 sm:p-8 mx-auto layout-article-fixed">
        <div class="w-full bg-white shadow-xl rounded-xl p-6 sm:p-8 border border-gray-100">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-2">Ideal Emergency Fund Calculator</h1>
            
            <p id="valueProposition" class="text-sm text-finance-color font-semibold mb-6 border-b pb-4 leading-relaxed text-justify">
                Calculate your minimum cash fund to meet emergency conditions and get tips on how to manage that fund.
            </p>

            <form id="emergencyFundForm" onsubmit="calculateEmergencyFund(event)" class="space-y-6">

                <section class="border border-gray-300 p-4 rounded-lg bg-gray-50">
                    <h2 id="expenseTitle" class="text-lg font-bold text-gray-800 mb-3">1. Monthly Essential Expenses</h2>
                    <p id="expenseDesc" class="input-description mb-4">Enter your absolute required monthly costs to maintain your basic lifestyle.</p>
                    
                    <div id="expensesInputContainer" class="space-y-3">
                        </div>
                    
                    <div class="mt-4 p-3 border-t border-gray-200">
                        <p id="subtotalExpensesLabel" class="text-sm text-gray-800 font-medium">Total Monthly Essential Expenses:</p>
                        <p id="totalExpenses" class="text-xl font-extrabold text-gray-900">IDR 0</p>
                    </div>
                </section>

                <section class="border border-gray-300 p-4 rounded-lg bg-gray-50">
                    <h2 id="periodTitle" class="text-lg font-bold text-gray-800 mb-3">2. Safety Net Period</h2>
                    <p id="periodDesc" class="input-description mb-4">Select how many months of expenses your emergency fund should cover.</p>
                    <div id="safetyPeriodContainer" class="flex flex-wrap gap-4">
                        </div>
                    <div class="mt-4 p-3 border-t border-gray-200">
                        <p id="selectedPeriodLabel" class="text-sm text-gray-800 font-medium">Selected Period:</p>
                        <p id="selectedPeriod" class="text-xl font-extrabold text-gray-900">6 Months</p>
                    </div>
                </section>

                <section class="border border-gray-300 p-4 rounded-lg bg-gray-50">
                    <h2 id="currentFundTitle" class="text-lg font-bold text-gray-800 mb-3">3. Current Emergency Fund (Optional)</h2>
                    <p id="currentFundDesc" class="input-description mb-4">Enter the amount you currently have saved specifically for emergencies.</p>
                    <div class="relative">
                        <label for="currentFund" class="block text-xs font-bold text-gray-700 uppercase mb-1" id="currentFundInputLabel">Current Fund Amount</label>
                        <input type="text" id="currentFund" inputmode="numeric" value="0" 
                               oninput="formatInput(this, true)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 current-fund-input text-sm">
                    </div>
                </section>

                <button type="submit" id="calculateButton" class="w-full bg-finance-color text-white font-bold py-3 rounded-xl shadow-md hover:bg-green-700 transition duration-300 ease-in-out transform hover:scale-[1.01] text-sm">
                    Calculate Fund Target
                </button>
            </form>

            <div id="resultBox" class="result-box mt-6 bg-gray-50 border border-gray-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-lg font-bold mb-4 text-gray-800 border-b pb-2">Emergency Fund Summary</h3>
                
                <div class="space-y-4">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 border-b border-gray-200 gap-1">
                        <p id="totalExpensesLabel" class="text-sm text-gray-600">Total Monthly Essential Expenses:</p>
                        <p id="outputTotalExpenses" class="text-base font-bold text-gray-900 sm:text-right">IDR 0</p>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg bg-finance-soft border border-green-200 gap-1">
                        <p id="targetLabel" class="text-sm font-bold text-finance-color">Ideal Emergency Fund Target:</p>
                        <p id="outputTarget" class="text-xl font-extrabold text-finance-color sm:text-right">IDR 0</p>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 border-b border-gray-200 gap-1">
                        <p id="currentFundLabel" class="text-sm text-gray-600">Current Fund Saved:</p>
                        <p id="outputCurrentFund" class="text-base font-bold text-gray-900 sm:text-right">IDR 0</p>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg gap-2" id="gapContainer">
                        <p id="gapLabel" class="text-sm font-bold text-gray-700">The Gap:</p>
                        <p id="outputGap" class="text-2xl font-extrabold text-gray-900 sm:text-right">IDR 0</p>
                    </div>
                </div>

                <div id="adviceContainer" class="mt-6 p-4 rounded-lg border-l-4 border-blue-500 bg-blue-50 text-gray-800">
                    <p id="adviceCTA" class="font-bold mb-1 text-blue-800 text-sm">Quick Action Plan:</p>
                    <p id="adviceText" class="text-xs leading-relaxed text-justify">Your calculated target is a crucial financial milestone. Deposit this amount into a separate, high-yield savings account. Avoid touching it for non-emergencies.</p>
                </div>
                
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="descriptionTitle" class="text-lg font-bold text-gray-800 mb-3">The Purpose of an Emergency Fund</h2>
                <p id="descriptionP1" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>
                <p id="descriptionP2" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>
                
                <div id="disclaimerBox" class="bg-gray-100 border-l-4 border-gray-400 text-gray-600 p-4 rounded-lg text-xs mt-4 italic text-justify"></div>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="max-w-4xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600 rounded"></div> 
            <h2 class="text-xl font-bold text-gray-800" data-en="Finance Tools" data-id="Alat Keuangan">Finance Tools</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text" data-en="Monthly Budget Calculator" data-id="Kalkulator Anggaran Bulanan">Monthly Budget Calculator</h3>
                <p class="text-xs text-gray-600 leading-relaxed" data-en="Manage 50/30/20 budget." data-id="Atur anggaran 50/30/20.">Manage 50/30/20 budget.</p>
            </a>
            <a href="../kalkulator-kpr/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text" data-en="Mortgage Simulator" data-id="Simulasi KPR">Mortgage Simulator</h3>
                <p class="text-xs text-gray-600 leading-relaxed" data-en="Estimate home loan payments." data-id="Estimasi cicilan rumah.">Estimate home loan payments.</p>
            </a>
            <a href="../kalkulator-networth/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text" data-en="Net Worth Calculator" data-id="Kalkulator Kekayaan">Net Worth Calculator</h3>
                <p class="text-xs text-gray-600 leading-relaxed" data-en="Track your total assets." data-id="Lacak total aset Anda.">Track your total assets.</p>
            </a>
        </div>
        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles:" data-id="Artikel Terkait:">Related Articles:</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm hover:underline group dynamic-text">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Debt Repayment Strategies" data-id="Strategi Pelunasan Utang">Debt Repayment Strategies</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>

    <script>
        let currentLang = 'en'; 

        const FinancialConfig = {
            ESSENTIAL_EXPENSES: [
                { id: 'housing', label_en: 'Housing/Rent', label_id: 'Tempat Tinggal/Sewa', default: 5000000 },
                { id: 'groceries', label_en: 'Groceries', label_id: 'Kebutuhan Pangan', default: 1500000 },
                { id: 'utilities', label_en: 'Utilities', label_id: 'Utilitas (Listrik/Air)', default: 1000000 },
                { id: 'insurance', label_en: 'Insurance', label_id: 'Asuransi', default: 800000 },
                { id: 'minDebt', label_en: 'Debt Payments', label_id: 'Cicilan Utang', default: 2000000 },
                { id: 'transport', label_en: 'Transport', label_id: 'Transportasi', default: 500000 },
                { id: 'otherEssential', label_en: 'Others', label_id: 'Lainnya', default: 0 },
            ],
            SAFETY_PERIODS: [
                { id: 3, label_en: '3 Months (Min)', label_id: '3 Bulan (Min)', recommended: false },
                { id: 6, label_en: '6 Months (Std)', label_id: '6 Bulan (Std)', recommended: true },
                { id: 12, label_en: '12 Months (Safe)', label_id: '12 Bulan (Aman)', recommended: false },
            ],
        };

        const translations = {
            en: {
                appTitle: "Ideal Emergency Fund Calculator",
                headerTitle: "Ideal Emergency Fund Calculator",
                valueProposition: "Calculate your minimum cash fund to meet emergency conditions and get tips on how to manage that fund.",
                expenseTitle: "1. Monthly Essential Expenses",
                expenseDesc: "Enter your absolute required monthly costs to maintain your basic lifestyle.",
                subtotalExpensesLabel: "Total Monthly Essential Expenses:",
                periodTitle: "2. Safety Net Period",
                periodDesc: "Select how many months of expenses your emergency fund should cover.",
                selectedPeriodLabel: "Selected Period:",
                currentFundTitle: "3. Current Emergency Fund (Optional)",
                currentFundDesc: "Enter the amount you currently have saved specifically for emergencies.",
                currentFundInputLabel: "Current Fund Amount",
                calculateButton: "Calculate Fund Target",
                resultHeader: "Emergency Fund Summary",
                totalExpensesLabel: "Total Monthly Expenses:",
                targetLabel: "Ideal Fund Target:",
                currentFundLabel: "Current Saved:",
                gapLabel: "The Gap", 
                adviceCTA: "Quick Action Plan:",
                adviceText: "Your calculated target is a crucial financial milestone. Deposit this amount into a separate, high-yield savings account. Avoid touching it for non-emergencies.",
                descriptionTitle: "The Purpose of an Emergency Fund",
                descriptionP1: "An emergency fund is a liquidity reserve specifically designed to cover unexpected expenses like job loss or medical crises. It protects you from high-interest debt.",
                descriptionP2: "The calculation is straightforward: Total Monthly Essential Expenses multiplied by your selected Safety Net Period.",
                disclaimerBox: "<strong>Disclaimer:</strong> This tool is for simulation purposes only. Consult a professional financial advisor.",
            },
            id: {
                appTitle: "Kalkulator Dana Darurat Ideal",
                headerTitle: "Kalkulator Dana Darurat Ideal",
                valueProposition: "Hitung dana tunai minimum Anda agar cukup memenuhi kondisi darurat dan tips bagaimana mengelola dana tersebut.",
                expenseTitle: "1. Biaya Hidup Bulanan Wajib",
                expenseDesc: "Masukkan biaya bulanan wajib absolut Anda untuk mempertahankan gaya hidup dasar Anda.",
                subtotalExpensesLabel: "Total Biaya Hidup Bulanan Wajib:",
                periodTitle: "2. Periode Aman",
                periodDesc: "Pilih berapa bulan biaya hidup yang harus dicakup oleh dana darurat Anda.",
                selectedPeriodLabel: "Periode yang Dipilih:",
                currentFundTitle: "3. Dana Darurat Saat Ini (Opsional)",
                currentFundDesc: "Masukkan jumlah yang saat ini telah Anda tabung secara khusus untuk keadaan darurat.",
                currentFundInputLabel: "Jumlah Dana Saat Ini",
                calculateButton: "Hitung Target Dana",
                resultHeader: "Ringkasan Dana Darurat",
                totalExpensesLabel: "Total Biaya Bulanan Hidup Wajib:",
                targetLabel: "Target Dana Darurat Ideal:",
                currentFundLabel: "Dana Saat Ini:",
                gapLabel: "Selisih", // Label diperpendek untuk Mobile
                adviceCTA: "Rencana Tindakan Cepat:",
                adviceText: "Target yang Anda hitung adalah tonggak finansial krusial. Simpan jumlah ini di rekening terpisah. Hindari penggunaannya untuk hal non-darurat.",
                descriptionTitle: "Tujuan Dana Darurat",
                descriptionP1: "Dana darurat adalah cadangan likuiditas untuk menutupi pengeluaran tak terduga seperti kehilangan pekerjaan atau krisis medis.",
                descriptionP2: "Perhitungannya sederhana: Total Biaya Bulanan Hidup Wajib dikalikan Periode Aman yang Anda pilih.",
                disclaimerBox: "<strong>Penafian:</strong> Alat ini hanya untuk simulasi. Konsultasikan dengan profesional keuangan.",
            }
        };

        function formatNumber(amount) {
            if (typeof amount !== 'number') return '0';
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale).format(Math.round(amount));
        }

        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function formatInput(inputElement, isOptional = false) {
            let rawValue = inputElement.value.replace(/\D/g, '');
            if (!isOptional) {
                if (parseInt(rawValue, 10)) {
                    inputElement.value = formatNumber(parseInt(rawValue, 10));
                }
                updateSubtotals();
            } else {
                inputElement.value = rawValue ? formatNumber(parseInt(rawValue, 10)) : '0';
            }
        }

        function generateInputFields() {
            const expensesContainer = document.getElementById('expensesInputContainer');
            const periodContainer = document.getElementById('safetyPeriodContainer');
            expensesContainer.innerHTML = '';
            periodContainer.innerHTML = '';
            const lang = currentLang;
            
            FinancialConfig.ESSENTIAL_EXPENSES.forEach(item => {
                const labelText = lang === 'id' ? item.label_id : item.label_en;
                const div = document.createElement('div');
                div.className = 'relative';
                div.innerHTML = `
                    <label for="${item.id}" class="block text-xs font-bold text-gray-700 uppercase mb-1">${labelText}</label>
                    <input type="text" id="${item.id}" inputmode="numeric" value="${formatNumber(item.default)}" 
                           oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 text-sm expense-input" required>
                `;
                expensesContainer.appendChild(div);
            });

            FinancialConfig.SAFETY_PERIODS.forEach(item => {
                const labelText = lang === 'id' ? item.label_id : item.label_en;
                const checked = item.recommended ? 'checked' : '';
                const radioDiv = document.createElement('div');
                radioDiv.className = 'flex items-center';
                radioDiv.innerHTML = `
                    <input type="radio" id="period-${item.id}" name="safetyPeriod" value="${item.id}" ${checked} class="h-4 w-4 text-green-600 focus:ring-green-500" onchange="updateSelectedPeriod()">
                    <label for="period-${item.id}" class="ml-2 block text-sm font-medium text-gray-700">${labelText}</label>
                `;
                periodContainer.appendChild(radioDiv);
            });
            document.getElementById('currentFundInputLabel').textContent = translations[lang].currentFundInputLabel;
            updateSubtotals();
            updateSelectedPeriod();
        }

        function updateSubtotals() {
            let total = 0;
            document.querySelectorAll('.expense-input').forEach(input => total += cleanInput(input.value));
            const currency = currentLang === 'id' ? 'IDR' : '$';
            document.getElementById('totalExpenses').textContent = `${currency} ${formatNumber(total)}`;
        }
        
        function updateSelectedPeriod() {
            const selectedRadio = document.querySelector('input[name="safetyPeriod"]:checked');
            if (selectedRadio) {
                const selectedId = parseInt(selectedRadio.value);
                const periodConfig = FinancialConfig.SAFETY_PERIODS.find(p => p.id === selectedId);
                document.getElementById('selectedPeriod').textContent = currentLang === 'id' ? periodConfig.label_id : periodConfig.label_en;
            }
        }

        function calculateEmergencyFund(event) {
            if(event) event.preventDefault();
            const t = translations[currentLang];
            let totalExpenses = 0;
            document.querySelectorAll('.expense-input').forEach(input => totalExpenses += cleanInput(input.value));
            
            const selectedPeriodRadio = document.querySelector('input[name="safetyPeriod"]:checked');
            const safetyPeriod = selectedPeriodRadio ? parseInt(selectedPeriodRadio.value) : 6; 
            const currentFund = cleanInput(document.getElementById('currentFund').value);

            const idealTarget = totalExpenses * safetyPeriod;
            const gap = idealTarget - currentFund;
            const currency = currentLang === 'id' ? 'IDR' : '$';

            document.getElementById('outputTotalExpenses').textContent = `${currency} ${formatNumber(totalExpenses)}`;
            document.getElementById('outputCurrentFund').textContent = `${currency} ${formatNumber(currentFund)}`;
            document.getElementById('outputTarget').textContent = `${currency} ${formatNumber(idealTarget)}`;
            
            const outputGap = document.getElementById('outputGap');
            const gapContainer = document.getElementById('gapContainer');
            outputGap.textContent = `${currency} ${formatNumber(Math.abs(gap))}`;
            
            // Logic Status GAP
            let statusText = "";
            if (gap > 0) {
                // Shortfall
                statusText = currentLang === 'en' ? "(Shortfall)" : "(Kekurangan)";
                gapContainer.className = 'flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg bg-debt-soft border border-red-200 gap-1';
                outputGap.className = 'text-2xl font-extrabold text-debt-color sm:text-right';
            } else if (gap < 0) {
                // Surplus
                statusText = currentLang === 'en' ? "(Surplus)" : "(Kelebihan)";
                gapContainer.className = 'flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg bg-finance-soft border border-green-200 gap-1';
                outputGap.className = 'text-2xl font-extrabold text-finance-color sm:text-right';
            } else {
                // Ideal
                statusText = currentLang === 'en' ? "(Reached)" : "(Tercapai)";
                gapContainer.className = 'flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 rounded-lg bg-gray-100 gap-1';
                outputGap.className = 'text-2xl font-extrabold text-gray-900 sm:text-right';
            }
            document.getElementById('gapLabel').textContent = `${t.gapLabel} ${statusText}:`;
            
            document.getElementById('resultBox').classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            generateInputFields(); 
            
            const ids = ['appTitle', 'headerTitle', 'valueProposition', 'expenseTitle', 'expenseDesc', 
                         'subtotalExpensesLabel', 'periodTitle', 'periodDesc', 'selectedPeriodLabel', 
                         'currentFundTitle', 'currentFundDesc', 'calculateButton', 'resultHeader', 
                         'totalExpensesLabel', 'targetLabel', 'currentFundLabel', 'adviceCTA', 
                         'adviceText', 'descriptionTitle', 'disclaimerBox'];
            
            ids.forEach(id => {
                const el = document.getElementById(id);
                if(el) el.innerHTML = t[id] || t[id.replace('innerHTML', '')];
            });

            document.getElementById('descriptionP1').innerHTML = t.descriptionP1;
            document.getElementById('descriptionP2').innerHTML = t.descriptionP2;

            if (document.getElementById('resultBox').classList.contains('visible')) {
                 calculateEmergencyFund();
            }
            
            document.querySelectorAll('#related-tools-section [data-en]').forEach(el => {
                el.textContent = el.getAttribute(`data-${lang}`);
            });
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            observer.observe(document.documentElement, { attributes: true });
            setLanguage('en'); 
        });
    </script>
</body>
</html>