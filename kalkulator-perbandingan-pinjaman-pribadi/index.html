<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-perbandingan-pinjaman-pribadi/" />
    <meta name="description" content="Kalkulator perbandingan pinjaman pribadi. Bandingkan dua skenario pinjaman (Bank A vs. Bank B) untuk menemukan opsi angsuran dan biaya total yang paling hemat." />
    
    <link rel="icon" href="data:,">
 
    <title id="appTitle">Personal Loan Comparison Calculator</title>
    
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-perbandingan-pinjaman-pribadi/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-perbandingan-pinjaman-pribadi/index.html" />

    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* Transisi Hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem; 
        }
        
        /* Tombol Utama */
        .calculate-button {
            box-shadow: 0 4px #15803d; /* green-700 */
            background-color: #16a34a; /* green-600 */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #15803d;
            background-color: #22c55e; /* green-500 */
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #15803d;
        }

        /* Gaya Khusus untuk Kartu Pinjaman */
        .loan-card {
            border-top-width: 4px;
        }
        .loan-a-border { border-top-color: #3b82f6; } /* blue-500 */
        .loan-b-border { border-top-color: #f59e0b; } /* amber-500 */

        /* Gaya untuk kartu hasil Pinjaman A dan B */
        .result-card-a { background-color: #eff6ff; border-color: #bfdbfe; } /* Blue-50/200 */
        .result-card-b { background-color: #fffbeb; border-color: #fde68a; } /* Amber-50/200 */
        
        /* Gaya Tabel Perbandingan */
        .comparison-table th, .comparison-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        .comparison-table th {
            font-weight: 600;
            background-color: #f9fafb;
            color: #374151;
            font-size: 0.875rem;
        }
        .comparison-table td {
            font-size: 0.875rem;
            color: #4b5563;
        }
        .comparison-table tr:hover {
            background-color: #f3f4f6;
        }
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        
        /* Gaya Toggle Input Mode (Percent vs Absolute) */
        .mode-toggle-container {
            position: relative;
            display: inline-flex;
            background-color: #e5e7eb; 
            border-radius: 0.5rem; 
            padding: 2px;
            width: 100%;
            margin-bottom: 8px; 
        }
        .mode-toggle-btn {
            flex-grow: 1;
            padding: 4px 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            color: #6b7280; 
            transition: color 0.3s ease;
            position: relative;
            text-align: center;
        }
        .mode-toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            height: calc(100% - 4px);
            width: calc(50% - 2px); 
            background-color: #ffffff; 
            border-radius: 0.5rem;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        .mode-toggle-container[data-mode="percent"] .mode-toggle-slider { transform: translateX(0%); }
        .mode-toggle-container[data-mode="absolute"] .mode-toggle-slider { transform: translateX(100%); }
        
        /* Warna teks tombol aktif */
        .mode-toggle-container[data-mode="percent"] .btn-percent { color: #2563eb; } /* blue-600 */
        .mode-toggle-container[data-mode="absolute"] .btn-absolute { color: #2563eb; }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <script>window.headerCategory = 'finance';</script>
    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-2xl bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3">Personal Loan Comparison Calculator</h1>
            
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6">
               Compare two different personal loan scenarios (e.g., Bank A vs. Fintech B) to find the option that saves you the most money.
            </p>
            
            <form id="loanComparisonForm" onsubmit="calculateComparison(event)" class="space-y-6">
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="relative md:col-span-2">
                        <label for="loanAmount" class="block text-sm font-medium text-gray-700 mb-1">
                            <span id="labelLoanAmount">Loan Amount (Principal)</span> <span class="currency-label font-normal text-gray-500">(Rp/$)</span>
                        </label>
                        <input type="text" id="loanAmount" inputmode="numeric" value="50.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-600 focus:border-green-600 transition duration-150" required>
                        <p class="text-xs text-gray-500 mt-1" id="descLoanAmount">The total principal loan amount you wish to borrow.</p>
                    </div>
                    
                    <div class="relative">
                        <label for="loanTermYears" class="block text-sm font-medium text-gray-700 mb-1" id="labelLoanTerm">Loan Term (Years)</label>
                        <input type="number" id="loanTermYears" min="1" max="5" value="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-600 focus:border-green-600 transition duration-150" required>
                        <p class="text-xs text-gray-500 mt-1" id="descLoanTerm">Max 5 Years for Personal Loans.</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200">
                     
                    <div class="loan-card loan-a-border bg-blue-50 p-5 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold mb-3 text-blue-600" id="headerLoanA">Loan Scenario A</h2>
                        <div class="space-y-3">
                            <div class="relative">
                                <label for="rateA" class="block text-sm font-medium text-gray-700 mb-1" id="labelRateA">Annual Interest Rate (%)</label>
                                <input type="number" id="rateA" min="0" step="0.1" value="12" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                            </div>
                            
                            <div class="relative">
                                <label class="block text-sm font-medium text-gray-700 mb-1" id="labelAdminFeeA">Upfront Admin Fee</label>
                                <div id="adminFeeModeA" class="mode-toggle-container" data-mode="percent">
                                    <div class="mode-toggle-slider"></div>
                                    <button type="button" onclick="setAdminFeeMode('A', 'percent')" class="mode-toggle-btn btn-percent text-sm">
                                        % <span id="modePercentA">Percentage</span>
                                    </button>
                                    <button type="button" onclick="setAdminFeeMode('A', 'absolute')" class="mode-toggle-btn btn-absolute text-sm">
                                        <span id="modeAbsoluteA">Absolute Value</span>
                                    </button>
                                </div>
                                <input type="text" id="adminFeeA" inputmode="numeric" value="1.5" oninput="formatFeeInput(this, 'A')" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                                <p class="text-xs text-gray-500 mt-1" id="descAdminFeeA">Percentage of Principal.</p>
                            </div>
                        </div>
                    </div>

                    <div class="loan-card loan-b-border bg-amber-50 p-5 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold mb-3 text-amber-600" id="headerLoanB">Loan Scenario B</h2>
                        <div class="space-y-3">
                             <div class="relative">
                                <label for="rateB" class="block text-sm font-medium text-gray-700 mb-1" id="labelRateB">Annual Interest Rate (%)</label>
                                <input type="number" id="rateB" min="0" step="0.1" value="15" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150" required>
                            </div>
                            
                            <div class="relative">
                                <label class="block text-sm font-medium text-gray-700 mb-1" id="labelAdminFeeB">Upfront Admin Fee</label>
                                <div id="adminFeeModeB" class="mode-toggle-container" data-mode="percent">
                                    <div class="mode-toggle-slider"></div>
                                    <button type="button" onclick="setAdminFeeMode('B', 'percent')" class="mode-toggle-btn btn-percent text-sm">
                                        % <span id="modePercentB">Percentage</span>
                                    </button>
                                    <button type="button" onclick="setAdminFeeMode('B', 'absolute')" class="mode-toggle-btn btn-absolute text-sm">
                                        <span id="modeAbsoluteB">Absolute Value</span>
                                    </button>
                                </div>
                                <input type="text" id="adminFeeB" inputmode="numeric" value="0.5" oninput="formatFeeInput(this, 'B')" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150" required>
                                <p class="text-xs text-gray-500 mt-1" id="descAdminFeeB">Percentage of Principal.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl text-lg">
                    Compare Loans
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-8 bg-gray-50 border border-gray-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-2xl font-bold mb-6 text-gray-800 border-b pb-2">Comparison Results</h3>
           
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="result-card-a p-6 rounded-xl shadow-lg border-2">
                        <p class="text-sm font-bold text-blue-600 mb-1" id="summaryHeaderA">Loan A Summary</p>
                        <p id="monthlyPaymentA" class="text-3xl font-extrabold text-blue-600 mb-3">0</p>
                        <p class="text-base font-medium text-gray-700" id="labelMonthlyA">Monthly Installment</p>
                        
                        <div class="mt-4 pt-4 border-t border-blue-200 space-y-2">
                            <p class="text-sm text-gray-600 flex justify-between">
                                <span id="labelTotalInterestA">Total Interest Paid:</span>
                                <span id="totalInterestA" class="font-semibold text-gray-800">0</span>
                            </p>
                            <p class="text-sm text-gray-600 flex justify-between">
                                <span id="labelTotalFeeA">Upfront Admin Fee:</span>
                                <span id="totalFeeA" class="font-semibold text-gray-800">0</span>
                            </p>
                            <p class="text-lg font-bold flex justify-between">
                                <span id="labelTotalCostA">TOTAL LOAN COST:</span>
                                <span id="totalCostA" class="font-extrabold text-red-700">0</span>
                            </p>
                        </div>
                    </div>

                     <div class="result-card-b p-6 rounded-xl shadow-lg border-2">
                        <p class="text-sm font-bold text-amber-600 mb-1" id="summaryHeaderB">Loan B Summary</p>
                        <p id="monthlyPaymentB" class="text-3xl font-extrabold text-amber-600 mb-3">0</p>
                        <p class="text-base font-medium text-gray-700" id="labelMonthlyB">Monthly Installment</p>
                        
                        <div class="mt-4 pt-4 border-t border-amber-200 space-y-2">
                            <p class="text-sm text-gray-600 flex justify-between">
                                <span id="labelTotalInterestB">Total Interest Paid:</span>
                                <span id="totalInterestB" class="font-semibold text-gray-800">0</span>
                            </p>
                            <p class="text-sm text-gray-600 flex justify-between">
                                <span id="labelTotalFeeB">Upfront Admin Fee:</span>
                                <span id="totalFeeB" class="font-semibold text-gray-800">0</span>
                            </p>
                            <p class="text-lg font-bold flex justify-between">
                                <span id="labelTotalCostB">TOTAL LOAN COST:</span>
                                <span id="totalCostB" class="font-extrabold text-red-700">0</span>
                            </p>
                        </div>
                    </div>
                </div>

                <h3 id="tableHeader" class="text-xl font-bold text-gray-800 border-b pb-2 mb-4">Direct Comparison</h3>
                <div class="overflow-x-auto">
                    <table class="comparison-table w-full bg-white rounded-lg shadow-inner">
                        <thead>
                            <tr>
                                <th id="colHeaderMetric">Metric</th>
                                <th class="text-blue-600" id="colHeaderLoanA">Loan A</th>
                                <th class="text-amber-600" id="colHeaderLoanB">Loan B</th>
                                <th id="colHeaderDifference">Difference</th>
                                <th id="colHeaderBest">Best Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="rowMonthlyPayment">Monthly Installment</td>
                                <td id="compMonthlyA" class="font-semibold text-blue-600"></td>
                                <td id="compMonthlyB" class="font-semibold text-amber-600"></td>
                                <td id="diffMonthly"></td>
                                <td id="bestMonthly" class="font-bold"></td>
                            </tr>
                            <tr>
                                <td id="rowInterestRate">Annual Interest Rate</td>
                                <td id="compRateA"></td>
                                <td id="compRateB"></td>
                                <td id="diffRate"></td>
                                <td id="bestRate" class="font-bold"></td>
                            </tr>
                            <tr>
                                <td id="rowTotalInterest">Total Interest Paid</td>
                                <td id="compInterestA" class="text-blue-600"></td>
                                <td id="compInterestB" class="text-amber-600"></td>
                                <td id="diffInterest"></td>
                                <td id="bestInterest" class="font-bold"></td>
                            </tr>
                            <tr>
                                <td id="rowTotalFee">Upfront Admin Fee</td>
                                <td id="compFeeA"></td>
                                <td id="compFeeB"></td>
                                <td id="diffFee"></td>
                                <td id="bestFee" class="font-bold"></td>
                            </tr>
                            <tr class="bg-gray-100 font-bold">
                                <td id="rowTotalCost">TOTAL COST</td>
                                <td id="compTotalCostA" class="text-blue-600"></td>
                                <td id="compTotalCostB" class="text-amber-600"></td>
                                <td id="diffTotalCost" class="text-red-700"></td>
                                <td id="bestTotalCost" class="font-extrabold text-green-700"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding Personal Loan Costs</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Interest Rate vs. Upfront Fee</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Key Comparison Metrics</h3>
                <ul id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="max-w-2xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600"></div> 
            <h2 class="text-xl font-bold text-gray-800" data-en="Finance Tools" data-id="Alat Keuangan">Finance Tools</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-pelunasan-utang/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Debt Payoff" data-id="Pelunasan Utang">Debt Payoff</h3>
                <p class="text-xs text-gray-600" data-en="Snowball vs Avalanche strategies." data-id="Strategi Snowball vs Avalanche.">Snowball vs Avalanche strategies.</p>
            </a>
            <a href="../kalkulator-bunga-efektif/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Effective Interest" data-id="Bunga Efektif">Effective Interest</h3>
                <p class="text-xs text-gray-600" data-en="Calculate true interest rate." data-id="Hitung suku bunga sebenarnya.">Calculate true interest rate.</p>
            </a>
            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Monthly Budget" data-id="Anggaran Bulanan">Monthly Budget</h3>
                <p class="text-xs text-gray-600" data-en="Manage 50/30/20 rule." data-id="Kelola aturan 50/30/20.">Manage 50/30/20 rule.</p>
            </a>
        </div>

        <div class="border-t border-gray-200 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles" data-id="Artikel Terkait">Related Articles</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm text-blue-600 hover:underline group">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-blue-500"></span>
                        <span data-en="Strategies to Accelerate Debt Repayment" data-id="Strategi Mempercepat Pelunasan Utang">Strategies to Accelerate Debt Repayment</span>
                    </a>
                </li>
                <li>
                    <a href="../kalkulator-bunga-efektif/index.html" class="flex items-center text-sm text-blue-600 hover:underline group">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-blue-500"></span>
                        <span data-en="Understanding Effective vs Flat Interest Rates" data-id="Memahami Suku Bunga Efektif vs Flat">Understanding Effective vs Flat Interest Rates</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR PERBANDINGAN PINJAMAN PRIBADI
        // **********************************************
        
        let adminFeeState = {
            A: { mode: 'percent', value: 1.5 },
            B: { mode: 'percent', value: 0.5 }
        };
        let currentLang = 'en';

        const translations = {
            id: {
                appTitle: "Kalkulator Perbandingan Pinjaman Pribadi",
                headerTitle: "Kalkulator Perbandingan Pinjaman Pribadi",
                toolSubtitle: "Bandingkan dua skenario pinjaman pribadi yang berbeda (misalnya, Bank A vs. Fintech B) untuk menemukan opsi yang paling hemat biaya total.",
                
                labelLoanAmount: "Jumlah Pinjaman (Pokok)",
                descLoanAmount: "Total pokok pinjaman yang ingin Anda ajukan (Sama untuk Pinjaman A & B).",
                labelLoanTerm: "Jangka Waktu Pinjaman (Tahun)",
                descLoanTerm: "Jangka waktu pinjaman total dalam tahun (Maks. 5 Tahun).",
                calculateButton: "Bandingkan Pinjaman",
                inputError: "Mohon masukkan semua nilai input yang valid (Jumlah > 0, Bunga >= 0, Jangka Waktu 1-5 Tahun).",
                
                headerLoanA: "Skenario Pinjaman A (Bank A)",
                headerLoanB: "Skenario Pinjaman B (Bank B)",
                labelRateA: "Suku Bunga Tahunan (%) Pinjaman A",
                descRateA: "Suku bunga tahunan Pinjaman A.",
                labelAdminFeeA: "Biaya Admin di Muka",
                modePercent: "Persentase",
                modeAbsolute: "Nilai Absolut",
                descAdminFeePercent: "Biaya administrasi di muka (persen dari Pokok).",
                descAdminFeeAbsolute: "Nilai nominal biaya administrasi di muka.",
                labelRateB: "Suku Bunga Tahunan (%) Pinjaman B",
                descRateB: "Suku bunga tahunan Pinjaman B.",
                labelAdminFeeB: "Biaya Admin di Muka",
                
                resultHeader: "Hasil Perbandingan",
                summaryHeaderA: "Ringkasan Pinjaman A",
                summaryHeaderB: "Ringkasan Pinjaman B",
                labelMonthlyA: "Angsuran Bulanan",
                labelMonthlyB: "Angsuran Bulanan",
                labelTotalInterestA: "Total Bunga Dibayar",
                labelTotalInterestB: "Total Bunga Dibayar",
                labelTotalFeeA: "Biaya Admin di Muka",
                labelTotalFeeB: "Biaya Admin di Muka",
                labelTotalCostA: "TOTAL BIAYA PINJAMAN",
                labelTotalCostB: "TOTAL BIAYA PINJAMAN",

                tableHeader: "Perbandingan Langsung",
                colHeaderMetric: "Metrik",
                colHeaderLoanA: "Pinjaman A",
                colHeaderLoanB: "Pinjaman B",
                colHeaderDifference: "Selisih",
                colHeaderBest: "Opsi Terbaik",
                rowMonthlyPayment: "Angsuran Bulanan",
                rowInterestRate: "Suku Bunga Tahunan",
                rowTotalInterest: "Total Bunga Dibayar",
                rowTotalFee: "Biaya Admin di Muka",
                rowTotalCost: "TOTAL BIAYA",
                
                sectionHeader1: "Penting: Menggunakan Suku Bunga Efektif Tahunan",
                content1: "Pinjaman pribadi seringkali menggunakan suku bunga flat, padahal perhitungan angsuran sebenarnya menggunakan suku bunga <b>efektif</b>. Suku bunga efektif mencerminkan biaya pinjaman yang <b>sesungguhnya</b> per tahun.",
                sectionHeader2: "Apa yang Harus Dilakukan Jika Perhitungan Berbeda?",
                content2: "Jika angka angsuran bulanan kalkulator ini berbeda dengan info bank, tanyakan kepada pemberi pinjaman mengenai persentase Suku Bunga Efektif Tahunan yang sebenarnya.",
                sectionHeader3: "Cara Menghitung Suku Bunga Efektif",
                tip1: "<a href='../kalkulator-bunga-efektif/index.html' class='text-blue-600 hover:underline font-bold'>Kalkulator Suku Bunga Efektif</a>",
                tip2: "Total Bunga Dibayar: Biaya pinjaman jangka panjang.",
                tip3: "Total Biaya (Pokok + Bunga + Fee): Angka terpenting untuk hemat biaya.",
                sectionHeader4: "Disclaimer",
                content4: "Hasil adalah estimasi menggunakan metode anuitas standar. Tidak termasuk asuransi atau denda."
            },
            en: {
                appTitle: "Personal Loan Comparison Calculator",
                headerTitle: "Personal Loan Comparison Calculator",
                toolSubtitle: "Compare two different personal loan scenarios (e.g., Bank A vs. Fintech B) to find the option that saves you the most money in total cost.",
                
                labelLoanAmount: "Loan Amount (Principal)",
                descLoanAmount: "The total principal loan amount you wish to borrow.",
                labelLoanTerm: "Loan Term (Years)",
                descLoanTerm: "The total duration of the loan in years (Max 5 Years).",
                calculateButton: "Compare Loans",
                inputError: "Please enter all valid input values (Loan Amount > 0, Interest >= 0, Term 1-5 Years).",
                
                headerLoanA: "Loan Scenario A (Bank A)",
                headerLoanB: "Loan Scenario B (Bank B)",
                labelRateA: "Annual Interest Rate (%) Loan A",
                descRateA: "The annual interest rate for Loan A.",
                labelAdminFeeA: "Upfront Admin Fee",
                modePercent: "Percentage",
                modeAbsolute: "Absolute Value",
                descAdminFeePercent: "The upfront administration fee (percentage of Principal).",
                descAdminFeeAbsolute: "The upfront administration fee (absolute value).",
                labelRateB: "Annual Interest Rate (%) Loan B",
                descRateB: "The annual interest rate for Loan B.",
                labelAdminFeeB: "Upfront Admin Fee",

                resultHeader: "Comparison Results",
                summaryHeaderA: "Loan A Summary",
                summaryHeaderB: "Loan B Summary",
                labelMonthlyA: "Monthly Installment",
                labelMonthlyB: "Monthly Installment",
                labelTotalInterestA: "Total Interest Paid",
                labelTotalInterestB: "Total Interest Paid",
                labelTotalFeeA: "Upfront Admin Fee",
                labelTotalFeeB: "Upfront Admin Fee",
                labelTotalCostA: "TOTAL LOAN COST",
                labelTotalCostB: "TOTAL LOAN COST",

                tableHeader: "Direct Comparison",
                colHeaderMetric: "Metric",
                colHeaderLoanA: "Loan A",
                colHeaderLoanB: "Loan B",
                colHeaderDifference: "Difference",
                colHeaderBest: "Best Option",
                rowMonthlyPayment: "Monthly Installment",
                rowInterestRate: "Annual Interest Rate",
                rowTotalInterest: "Total Interest Paid",
                rowTotalFee: "Upfront Admin Fee",
                rowTotalCost: "TOTAL COST",
                
                sectionHeader1: "Important: Use the Effective Annual Interest Rate",
                content1: "Personal loans often use flat rates, but installments are calculated using <b>effective</b> rates. Effective rates reflect the <b>true</b> annual cost.",
                sectionHeader2: "What to Do If Calculations Differ?",
                content2: "If results differ from your lender's quote, ask them for their actual Effective Annual Interest Percentage.",
                sectionHeader3: "How to Calculate Effective Rate",
                tip1: "<a href='../kalkulator-bunga-efektif/index.html' class='text-blue-600 hover:underline font-bold'>Effective Interest Rate Calculator</a>",
                tip2: "Total Interest Paid: Long-term loan cost.",
                tip3: "Total Cost: The most important number for savings.",
                sectionHeader4: "Disclaimer",
                content4: "Results are estimates using standard annuity methods. Excludes insurance or penalties."
            }
        };

        function formatNumber(amount, decimalPlaces = 0) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: decimalPlaces,
                maximumFractionDigits: decimalPlaces,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = '';
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function formatFeeInput(inputElement, scenario) {
            const isPercentMode = adminFeeState[scenario].mode === 'percent';
            let rawValue = inputElement.value;
            let numericValue;

            if (isPercentMode) {
                rawValue = rawValue.replace(/[^0-9.,]/g, '');
                rawValue = rawValue.replace(/,/g, '.');
                numericValue = parseFloat(rawValue);

                if (!isNaN(numericValue)) {
                    adminFeeState[scenario].value = numericValue;
                    inputElement.value = numericValue.toFixed(2).replace(/\.00$/, '');
                } else {
                     adminFeeState[scenario].value = 0;
                     inputElement.value = '';
                }
            } else {
                let cleanedValue = rawValue.replace(/\D/g, '');
                numericValue = parseInt(cleanedValue, 10);

                if (!isNaN(numericValue)) {
                    adminFeeState[scenario].value = numericValue;
                    inputElement.value = formatNumber(numericValue);
                } else {
                     adminFeeState[scenario].value = 0;
                     inputElement.value = '';
                }
            }
        }
        
        function setAdminFeeMode(scenario, mode) {
            if (adminFeeState[scenario].mode === mode) return;
            adminFeeState[scenario].mode = mode;
            const inputElement = document.getElementById('adminFee' + scenario);
            const modeContainer = document.getElementById('adminFeeMode' + scenario);
            const t = translations[currentLang];
            
            modeContainer.dataset.mode = mode;
            if (mode === 'percent') {
                inputElement.setAttribute('inputmode', 'decimal');
                inputElement.value = adminFeeState[scenario].value.toFixed(2).replace(/\.00$/, '');
                document.getElementById('descAdminFee' + scenario).textContent = t.descAdminFeePercent;
            } else {
                inputElement.setAttribute('inputmode', 'numeric');
                inputElement.value = formatNumber(adminFeeState[scenario].value);
                document.getElementById('descAdminFee' + scenario).textContent = t.descAdminFeeAbsolute;
            }
            inputElement.oninput = function() { formatFeeInput(this, scenario); };
            formatFeeInput(inputElement, scenario);
        }

        function calculateLoan(L, R_annual, T_years, scenario) {
            if (L <= 0 || T_years < 1) return { monthlyPayment: 0, totalInterestPaid: 0, totalFee: 0, totalCost: 0 };
            
            let totalFee;
            const feeInput = adminFeeState[scenario].value;
            const feeMode = adminFeeState[scenario].mode;
            
            if (feeMode === 'percent') {
                const feePercentage = feeInput / 100;
                totalFee = L * feePercentage;
            } else {
                totalFee = feeInput;
            }

            const R_monthly = R_annual / 12;
            const N_months = T_years * 12;
            let monthlyPayment = 0;
            
            if (R_monthly > 0) {
                const powerFactor = Math.pow(1 + R_monthly, N_months);
                monthlyPayment = L * (R_monthly * powerFactor) / (powerFactor - 1);
            } else {
                monthlyPayment = L / N_months;
            }

            const totalInterestPaid = (monthlyPayment * N_months) - L;
            const totalCost = L + totalInterestPaid + totalFee;

            return {
                monthlyPayment: Math.round(monthlyPayment),
                totalInterestPaid: Math.round(totalInterestPaid),
                totalFee: Math.round(totalFee),
                totalCost: Math.round(totalCost)
            };
        }

        function calculateComparison(event) {
            event.preventDefault();
            const L = cleanInput(document.getElementById('loanAmount').value);
            const T_years = parseInt(document.getElementById('loanTermYears').value) || 0;
            const R_annual_A = parseFloat(document.getElementById('rateA').value) / 100;
            const R_annual_B = parseFloat(document.getElementById('rateB').value) / 100;
            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            if (L <= 0 || T_years < 1 || T_years > 5 || R_annual_A < 0 || R_annual_B < 0) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            const resultA = calculateLoan(L, R_annual_A, T_years, 'A');
            const resultB = calculateLoan(L, R_annual_B, T_years, 'B');

            // Ringkasan A
            document.getElementById('monthlyPaymentA').textContent = formatNumber(resultA.monthlyPayment);
            document.getElementById('totalInterestA').textContent = formatNumber(resultA.totalInterestPaid);
            document.getElementById('totalFeeA').textContent = formatNumber(resultA.totalFee);
            document.getElementById('totalCostA').textContent = formatNumber(resultA.totalCost);

            // Ringkasan B
            document.getElementById('monthlyPaymentB').textContent = formatNumber(resultB.monthlyPayment);
            document.getElementById('totalInterestB').textContent = formatNumber(resultB.totalInterestPaid);
            document.getElementById('totalFeeB').textContent = formatNumber(resultB.totalFee);
            document.getElementById('totalCostB').textContent = formatNumber(resultB.totalCost);

            // Tabel Perbandingan
            document.getElementById('compMonthlyA').textContent = formatNumber(resultA.monthlyPayment);
            document.getElementById('compMonthlyB').textContent = formatNumber(resultB.monthlyPayment);
            document.getElementById('diffMonthly').textContent = formatNumber(Math.abs(resultA.monthlyPayment - resultB.monthlyPayment));
            document.getElementById('bestMonthly').textContent = resultA.monthlyPayment < resultB.monthlyPayment ? "A" : (resultB.monthlyPayment < resultA.monthlyPayment ? "B" : "Tie");
            
            document.getElementById('compRateA').textContent = formatNumber(R_annual_A * 100, 2) + '%';
            document.getElementById('compRateB').textContent = formatNumber(R_annual_B * 100, 2) + '%';
            document.getElementById('diffRate').textContent = formatNumber(Math.abs(R_annual_A * 100 - R_annual_B * 100), 2) + '%';
            document.getElementById('bestRate').textContent = R_annual_A < R_annual_B ? "A" : (R_annual_B < R_annual_A ? "B" : "Tie");

            document.getElementById('compInterestA').textContent = formatNumber(resultA.totalInterestPaid);
            document.getElementById('compInterestB').textContent = formatNumber(resultB.totalInterestPaid);
            document.getElementById('diffInterest').textContent = formatNumber(Math.abs(resultA.totalInterestPaid - resultB.totalInterestPaid));
            document.getElementById('bestInterest').textContent = resultA.totalInterestPaid < resultB.totalInterestPaid ? "A" : (resultB.totalInterestPaid < resultA.totalInterestPaid ? "B" : "Tie");

            document.getElementById('compFeeA').textContent = formatNumber(resultA.totalFee);
            document.getElementById('compFeeB').textContent = formatNumber(resultB.totalFee);
            document.getElementById('diffFee').textContent = formatNumber(Math.abs(resultA.totalFee - resultB.totalFee));
            document.getElementById('bestFee').textContent = resultA.totalFee < resultB.totalFee ? "A" : (resultB.totalFee < resultA.totalFee ? "B" : "Tie");

            document.getElementById('compTotalCostA').textContent = formatNumber(resultA.totalCost);
            document.getElementById('compTotalCostB').textContent = formatNumber(resultB.totalCost);
            document.getElementById('diffTotalCost').textContent = formatNumber(Math.abs(resultA.totalCost - resultB.totalCost));
            document.getElementById('bestTotalCost').textContent = resultA.totalCost < resultB.totalCost ? "A (Saves " + formatNumber(Math.abs(resultA.totalCost - resultB.totalCost)) + ")" : (resultB.totalCost < resultA.totalCost ? "B (Saves " + formatNumber(Math.abs(resultA.totalCost - resultB.totalCost)) + ")" : "Tie");

            resultBox.classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Text Updates
            ['appTitle', 'headerTitle', 'toolSubtitle', 'labelLoanAmount', 'descLoanAmount', 'labelLoanTerm', 'descLoanTerm', 'calculateButton',
             'headerLoanA', 'headerLoanB', 'labelRateA', 'descRateA', 'labelAdminFeeA', 'modePercent', 'modeAbsolute', 'labelRateB', 'descRateB', 'labelAdminFeeB',
             'resultHeader', 'summaryHeaderA', 'summaryHeaderB', 'labelMonthlyA', 'labelMonthlyB', 'labelTotalInterestA', 'labelTotalInterestB',
             'labelTotalFeeA', 'labelTotalFeeB', 'labelTotalCostA', 'labelTotalCostB', 'tableHeader', 'colHeaderMetric', 'colHeaderLoanA', 'colHeaderLoanB',
             'colHeaderDifference', 'colHeaderBest', 'rowMonthlyPayment', 'rowInterestRate', 'rowTotalInterest', 'rowTotalFee', 'rowTotalCost',
             'sectionHeader1', 'sectionHeader2', 'sectionHeader3', 'sectionHeader4', 'tip2', 'tip3'
            ].forEach(id => {
                 const el = document.getElementById(id);
                 if(el) el.textContent = t[id] || t[id.replace('A', '')] || t[id.replace('B', '')];
            });
            
            // HTML Updates
            ['content1', 'content2', 'tip1', 'content4'].forEach(id => {
                document.getElementById(id).innerHTML = t[id];
            });

            // Update mode descriptions
            ['A', 'B'].forEach(scenario => {
                const mode = adminFeeState[scenario].mode;
                document.getElementById('descAdminFee' + scenario).textContent = mode === 'percent' ? t.descAdminFeePercent : t.descAdminFeeAbsolute;
            });

            // Related Articles & Tools
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) el.textContent = text;
            });
            
            if(document.getElementById('resultBox').classList.contains('visible')) calculateComparison({preventDefault:()=>{}});
        }
        
        // Observer
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((m) => {
                if (m.type === 'attributes' && m.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(document.documentElement.lang || 'en');
            setAdminFeeMode('A', adminFeeState.A.mode);
            setAdminFeeMode('B', adminFeeState.B.mode);
        });
    </script>
</body>
</html>