<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Cost of Living Calculator: Compare living expenses between two cities. Calculate the salary you need to maintain your standard of living when relocating." />
    
    <meta name="keywords" content="Cost of Living Calculator, Relocation Salary Calculator, Purchasing Power Parity, Living Expenses Comparison, Salary Adjustment Tool, Kalkulator Biaya Hidup, Perbandingan Biaya Hidup Antar Kota, Gaji Pindah Kerja, Standar Hidup Jakarta vs Luar Kota, Hitung Gaji Relokasi" />
 
    <title id="appTitle">Cost of Living Comparison & Salary Calculator - Digital Tools ID</title>

    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-biaya-hidup/" />
    <link rel="icon" href="data:,"> <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-biaya-hidup/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-biaya-hidup/index.html" />

    <meta name="theme-color" content="#1e3a8a">

    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* CSS LOKAL */
        
        /* Layout Hard Lock 50% Desktop */
        .layout-article-fixed { width: 100%; }
        @media (min-width: 1024px) {
            .layout-article-fixed { width: 50% !important; margin-left: auto !important; margin-right: auto !important; }
        }

        :root {
            --finance-primary: #1e3a8a; /* Navy Blue (Trust) */
        }

        /* Tombol Kalkulasi */
        .calculate-button {
            background-color: var(--finance-primary);
            box-shadow: 0 4px 0 #1e293b;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .calculate-button:hover {
            background-color: #172554;
            transform: translateY(2px);
            box-shadow: 0 2px 0 #1e293b;
        }
        .calculate-button:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem; 
        }

        .result-card-main {
            background-color: #f0fdf4; /* Green-50 */
            border: 2px solid #86efac; /* Green-300 */
        }

        .section-title {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #1e3a8a; 
        }

        .input-description {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
        
        /* Hover effects for tool cards */
        .tool-card:hover {
            border-color: #16a34a; /* Green-600 */
            transform: translateY(-2px);
        }
        
        /* Dynamic Text Highlight */
        .dynamic-text:hover {
            color: #15803d; /* Green-700 */
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>
    <script> window.headerCategory = 'finance'; </script>

    <main class="flex-grow p-4 sm:p-8 mx-auto layout-article-fixed">
        <div class="w-full bg-white shadow-xl rounded-xl p-6 sm:p-8 border border-gray-100">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3">Cost of Living Calculator</h1>
            <p id="toolSubtitle" class="text-sm text-gray-600 mb-6 leading-relaxed text-justify">
            </p>
            
            <form id="colForm" onsubmit="calculateCOL(event)" class="space-y-6">
                
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="section-title text-lg" id="headerIncome">1. Current Income</h2>
                    <div class="relative">
                        <label for="currentSalary" class="block text-sm font-medium text-gray-700 mb-1" id="labelCurrentSalary">Current Monthly Net Salary</label>
                        <input type="text" id="currentSalary" inputmode="numeric" value="10.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition text-sm" required>
                        <p class="input-description" id="descCurrentSalary">Gaji bersih (take home pay) Anda saat ini di lokasi asal.</p>
                    </div>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="section-title text-lg" id="headerExpenses">2. Expense Comparison</h2>
                    <p class="text-xs text-gray-500 mb-4 italic" id="noteEstimates">Enter estimates for key monthly expenses.</p>
                    
                    <div class="grid grid-cols-3 gap-4 mb-2 font-bold text-xs text-gray-700">
                        <div id="colCategory">Category</div>
                        <div id="colCurrent">Current Loc</div>
                        <div id="colNew">New Loc</div>
                    </div>

                    <div class="grid grid-cols-3 gap-3 mb-4 items-center">
                        <label class="text-xs sm:text-sm font-medium text-gray-600" id="labelRent">Housing</label>
                        <input type="text" id="rentCurrent" inputmode="numeric" value="3.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                        <input type="text" id="rentNew" inputmode="numeric" value="4.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                    </div>

                    <div class="grid grid-cols-3 gap-3 mb-4 items-center">
                        <label class="text-xs sm:text-sm font-medium text-gray-600" id="labelFood">Food</label>
                        <input type="text" id="foodCurrent" inputmode="numeric" value="2.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                        <input type="text" id="foodNew" inputmode="numeric" value="3.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                    </div>

                    <div class="grid grid-cols-3 gap-3 mb-4 items-center">
                        <label class="text-xs sm:text-sm font-medium text-gray-600" id="labelTransport">Transport</label>
                        <input type="text" id="transCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                        <input type="text" id="transNew" inputmode="numeric" value="1.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                    </div>

                    <div class="grid grid-cols-3 gap-3 mb-4 items-center">
                        <label class="text-xs sm:text-sm font-medium text-gray-600" id="labelUtilities">Utilities</label>
                        <input type="text" id="utilCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                        <input type="text" id="utilNew" inputmode="numeric" value="1.200.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                    </div>
                    
                     <div class="grid grid-cols-3 gap-3 mb-4 items-center">
                        <label class="text-xs sm:text-sm font-medium text-gray-600" id="labelOther">Other</label>
                        <input type="text" id="otherCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                        <input type="text" id="otherNew" inputmode="numeric" value="1.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-green-500 outline-none text-xs sm:text-sm">
                    </div>

                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-bold py-3 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50 text-sm">
                    Compare Living Costs
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-xs" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-8 p-6 rounded-xl shadow-lg result-card-main">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-6 text-gray-800 border-b pb-2 border-green-300">Comparison Result</h3>
                
                <div class="text-center mb-8">
                    <p id="labelRequiredSalary" class="text-sm font-bold text-gray-700 mb-1">To maintain your lifestyle, you need to earn:</p>
                    <p id="resultRequiredSalary" class="text-3xl font-extrabold text-green-700">0</p>
                    <div id="diffBadge" class="inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold bg-gray-200 text-gray-700">
                        0% Difference
                    </div>
                </div>

                <div class="mb-8 bg-white p-4 rounded-lg border border-green-200">
                    <h4 id="headerInterpretation" class="text-sm font-bold text-gray-800 mb-2">Analysis</h4>
                    <p id="textInterpretation" class="text-xs sm:text-sm text-gray-700 leading-relaxed">
                        </p>
                </div>

                <h4 id="detailHeader" class="text-sm font-bold text-gray-800 mb-3">Cost Breakdown Summary</h4>
                <div class="bg-white rounded-lg shadow overflow-hidden border border-gray-200 text-xs sm:text-sm">
                    <div class="grid grid-cols-3 bg-gray-100 p-3 font-bold border-b">
                        <div id="tableCat">Category</div>
                        <div class="text-right" id="tableCurr">Current</div>
                        <div class="text-right" id="tableNew">New</div>
                    </div>
                    <div class="p-3 grid grid-cols-3 border-b">
                        <div>Total Expenses</div>
                        <div class="text-right" id="valTotalCurr">0</div>
                        <div class="text-right" id="valTotalNew">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-3 border-b bg-green-50">
                        <div id="labelDisposable">Disposable Inc.</div>
                        <div class="text-right text-green-700" id="valDispCurr">0</div>
                        <div class="text-right text-green-700" id="valDispNew">0</div>
                    </div>
                </div>

            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-lg font-bold text-gray-800 mb-2">Evaluating Cost of Living</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>

                <h3 id="sectionHeader2" class="text-base font-bold text-gray-800 mb-2">Hidden Costs of Relocation</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>

                <h3 id="sectionHeader3" class="text-base font-bold text-gray-800 mb-2">Negotiating Your Salary</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul class="text-gray-600 text-sm leading-relaxed text-justify mb-4 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-base font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="max-w-4xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 bg-green-600 mr-3 rounded"></div> 
            <h2 class="text-xl font-bold text-gray-800" 
                data-en="Finance & Planning Tools" 
                data-id="Alat Keuangan & Perencanaan">
                Finance & Planning Tools
            </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Monthly Budget Calculator" data-id="Kalkulator Anggaran Bulanan">
                    Monthly Budget Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Plan your 50/30/20 budget allocation."
                    data-id="Rencanakan alokasi anggaran 50/30/20 Anda.">
                    Plan your 50/30/20 budget allocation.
                </p>
            </a>
            
            <a href="../kalkulator-konversi-gaji/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Salary Converter (Net/Gross)" data-id="Kalkulator Konversi Gaji">
                    Salary Converter (Net/Gross)
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Convert hourly/monthly/annual salary."
                    data-id="Konversi gaji per jam/bulan/tahun.">
                    Convert hourly/monthly/annual salary.
                </p>
            </a>

            <a href="../kalkulator-dana-darurat/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Emergency Fund Calculator" data-id="Kalkulator Dana Darurat">
                    Emergency Fund Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Calculate your safety net needs."
                    data-id="Hitung kebutuhan dana cadangan Anda.">
                    Calculate your safety net needs.
                </p>
            </a>
        </div>

        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" 
                data-en="Related Articles:" data-id="Artikel Terkait:">
                Related Articles:
            </h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm hover:underline group dynamic-text">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Strategies to Accelerate Debt Repayment" 
                              data-id="Strategi Mempercepat Pelunasan Utang">
                            Strategies to Accelerate Debt Repayment
                        </span>
                    </a>
                </li>
                <li>
                    <a href="../articles/analisis-titik-impas-bisnis.html" class="flex items-center text-sm hover:underline group dynamic-text">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Business Viability Analysis: BEP, NPV & IRR" 
                              data-id="Analisis Kelayakan Bisnis: BEP, NPV & IRR">
                            Business Viability Analysis: BEP, NPV & IRR
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>
    
    <script>
        // TRANSLATION & LOGIC
        const translations = {
            id: {
                appTitle: "Kalkulator Biaya Hidup & Gaji",
                headerTitle: "Kalkulator Biaya Hidup",
                toolSubtitle: "Alat ini dirancang untuk Anda yang sedang mempertimbangkan <b>pindah kota atau negara</b>. Bandingkan biaya esensial (sewa, makanan, transportasi) untuk menghitung estimasi gaji yang Anda butuhkan agar standar hidup Anda tidak turun.",
                
                headerIncome: "1. Profil Gaji Saat Ini",
                labelCurrentSalary: "Gaji Bersih Bulanan Saat Ini",
                descCurrentSalary: "Pendapatan bersih (take home pay) sekarang.",
                
                headerExpenses: "2. Perbandingan Pengeluaran",
                noteEstimates: "Masukkan estimasi pengeluaran bulanan.",
                colCategory: "Kategori",
                colCurrent: "Lokasi Saat Ini",
                colNew: "Lokasi Tujuan",
                
                labelRent: "Sewa Tempat Tinggal",
                labelFood: "Makanan & Belanja",
                labelTransport: "Transportasi",
                labelUtilities: "Utilitas (Listrik/Air)",
                labelOther: "Lainnya",
                
                calculateButton: "Bandingkan Biaya",
                inputError: "Mohon masukkan nilai angka yang valid.",
                
                resultHeader: "Hasil Perbandingan",
                labelRequiredSalary: "Untuk mempertahankan gaya hidup, Anda butuh gaji:",
                
                headerInterpretation: "Analisis",
                interpHigher: "<b>Biaya hidup LEBIH TINGGI.</b> Anda memerlukan kenaikan gaji setidaknya sebesar persentase di atas untuk mempertahankan standar hidup yang sama.",
                interpLower: "<b>Biaya hidup LEBIH RENDAH.</b> Kabar baik! Jika gaji Anda tetap, daya beli Anda meningkat drastis.",
                interpEqual: "<b>Biaya hidup RELATIF SAMA.</b> Perbedaan biaya tidak signifikan.",
                
                detailHeader: "Ringkasan Biaya",
                tableCat: "Kategori",
                tableCurr: "Saat Ini",
                tableNew: "Baru",
                labelDisposable: "Sisa Uang (Disposable)",
                
                sectionHeader1: "Mengevaluasi Biaya Hidup",
                content1: "Biaya hidup bervariasi drastis antar lokasi. Kalkulator ini menggunakan metode <b>Purchasing Power Parity (PPP)</b> sederhana berdasarkan keranjang pengeluaran Anda.",
                sectionHeader2: "Biaya Tersembunyi Relokasi",
                content2: "Jangan lupakan biaya satu kali (one-off) saat pindah: jasa pindahan, deposit sewa, dan pembelian perabot baru.",
                sectionHeader3: "Negosiasi Gaji",
                content3: "Gunakan hasil ini saat negosiasi:",
                tip1: "<b>Jangan Terima Nominal Mentah:</b> Nominal sama di kota mahal = penurunan gaji.",
                tip2: "<b>Fokus Disposable Income:</b> Pastikan sisa uang tabungan tetap aman.",
                tip3: "<b>Riset Pasar:</b> Cek standar gaji pasar untuk posisi Anda di kota tujuan.",
                sectionHeader4: "Disclaimer",
                content4: "Hasil ini adalah estimasi berdasarkan input Anda. Pola konsumsi individu berbeda. Gunakan sebagai panduan awal."
            },
            en: {
                appTitle: "Cost of Living Calculator",
                headerTitle: "Cost of Living Calculator",
                toolSubtitle: "Designed for those considering <b>relocating</b>. Compare essential costs (rent, food, transport) to estimate the salary you need to maintain your current standard of living.",
                
                headerIncome: "1. Current Income Profile",
                labelCurrentSalary: "Current Monthly Net Salary",
                descCurrentSalary: "Your current monthly take-home pay.",
                
                headerExpenses: "2. Expense Comparison",
                noteEstimates: "Enter monthly estimates.",
                colCategory: "Category",
                colCurrent: "Current Loc",
                colNew: "Target Loc",
                
                labelRent: "Housing / Rent",
                labelFood: "Food & Groceries",
                labelTransport: "Transportation",
                labelUtilities: "Utilities",
                labelOther: "Others",
                
                calculateButton: "Compare Living Costs",
                inputError: "Please enter valid numeric values.",
                
                resultHeader: "Comparison Result",
                labelRequiredSalary: "To maintain your lifestyle, you need:",
                
                headerInterpretation: "Analysis",
                interpHigher: "<b>Cost of living is HIGHER.</b> You need a salary increase of at least the percentage shown above to maintain your lifestyle.",
                interpLower: "<b>Cost of living is LOWER.</b> Great news! If your salary stays the same, your purchasing power increases.",
                interpEqual: "<b>Cost of living is SIMILAR.</b> The financial difference is negligible.",
                
                detailHeader: "Cost Summary",
                tableCat: "Category",
                tableCurr: "Current",
                tableNew: "New",
                labelDisposable: "Disposable Income",
                
                sectionHeader1: "Evaluating Cost of Living",
                content1: "Living costs vary drastically. This tool uses a simplified <b>Purchasing Power Parity (PPP)</b> approach based on your personal spending.",
                sectionHeader2: "Hidden Relocation Costs",
                content2: "Don't forget one-off expenses: moving services, rental deposits, and new furniture.",
                sectionHeader3: "Negotiating Salary",
                content3: "Use this leverage:",
                tip1: "<b>Don't Accept Nominal Value:</b> Same salary in a pricier city = pay cut.",
                tip2: "<b>Focus on Disposable Income:</b> Ensure your savings potential remains healthy.",
                tip3: "<b>Market Research:</b> Check market rates for your role in the target city.",
                sectionHeader4: "Disclaimer",
                content4: "This is an estimate based on your inputs. Individual patterns vary. Use as a preliminary guide."
            }
        };

        let currentLang = 'en'; 

        function formatNumber(amount, decimalPlaces = 0) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: decimalPlaces,
                maximumFractionDigits: decimalPlaces,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; 
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateCOL(event) {
            if (event && event.preventDefault) event.preventDefault();
            
            const salary = cleanInput(document.getElementById('currentSalary').value);
            const rent1 = cleanInput(document.getElementById('rentCurrent').value);
            const food1 = cleanInput(document.getElementById('foodCurrent').value);
            const trans1 = cleanInput(document.getElementById('transCurrent').value);
            const util1 = cleanInput(document.getElementById('utilCurrent').value);
            const other1 = cleanInput(document.getElementById('otherCurrent').value);
            
            const rent2 = cleanInput(document.getElementById('rentNew').value);
            const food2 = cleanInput(document.getElementById('foodNew').value);
            const trans2 = cleanInput(document.getElementById('transNew').value);
            const util2 = cleanInput(document.getElementById('utilNew').value);
            const other2 = cleanInput(document.getElementById('otherNew').value);

            if (salary < 0) return;

            const totalExp1 = rent1 + food1 + trans1 + util1 + other1;
            const totalExp2 = rent2 + food2 + trans2 + util2 + other2;
            
            let increaseRatio = 0;
            if (totalExp1 > 0) {
                increaseRatio = (totalExp2 - totalExp1) / totalExp1;
            }
            
            // Logic: Proportional increase required on Salary based on Expense increase
            // If expenses double, salary should optimally double to keep same savings ratio
            // Or simpler: New Salary = Salary + (Diff Expenses)
            // Method used here: Ratio based (Standard of Living)
            const requiredSalary = salary * (totalExp2 / totalExp1) || salary; 
            
            const disp1 = salary - totalExp1;
            const disp2 = requiredSalary - totalExp2;

            document.getElementById('resultRequiredSalary').textContent = formatNumber(Math.round(requiredSalary));
            const badge = document.getElementById('diffBadge');
            const percentageDiff = (increaseRatio * 100).toFixed(1);
            
            if (increaseRatio > 0.01) {
                badge.textContent = `+${percentageDiff}% Higher Costs`;
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-700";
            } else if (increaseRatio < -0.01) {
                badge.textContent = `${percentageDiff}% Lower Costs`;
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700";
            } else {
                badge.textContent = "Similar Costs";
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-xs font-bold bg-gray-200 text-gray-700";
            }

            const t = translations[currentLang];
            const interpBox = document.getElementById('textInterpretation');
            if (increaseRatio > 0.01) {
                interpBox.innerHTML = t.interpHigher;
                interpBox.parentElement.classList.add('border-red-200', 'bg-red-50');
                interpBox.parentElement.classList.remove('border-green-200', 'bg-green-50');
            } else if (increaseRatio < -0.01) {
                interpBox.innerHTML = t.interpLower;
                interpBox.parentElement.classList.add('border-green-200', 'bg-green-50');
                 interpBox.parentElement.classList.remove('border-red-200', 'bg-red-50');
            } else {
                interpBox.innerHTML = t.interpEqual;
                interpBox.parentElement.classList.remove('border-red-200', 'bg-red-50', 'border-green-200', 'bg-green-50');
            }

            document.getElementById('valTotalCurr').textContent = formatNumber(totalExp1);
            document.getElementById('valTotalNew').textContent = formatNumber(totalExp2);
            document.getElementById('valDispCurr').textContent = formatNumber(disp1);
            document.getElementById('valDispNew').textContent = formatNumber(Math.round(disp2));

            document.getElementById('resultBox').classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').innerHTML = t.toolSubtitle;
            
            document.getElementById('headerIncome').textContent = t.headerIncome;
            document.getElementById('labelCurrentSalary').textContent = t.labelCurrentSalary;
            document.getElementById('descCurrentSalary').textContent = t.descCurrentSalary;
            
            document.getElementById('headerExpenses').textContent = t.headerExpenses;
            document.getElementById('noteEstimates').textContent = t.noteEstimates;
            document.getElementById('colCategory').textContent = t.colCategory;
            document.getElementById('colCurrent').textContent = t.colCurrent;
            document.getElementById('colNew').textContent = t.colNew;
            
            document.getElementById('labelRent').textContent = t.labelRent;
            document.getElementById('labelFood').textContent = t.labelFood;
            document.getElementById('labelTransport').textContent = t.labelTransport;
            document.getElementById('labelUtilities').textContent = t.labelUtilities;
            document.getElementById('labelOther').textContent = t.labelOther;
            
            document.getElementById('calculateButton').textContent = t.calculateButton;
            
            // Re-format Inputs
            const inputs = ['currentSalary', 'rentCurrent', 'foodCurrent', 'transCurrent', 'utilCurrent', 'otherCurrent', 'rentNew', 'foodNew', 'transNew', 'utilNew', 'otherNew'];
            inputs.forEach(id => {
                const el = document.getElementById(id);
                if(el) el.value = formatNumber(cleanInput(el.value));
            });

            document.getElementById('resultHeader').textContent = t.resultHeader;
            document.getElementById('labelRequiredSalary').textContent = t.labelRequiredSalary;
            document.getElementById('headerInterpretation').textContent = t.headerInterpretation;
            
            document.getElementById('detailHeader').textContent = t.detailHeader;
            document.getElementById('tableCat').textContent = t.tableCat;
            document.getElementById('tableCurr').textContent = t.tableCurr;
            document.getElementById('tableNew').textContent = t.tableNew;
            document.getElementById('labelDisposable').textContent = t.labelDisposable;
            
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3;
            document.getElementById('tip1').innerHTML = t.tip1;
            document.getElementById('tip2').innerHTML = t.tip2;
            document.getElementById('tip3').innerHTML = t.tip3;
            document.getElementById('sectionHeader4').textContent = t.sectionHeader4;
            document.getElementById('content4').textContent = t.content4;
            
            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateCOL({preventDefault:()=>{}});
            }

            // Translate Related Section
            document.querySelectorAll('#related-tools-section [data-en]').forEach(el => {
                const newText = el.getAttribute(`data-${lang}`);
                if (newText) el.textContent = newText;
            });
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            observer.observe(document.documentElement, { attributes: true });
            setLanguage('en');
        });
    </script>
</body>
</html>