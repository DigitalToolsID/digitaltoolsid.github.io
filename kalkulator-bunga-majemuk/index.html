<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-bunga-majemuk/" />
    <!-- Judul akan di-set oleh JS -->
    <title id="appTitle">Kalkulator Bunga Majemuk</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Kode Google Analytic dan Adsense -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864"
         crossorigin="anonymous"></script>
    
    <!-- Konfigurasi Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#2c3e50', 
                        'secondary': '#3498db', 
                        'primary-dark': '#1e3a8a', 
                        'finance-color': '#27ae60', // Hijau untuk Keuangan
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Gaya kustom untuk tampilan hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 1200px; 
            padding: 1.5rem; 
        }
        
        /* Gaya Toggle Bahasa (Sama seperti alat BMI/Siklus) */
        .lang-toggle-container {
            position: relative;
            display: inline-flex;
            background-color: #e5e7eb; 
            border-radius: 9999px; 
            padding: 4px;
        }
        .lang-toggle-btn {
            padding: 6px 14px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            color: #6b7280; 
            transition: color 0.3s ease;
            position: relative;
        }
        .lang-toggle-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px); 
            background-color: #1e3a8a; /* Primary-dark */
            border-radius: 9999px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .lang-toggle-container.lang-en .lang-toggle-slider { transform: translateX(0%); }
        .lang-toggle-container.lang-id .lang-toggle-slider { transform: translateX(100%); }
        .lang-toggle-container.lang-en #lang-en { color: white; }
        .lang-toggle-container.lang-id #lang-id { color: white; }
        
        /* Gaya kustom untuk input dan tombol */
        .calculate-button {
            box-shadow: 0 4px #1e8449; /* Warna hijau yang lebih gelap */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #1e8449;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #1e8449;
        }
        
        /* Gaya untuk deskripsi input baru */
        .input-description {
            font-size: 0.75rem; /* text-xs */
            color: #6b7280; /* text-gray-500 */
            margin-top: 0.25rem;
        }
    </style>
</head>

<!-- Body dengan kode pengaman (Sama seperti alat yang lain) -->
<body class="bg-gray-50 flex flex-col min-h-screen font-sans" oncontextmenu="return false;" oncopy="return false;" oncut="return false;">

    <!-- Header -->
    <header class="bg-primary-dark text-white py-4 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            
            <a href="../index.html" class="text-lg font-semibold tracking-tight text-gray-200 hover:text-white transition duration-150">
                &larr; <span id="backToCatalogText">Back to Tools Catalog</span>
            </a>
            
            <div id="languageSwitcher" class="lang-toggle-container lang-en">
                <div id="langToggleSlider" class="lang-toggle-slider"></div>
                <button id="lang-en" onclick="setLanguage('en')" class="lang-toggle-btn">
                    EN
                </button>
                <button id="lang-id" onclick="setLanguage('id')" class="lang-toggle-btn">
                    ID
                </button>
            </div>
            </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-lg bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-primary-dark mb-3">Compound Interest Calculator</h1>
            
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6">
                Calculate the future value of your investments and harness the power of compounding.
            </p>
            
            <!-- Form Input (Telah ditambahkan oninput untuk formatting ribuan) -->
            <form id="compoundForm" onsubmit="calculateCompoundInterest(event)" class="space-y-4">
                
                <div class="relative">
                    <label for="initialPrincipal" class="block text-sm font-medium text-gray-700 mb-1" id="labelPrincipal">Initial Investment</label>
                    <input type="text" id="initialPrincipal" inputmode="numeric" value="10.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color transition duration-150" required>
                    <p class="input-description" id="descPrincipal">Jumlah uang yang Anda masukkan pertama kali (modal awal) di hari pertama investasi.</p>
                </div>
                
                <div class="relative">
                    <label for="annualContribution" class="block text-sm font-medium text-gray-700 mb-1" id="labelContribution">Annual Contribution</label>
                    <input type="text" id="annualContribution" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color transition duration-150" required>
                    <p class="input-description" id="descContribution">Total jumlah uang yang akan Anda tambahkan ke investasi setiap tahun. Kalkulator ini membagi jumlah ini secara merata per bulan.</p>
                </div>

                <div class="relative">
                    <label for="annualRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelRate">Annual Interest Rate (%)</label>
                    <input type="number" id="annualRate" min="0" step="0.1" value="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color transition duration-150" required>
                    <p class="input-description" id="descRate">Rata-rata persentase bunga/keuntungan yang Anda harapkan per tahun.</p>
                </div>
                
                <div class="relative">
                    <label for="years" class="block text-sm font-medium text-gray-700 mb-1" id="labelYears">Investment Period (Years)</label>
                    <input type="number" id="years" min="1" max="50" value="10" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color transition duration-150" required>
                    <p class="input-description" id="descYears">Berapa lama total waktu investasi Anda berlangsung.</p>
                </div>

                <div class="relative">
                    <label for="compoundingFrequency" class="block text-sm font-medium text-gray-700 mb-1" id="labelFrequency">Compounding Frequency</label>
                    <select id="compoundingFrequency" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color transition duration-150">
                        <option value="1" id="optAnnually">Annually (1x/year)</option>
                        <option value="2" id="optSemiAnnually">Semi-Annually (2x/year)</option>
                        <option value="4" id="optQuarterly">Quarterly (4x/year)</option>
                        <option value="12" id="optMonthly" selected>Monthly (12x/year)</option>
                    </select>
                    <p class="input-description" id="descFrequency">Seberapa sering bunga dihitung dan ditambahkan kembali ke modal pokok.</p>
                </div>


                <button type="submit" id="calculateButton" class="calculate-button w-full bg-finance-color text-white font-semibold py-3 rounded-xl hover:bg-green-700 transition duration-300 ease-in-out transform focus:outline-none focus:ring-4 focus:ring-finance-color focus:ring-opacity-50">
                    Calculate Future Value
                </button>
                
                <!-- Error Alert -->
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <!-- Result Box -->
            <div id="resultBox" class="result-box mt-6 bg-finance-color/5 border border-finance-color/30 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-4 text-primary border-b pb-2">Investment Growth Summary</h3>
                
                <div class="space-y-4">
                    <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                        <p id="labelFutureValue" class="text-sm text-green-800 font-medium mb-1">Total Future Value</pre>
                        <p id="futureValueResult" class="text-3xl font-extrabold text-finance-color">0</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg">
                            <p id="labelTotalPrincipal" class="text-sm text-gray-800 font-medium mb-1">Total Principal Invested</p>
                            <p id="totalPrincipalResult" class="text-xl font-bold text-gray-700">0</p>
                        </div>
                        <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <p id="labelTotalInterest" class="text-sm text-yellow-800 font-medium mb-1">Total Interest Earned</p>
                            <p id="totalInterestResult" class="text-xl font-bold text-yellow-700">0</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Konten Edukasi (Telah ditambahkan Contoh Kasus) -->
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">The Magic of Compounding</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Contoh Kasus dan Implementasi Kalkulator</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul id="caseExampleList" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="exampleType"></li>
                    <li id="example1"></li>
                    <li id="example2"></li>
                    <li id="example3"></li>
                    <li id="exampleResult"></li>
                </ul>

                <h3 id="sectionHeader5" class="text-lg font-bold text-gray-800 mb-2">Investasi Relevan dengan Kalkulator Bunga Majemuk</h3>
                <p id="content5" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul id="relevantInvestmentList" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="relevant1"></li>
                    <li id="relevant2"></li>
                </ul>


                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Why Compounding Frequency Matters</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <!-- Footer (Sama seperti alat yang lain) -->
    <footer class="mt-12 py-6 border-t border-gray-200 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="footerLinks" class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
                <a href="../privacy-policy.html" id="linkPrivacy" class="hover:text-secondary transition duration-150 ease-in-out">Privacy Policy</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../terms-of-service.html" id="linkTerms" class="hover:text-secondary transition duration-150 ease-in-out">Terms of Service</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../about-us.html" id="linkAbout" class="hover:text-secondary transition duration-150 ease-in-out">About Us</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../contact-us.html" id="linkContact" class="hover:text-secondary transition duration-150 ease-in-out">Contact Us</a>
            </div>
            
            <div class="mt-6 text-center text-xs text-gray-500">
                <span id="footerCopyright">&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics.</span>
            </div>
        </div>
    </footer>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR BUNGA MAJEMUK
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Bunga Majemuk",
                headerTitle: "Kalkulator Bunga Majemuk",
                toolSubtitle: "Hitung nilai masa depan investasi Anda dan manfaatkan kekuatan penggandaan.",
                backToCatalogText: "Kembali ke Katalog Alat",
                // Input - Dihapus label mata uang
                labelPrincipal: "Modal Awal",
                descPrincipal: "Jumlah uang yang Anda masukkan pertama kali (modal awal) di hari pertama investasi.",
                labelContribution: "Kontribusi Tahunan",
                descContribution: "Total jumlah uang yang akan Anda tambahkan ke investasi setiap tahun. Kalkulator ini membagi jumlah ini secara merata per bulan.",
                labelRate: "Suku Bunga Tahunan (%)",
                descRate: "Rata-rata persentase bunga/keuntungan yang Anda harapkan per tahun.",
                labelYears: "Periode Investasi (Tahun)",
                descYears: "Berapa lama total waktu investasi Anda berlangsung.",
                labelFrequency: "Frekuensi Penggabungan Bunga",
                descFrequency: "Seberapa sering bunga dihitung dan ditambahkan kembali ke modal pokok.",
                optAnnually: "Tahunan (1x/tahun)",
                optSemiAnnually: "Semi-Tahunan (2x/tahun)",
                optQuarterly: "Kuartalan (4x/tahun)",
                optMonthly: "Bulanan (12x/tahun)",
                calculateButton: "Hitung Nilai Masa Depan",
                inputError: "Mohon masukkan semua nilai input yang valid (Modal, Kontribusi, Bunga, dan Tahun harus >= 0).",
                // Hasil
                resultHeader: "Ringkasan Pertumbuhan Investasi",
                labelFutureValue: "Total Nilai Masa Depan",
                labelTotalPrincipal: "Total Modal yang Diinvestasikan",
                labelTotalInterest: "Total Bunga yang Diperoleh",

                // Konten Edukasi
                sectionHeader1: "Keajaiban Penggandaan (Compounding)",
                content1: "Bunga Majemuk (Compound Interest) adalah bunga yang dihitung dari jumlah pokok awal ditambah dengan semua bunga yang telah diakumulasikan dari periode-periode investasi sebelumnya. Ini adalah konsep yang oleh Albert Einstein disebut sebagai 'keajaiban dunia kedelapan'. <br>Dengan menginvestasikan kembali bunga yang Anda peroleh, Anda akan menghasilkan bunga atas bunga, yang menyebabkan pertumbuhan investasi Anda menjadi eksponensial seiring waktu, terutama dalam jangka panjang.",
                
                sectionHeader4: "Contoh Kasus dan Implementasi Kalkulator",
                content4: "Mari kita lihat implementasi perhitungan bunga majemuk dengan contoh praktis. **Konteks investasi dalam contoh ini adalah Tabungan Berjangka Bank**, di mana bunga dihitung dan ditambahkan kembali secara bulanan:",
                exampleType: "Jenis Investasi Contoh: Tabungan Berjangka Bank (Penggabungan Bulanan).",
                example1: "Modal Awal: 10.000.000",
                example2: "Kontribusi Tahunan: 1.200.000 (Setara 100.000/bulan)",
                example3: "Periode Investasi: 10 Tahun, Suku Bunga: 5% per tahun, Penggabungan: Bulanan.",
                exampleResult: "Dengan input di atas, total nilai masa depan (Future Value) investasi Anda setelah 10 tahun adalah sekitar 24.385.700. Ini terdiri dari 22.000.000 modal yang Anda setorkan dan 2.385.700 total bunga yang dihasilkan.",

                sectionHeader5: "Investasi Relevan dengan Kalkulator Bunga Majemuk",
                content5: "Dua jenis investasi lain yang relevan dan sering menggunakan kalkulasi bunga majemuk adalah:",
                relevant1: "Sertifikat Deposito (Certificate of Deposit/CD): Instrumen investasi yang memberikan bunga pada interval tertentu (bulanan, kuartalan) dan dapat diinvestasikan kembali (compounded).",
                relevant2: "Asuransi Dwiguna (Endowment): Polis asuransi yang menggabungkan proteksi dan tabungan, di mana elemen investasi dapat bertumbuh secara majemuk dari waktu ke waktu.",

                sectionHeader2: "Mengapa Frekuensi Penggabungan Penting",
                content2: "Frekuensi penggabungan bunga ('compounding frequency') menunjukkan seberapa sering bunga Anda dihitung dan ditambahkan kembali ke modal pokok. Semakin sering frekuensi penggabungan (misalnya, Bulanan vs. Tahunan), semakin cepat investasi Anda tumbuh. Ini karena bunga yang ditambahkan ke modal pokok Anda mulai menghasilkan bunga *lebih cepat*, memanfaatkan penggandaan secara maksimal. Selalu cari investasi dengan frekuensi penggabungan yang paling sering.",
                
                sectionHeader3: "Penting (Disclaimer)",
                content3: "Kalkulator ini menggunakan formula investasi sederhana untuk memproyeksikan nilai masa depan dan mengasumsikan suku bunga dan kontribusi konstan. Hasil ini adalah estimasi teoretis. Kinerja investasi aktual dapat sangat bervariasi karena biaya, pajak, inflasi, dan fluktuasi pasar. Selalu berkonsultasi dengan penasihat keuangan profesional sebelum membuat keputusan investasi.",

                // Footer
                linkPrivacy: "Kebijakan Privasi",
                linkTerms: "Ketentuan Layanan",
                linkAbout: "Tentang Kami",
                linkContact: "Hubungi Kami",
                footerCopyright: "&copy; 2025 Digital Tools ID. Semua hak dilindungi. Dikembangkan oleh DTID Analytics."
            },
            en: {
                appTitle: "Compound Interest Calculator",
                headerTitle: "Compound Interest Calculator",
                toolSubtitle: "Calculate the future value of your investments and harness the power of compounding.",
                backToCatalogText: "Back to Tools Catalog",
                // Input - Dihapus label mata uang
                labelPrincipal: "Initial Investment",
                descPrincipal: "The initial sum of money you deposit on the first day of the investment.",
                labelContribution: "Annual Contribution",
                descContribution: "The total amount of money you will add to the investment each year. This calculator divides this amount evenly per month.",
                labelRate: "Annual Interest Rate (%)",
                descRate: "The average percentage of interest/return you expect per year.",
                labelYears: "Investment Period (Years)",
                descYears: "The total duration for which your investment will run.",
                labelFrequency: "Compounding Frequency",
                descFrequency: "How often the interest is calculated and added back to the principal.",
                optAnnually: "Annually (1x/year)",
                optSemiAnnually: "Semi-Annually (2x/year)",
                optQuarterly: "Quarterly (4x/year)",
                optMonthly: "Monthly (12x/year)",
                calculateButton: "Calculate Future Value",
                inputError: "Please enter all valid input values (Principal, Contribution, Rate, and Years must be >= 0).",
                // Hasil
                resultHeader: "Investment Growth Summary",
                labelFutureValue: "Total Future Value",
                labelTotalPrincipal: "Total Principal Invested",
                labelTotalInterest: "Total Interest Earned",

                // Konten Edukasi
                sectionHeader1: "The Magic of Compounding",
                content1: "Compound interest is interest calculated on the initial principal, which also includes all of the accumulated interest from previous periods of an investment. This is the concept Albert Einstein famously called 'the eighth wonder of the world.' <br>By reinvesting the interest you earn, you generate interest on interest, leading to your investment growing exponentially over time, especially in the long run.",
                
                sectionHeader4: "Case Example and Calculator Implementation",
                content4: "Let's review the implementation of compound interest calculation with a practical example. **The investment context in this example is a Bank Time Deposit (Tabungan Berjangka)**, where interest is calculated and compounded monthly:",
                exampleType: "Example Investment Type: Bank Time Deposit (Monthly Compounding).",
                example1: "Initial Investment: 10,000,000",
                example2: "Annual Contribution: 1,200,000 (Equivalent to 100,000/month)",
                example3: "Investment Period: 10 Years, Interest Rate: 5% per annum, Compounding: Monthly.",
                exampleResult: "With the inputs above, the total future value of your investment after 10 years is approximately 24,385,700. This consists of 22,000,000 principal you contributed and 2,385,700 total interest earned.",

                sectionHeader5: "Relevant Investments for Compound Interest Calculator",
                content5: "Two other relevant investment types that often use compound interest calculation are:",
                relevant1: "Certificate of Deposit (CD): An investment instrument that pays interest at set intervals (monthly, quarterly) and can be reinvested (compounded).",
                relevant2: "Endowment Insurance: An insurance policy that combines protection and savings, where the investment element can grow through compounding over time.",

                sectionHeader2: "Why Compounding Frequency Matters",
                content2: "Compounding frequency indicates how often your interest is calculated and added back to the principal. The more frequent the compounding (e.g., Monthly vs. Annually), the faster your investment grows. This is because the interest added to your principal starts earning interest *sooner*, leveraging compounding to its maximum potential. Always look for investments with the most frequent compounding schedule possible.",
                
                sectionHeader3: "Disclaimer",
                content3: "This calculator uses a simplified investment formula to project future value and assumes a constant interest rate and contribution. The result is a theoretical estimate. Actual investment performance can vary significantly due to fees, taxes, inflation, and market fluctuations. Always consult a professional financial advisor before making investment decisions.",

                // Footer
                linkPrivacy: "Privacy Policy",
                linkTerms: "Terms of Service",
                linkAbout: "About Us",
                linkContact: "Contact Us",
                footerCopyright: "&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics."
            }
        };

        let currentLang = 'en'; // Default language

        // Fungsi utilitas untuk memformat angka dengan pemisah ribuan
        function formatNumber(amount) {
            // Menggunakan Intl.NumberFormat untuk memastikan pemisah ribuan lokal
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        }

        // Fungsi yang dipanggil oleh event oninput untuk memformat input secara real-time
        function formatInput(inputElement) {
            // Hapus semua non-digit untuk mendapatkan nilai mentah
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            
            // Konversi ke angka, lalu format, lalu kembalikan ke input value
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; // Biarkan kosong jika tidak ada input
            }
        }
        
        // Fungsi untuk membersihkan format dari input string (misalnya "10.000.000" menjadi 10000000)
        function cleanInput(formattedValue) {
            // Menghapus semua karakter non-digit (termasuk titik/koma pemisah ribuan)
            // Ini berfungsi untuk ID ("10.000.000") dan EN ("10,000,000")
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }


        // Fungsi utama untuk menghitung Bunga Majemuk
        function calculateCompoundInterest(event) {
            event.preventDefault();

            // Ambil nilai input yang sudah diformat, lalu bersihkan
            const P = cleanInput(document.getElementById('initialPrincipal').value); // Modal Awal
            const A = cleanInput(document.getElementById('annualContribution').value); // Kontribusi Tahunan
            
            // Input rate dan years tetap type="number"
            const r = parseFloat(document.getElementById('annualRate').value) / 100; // Suku Bunga Tahunan (desimal)
            const t = parseInt(document.getElementById('years').value) || 0; // Lama Investasi (Tahun)
            const n = parseInt(document.getElementById('compoundingFrequency').value) || 12; // Frekuensi Penggabungan

            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            // Validasi Input
            if (P < 0 || A < 0 || r < 0 || t < 0 || t > 50) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            
            let futureValue = P; // Mulai dengan modal awal
            
            // Loop melalui setiap periode compounding
            for (let i = 0; i < (t * n); i++) {
                // Kontribusi periodik (A/n)
                const periodContribution = A / n;

                // 1. Tambahkan kontribusi periodik
                futureValue += periodContribution;

                // 2. Hitung bunga majemuk per periode
                futureValue = futureValue * (1 + (r / n));
            }
            
            // Total Principal (Modal Awal + Total Kontribusi Tahunan * Tahun)
            const totalPrincipal = P + (A * t);

            // Hitung total bunga yang diperoleh
            const totalInterest = futureValue - totalPrincipal;

            // Tampilkan Hasil (Round to 0 digits, menggunakan formatNumber)
            document.getElementById('futureValueResult').textContent = formatNumber(Math.round(futureValue));
            document.getElementById('totalPrincipalResult').textContent = formatNumber(Math.round(totalPrincipal));
            document.getElementById('totalInterestResult').textContent = formatNumber(Math.round(totalInterest));

            // Tampilkan kotak hasil
            resultBox.classList.add('visible');
        }


        // Fungsi untuk mengubah semua teks UI berdasarkan bahasa
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            const languageSwitcher = document.getElementById('languageSwitcher');

            // Update status toggle
            languageSwitcher.classList.remove('lang-en', 'lang-id');
            languageSwitcher.classList.add(`lang-${lang}`);
            document.documentElement.lang = lang; 

            // Ambil nilai saat ini (tanpa format), lalu format ulang sesuai bahasa baru
            const pValue = cleanInput(document.getElementById('initialPrincipal').value);
            const aValue = cleanInput(document.getElementById('annualContribution').value);

            // Update teks statis (termasuk label yang kini tanpa mata uang)
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').textContent = t.toolSubtitle;
            document.getElementById('backToCatalogText').textContent = t.backToCatalogText;
            
            // Update label formulir dan tombol
            document.getElementById('labelPrincipal').textContent = t.labelPrincipal;
            document.getElementById('descPrincipal').textContent = t.descPrincipal;
            document.getElementById('labelContribution').textContent = t.labelContribution;
            document.getElementById('descContribution').textContent = t.descContribution;
            document.getElementById('labelRate').textContent = t.labelRate;
            document.getElementById('descRate').textContent = t.descRate;
            document.getElementById('labelYears').textContent = t.labelYears;
            document.getElementById('descYears').textContent = t.descYears;
            document.getElementById('labelFrequency').textContent = t.labelFrequency;
            document.getElementById('descFrequency').textContent = t.descFrequency;
            document.getElementById('optAnnually').textContent = t.optAnnually;
            document.getElementById('optSemiAnnually').textContent = t.optSemiAnnually;
            document.getElementById('optQuarterly').textContent = t.optQuarterly;
            document.getElementById('optMonthly').textContent = t.optMonthly;
            document.getElementById('calculateButton').textContent = t.calculateButton;

            // Format ulang input value berdasarkan bahasa baru (Contoh: 10.000.000 vs 10,000,000)
            document.getElementById('initialPrincipal').value = formatNumber(pValue);
            document.getElementById('annualContribution').value = formatNumber(aValue);
            
            // Update label hasil
            document.getElementById('resultHeader').textContent = t.resultHeader;
            document.getElementById('labelFutureValue').textContent = t.labelFutureValue;
            document.getElementById('labelTotalPrincipal').textContent = t.labelTotalPrincipal;
            document.getElementById('labelTotalInterest').textContent = t.labelTotalInterest;

            // Update Konten Edukasi
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader4').textContent = t.sectionHeader4;
            document.getElementById('content4').innerHTML = t.content4;
            document.getElementById('exampleType').textContent = t.exampleType;
            document.getElementById('example1').textContent = t.example1;
            document.getElementById('example2').textContent = t.example2;
            document.getElementById('example3').textContent = t.example3;
            document.getElementById('exampleResult').textContent = t.exampleResult;
            
            document.getElementById('sectionHeader5').textContent = t.sectionHeader5;
            document.getElementById('content5').innerHTML = t.content5;
            document.getElementById('relevant1').textContent = t.relevant1;
            document.getElementById('relevant2').textContent = t.relevant2;

            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3;
            
            // Update Footer
            document.getElementById('linkPrivacy').textContent = t.linkPrivacy;
            document.getElementById('linkTerms').textContent = t.linkTerms;
            document.getElementById('linkAbout').textContent = t.linkAbout;
            document.getElementById('linkContact').textContent = t.linkContact;
            document.getElementById('footerCopyright').innerHTML = t.footerCopyright;

            // Format ulang hasil jika sudah ada
            const resultElement = document.getElementById('futureValueResult');
            if (resultElement.textContent !== '0') {
                 // Panggil kembali fungsi hitung untuk me-refresh format angka
                 calculateCompoundInterest({ preventDefault: () => {} }); 
            }

             // Pastikan error message diupdate
            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }
        }
        
        // Event listener untuk perubahan bahasa
        document.getElementById('languageSwitcher').addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const newLang = event.target.id === 'lang-en' ? 'en' : 'id';
                if (newLang !== currentLang) {
                    setLanguage(newLang);
                    // Sembunyikan hasil saat bahasa berganti
                    document.getElementById('resultBox').classList.remove('visible');
                    document.getElementById('errorAlert').classList.add('hidden');
                }
            }
        });

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            // Logika Deteksi Bahasa Awal (Sama seperti index.html)
            let defaultLang = 'en'; 
            const browserLang = (navigator.language || navigator.userLanguage).toLowerCase();
            if (browserLang.startsWith('id')) {
                defaultLang = 'id';
            }
            setLanguage(defaultLang); 
        });

    </script>
</body>
</html>