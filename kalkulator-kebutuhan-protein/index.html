<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/" />
 
    <meta name="description" content="Daily Protein Intake Calculator. Calculate your ideal protein grams based on fitness goals (Muscle Building/Fat Loss) and body weight." />
    <meta name="keywords" content="Daily Protein Intake Calculator, Macro Calculator, Protein Requirement, Kalkulator Protein Harian, Hitung Kebutuhan Protein, Diet Tinggi Protein, how much protein do i need, cara hitung gram protein harian, muscle building diet">
 
    <link rel="icon" href="data:,">

    <title id="appTitle">Daily Protein Intake Calculator</title>
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/index.html" />
    
    <meta name="theme-color" content="#1e3a8a">
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <script>
        window.headerCategory = 'health';
    </script>
    
    <style>
        /* STANDAR TAMPILAN: Hard Lock 50% untuk Desktop */
        @media (min-width: 1024px) {
            .layout-article-fixed {
                width: 50% !important;
                max-width: 50% !important;
                min-width: 50% !important;
                margin-left: auto;
                margin-right: auto;
            }
        }

        /* Gaya Kustom untuk hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 1200px; 
            padding: 1.5rem; 
        }
        
        /* Untuk daftar aksi */
        .action-list {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }
        .action-list li {
            margin-bottom: 0.25rem;
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans" oncontextmenu="return false;" oncopy="return false;" oncut="return false;">

    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex flex-col items-center">
        <div class="w-full layout-article-fixed bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-blue-800 mb-3 text-center">Daily Protein Intake Calculator</h1>
            
            <p id="toolSubtitle" class="text-sm text-gray-700 font-medium mb-6 text-justify leading-relaxed">
                Calculate your precise daily protein requirement based on your body weight and fitness goals.
            </p>
            
            <div class="space-y-4">
                <div class="relative">
                    <label for="weightInput" class="block text-sm font-medium text-gray-700 mb-1" id="labelWeight">Weight (kg)</label>
                    <input type="number" id="weightInput" placeholder="E.g.: 70" step="0.1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150" required>
                </div>

                <div class="relative">
                    <label for="goalSelect" class="block text-sm font-medium text-gray-700 mb-1" id="labelGoal">Fitness Goal</label>
                    <select id="goalSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 appearance-none bg-white">
                        <option value="0.8" id="goalSedentary">Sedentary (Minimum intake)</option>
                        <option value="1.2" id="goalMaintain">Maintain Weight (Lightly active)</option>
                        <option value="1.6" id="goalBuildLean">Build Lean Muscle (Moderate/Intense training)</option>
                        <option value="2.0" id="goalAggressiveCut">Aggressive Fat Loss (High protein, preserving muscle)</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                        <svg class="h-5 w-5 text-gray-400 mt-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </div>
                </div>

                <button id="calculateButton" onclick="calculateProteinIntake()" class="w-full bg-blue-600 text-white font-semibold py-3 rounded-xl shadow-md hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50">
                    Calculate Protein Need
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </div>

            <div id="resultBox" class="result-box mt-6 bg-blue-50 border border-blue-200 rounded-xl shadow-lg">
                <div class="text-center p-3 border-b border-blue-200 mb-4">
                    <p id="labelDailyIntake" class="text-sm text-blue-800 font-medium">Your Daily Protein Requirement</p>
                    <p id="proteinResultGrams" class="text-5xl font-extrabold text-blue-600 mt-1">-- g</p>
                    <p id="proteinGoalRatio" class="text-sm font-semibold text-gray-600 mt-1">(-- grams per kg of body weight)</p>
                </div>

                <div id="adviceBox" class="p-3 mt-4 rounded-lg bg-white border border-gray-300">
                    <p id="adviceHeader" class="text-md font-bold text-blue-800 mb-2">Important Advice</p>
                    <p id="adviceText" class="text-sm text-gray-700 text-justify leading-relaxed"></p>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">The Critical Role of Protein: Beyond Muscle</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Protein: The Thermic Effect and Satiety</h3>
                
                <div id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 space-y-4">
                    <p id="content2Intro"></p>
                    <h4 class="text-base font-semibold mt-0 text-blue-800" id="teiHeader">The Thermic Effect of Food (TEF)</h4>
                    <p id="teiDesc"></p>
                    
                    <h4 class="text-base font-semibold mt-4 text-blue-800" id="satietyHeader">Protein for Satiety and Fat Loss</h4>
                    <p id="satietyDesc"></p>
                </div>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Practical Strategy: Spreading Your Intake</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
                <div id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 space-y-4">
                    <h4 class="text-base font-semibold mt-0 text-blue-800" id="strategyHeader">Key Tips for Maximizing Protein Absorption</h4>
                    <ul class="action-list list-disc ml-4 space-y-1" id="strategyList">
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </div>
            </section>

        </div>
    </main>

    <section id="related-tools-section" class="layout-article-fixed w-full px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-blue-600 dynamic-bg"></div> 
            <h2 class="text-xl font-bold text-gray-800" 
                data-en="Health & Lifestyle Tools" 
                data-id="Alat Kesehatan & Gaya Hidup">
                Health & Lifestyle Tools
            </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../BMI/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border hover:border-blue-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text text-blue-600 group-hover:text-blue-700"
                    data-en="BMI Calculator"
                    data-id="Kalkulator BMI">
                    BMI Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Calculate Body Mass Index & Daily Calorie Needs."
                    data-id="Hitung Indeks Massa Tubuh & Kebutuhan Kalori Harian.">
                    Calculate Body Mass Index & Daily Calorie Needs.
                </p>
            </a>

            <a href="../body-fat-calculator/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border hover:border-blue-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text text-blue-600 group-hover:text-blue-700"
                    data-en="Body Fat Percentage"
                    data-id="Persentase Lemak Tubuh">
                    Body Fat Percentage
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Estimate body composition using US Navy method."
                    data-id="Estimasi komposisi tubuh dengan metode Angkatan Laut AS.">
                    Estimate body composition using US Navy method.
                </p>
            </a>

            <a href="../kalkulator-air-harian/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border hover:border-blue-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text text-blue-600 group-hover:text-blue-700"
                    data-en="Daily Water Intake Calculator"
                    data-id="Kalkulator Asupan Air Harian">
                    Daily Water Intake Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Calculate your minimum daily hydration needs."
                    data-id="Hitung kebutuhan hidrasi harian minimum Anda.">
                    Calculate your minimum daily hydration needs.
                </p>
            </a>

            <a href="../kalkulator-denyut-jantung/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border hover:border-blue-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text text-blue-600 group-hover:text-blue-700"
                    data-en="Target Heart Rate Calculator"
                    data-id="Kalkulator Detak Jantung Target">
                    Target Heart Rate Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Calculate Fat Burn and Aerobic zones using Karvonen method."
                    data-id="Hitung zona Pembakaran Lemak & Aerobik (Metode Karvonen).">
                    Calculate Fat Burn and Aerobic zones using Karvonen method.
                </p>
            </a>

            <a href="../kalkulator-siklus-menstruasi/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border hover:border-blue-400">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text text-blue-600 group-hover:text-blue-700"
                    data-en="Menstrual & Ovulation Cycle"
                    data-id="Kalkulator Siklus Menstruasi">
                    Menstrual & Ovulation Cycle
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Estimate your next period and fertile window."
                    data-id="Perkirakan periode haid berikutnya dan masa subur.">
                    Estimate your next period and fertile window.
                </p>
            </a>
        </div>

        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" 
                data-en="Related Articles:" 
                data-id="Artikel Terkait:">
                Related Articles:
            </h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/definisi_bmi_tdee.html" class="flex items-center text-sm hover:underline group dynamic-text text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group group-hover:bg-blue-500"></span>
                        <span data-en="Understanding BMI and TDEE: Your Daily Calorie Needs" 
                              data-id="Memahami BMI dan TDEE: Kebutuhan Kalori Harian Anda">
                            Understanding BMI and TDEE: Your Daily Calorie Needs
                        </span>
                    </a>
                </li>
                <li>
                    <a href="../articles/panduan_lingkar_pinggang.html" class="flex items-center text-sm hover:underline group dynamic-text text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group group-hover:bg-blue-500"></span>
                        <span data-en="Complete Guide to Measuring Ideal Waist Circumference" 
                              data-id="Panduan Lengkap Mengukur Lingkar Pinggang Ideal">
                            Complete Guide to Measuring Ideal Waist Circumference
                        </span>
                    </a>
                </li>
                <li>
                    <a href="../articles/panduan-label-nutrisi.html" class="flex items-center text-sm hover:underline group dynamic-text text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group group-hover:bg-blue-500"></span>
                        <span data-en="The Complete Guide: How to Read a Nutrition Facts Label" 
                              data-id="Panduan Lengkap: Cara Membaca Label Informasi Nilai Gizi">
                            The Complete Guide: How to Read a Nutrition Facts Label
                        </span>
                    </a>
                </li>
                <li>
                    <a href="../articles/protein-penurunan-berat-badan.html" class="flex items-center text-sm hover:underline group dynamic-text text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group group-hover:bg-blue-500"></span>
                        <span data-en="The Critical Role of Protein in Weight Loss Strategy" 
                              data-id="Peran Kritis Protein dalam Strategi Penurunan Berat Badan">
                            The Critical Role of Protein in Weight Loss Strategy
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    
    <script src="../components.js"></script>
    <script>
        // **********************************************
        // LOGIKA KALKULATOR KEBUTUHAN PROTEIN HARIAN
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Kebutuhan Protein Harian",
                headerTitle: "Kalkulator Kebutuhan Protein Harian",
                toolSubtitle: "Hitung kebutuhan minimum protein harian Anda secara akurat berdasarkan berat badan dan tujuan kebugaran.",
                backToCatalogText: "Kembali ke Katalog Alat",
                labelWeight: "Berat Badan (kg)",
                labelGoal: "Tujuan Kebugaran",
                goalSedentary: "Gaya Hidup Santai (Kebutuhan minimum)",
                goalMaintain: "Mempertahankan Berat/Otot (Aktivitas ringan)",
                goalBuildLean: "Membangun Otot (Latihan sedang/intensif)",
                goalAggressiveCut: "Defisit Kalori Agresif (Protein tinggi, menjaga otot)",
                calculateButton: "Hitung Kebutuhan Protein",
                labelDailyIntake: "Kebutuhan Protein Harian Anda",
                inputError: "Mohon masukkan Berat Badan yang valid (lebih dari 0).",
                placeholderWeight: "Contoh: 70",
                
                // Saran
                adviceHeader: "Saran Penting",
                adviceText: (grams, ratio) => `Target harian ${grams} gram ini didasarkan pada rasio ${ratio} gram per kg berat badan Anda. Sebarkan asupan protein Anda secara merata sepanjang hari untuk penyerapan optimal.`,
                
                // Konten Edukasi Wajib
                sectionHeader1: "Peran Kritis Protein: Melampaui Otot",
                content1: "Protein, sering disebut sebagai blok bangunan tubuh, adalah makronutrien yang paling penting, tidak hanya untuk atlet tetapi untuk setiap orang dewasa. Protein membentuk struktur otot, kulit, enzim, dan hormon. Tanpa asupan protein yang cukup, tubuh tidak dapat memperbaiki dirinya sendiri, sistem kekebalan akan melemah, dan proses metabolisme akan terganggu. <br><br> Asupan protein yang memadai menjadi sangat penting ketika Anda mencoba <strong>menurunkan berat badan</strong> (membantu menjaga massa otot) atau <strong>membangun otot</strong> (memberikan bahan baku yang diperlukan). Kalkulator ini memberikan rentang yang direkomendasikan secara ilmiah untuk membantu Anda mencapai tujuan kebugaran Anda dengan aman dan efektif.",
                
                sectionHeader2: "Protein: Efek Termal dan Rasa Kenyang",
                content2Intro: `Dua manfaat terbesar protein, terutama untuk manajemen berat badan, adalah efek termalnya yang tinggi (Thermic Effect of Food - TEF) dan kemampuannya untuk meningkatkan rasa kenyang (Satiety).`,
                
                teiHeader: "Efek Termal Makanan (TEF)",
                teiDesc: "TEF adalah energi yang dibutuhkan tubuh Anda untuk mencerna, menyerap, dan memetabolisme makanan. Protein memiliki TEF yang jauh lebih tinggi daripada karbohidrat atau lemak. Artinya, sekitar 20-30% kalori yang Anda konsumsi dari protein dibakar hanya untuk mencernanya! Dengan meningkatkan porsi protein, Anda secara efektif meningkatkan pengeluaran energi harian total Anda, mendukung tujuan penurunan berat badan.",
                
                satietyHeader: "Protein untuk Rasa Kenyang dan Penurunan Lemak",
                satietyDesc: "Protein adalah makronutrien yang paling mengenyangkan. Makanan tinggi protein membutuhkan waktu lebih lama untuk dicerna, yang membantu Anda merasa kenyang lebih lama dan mengurangi keinginan untuk ngemil. Ketika dikombinasikan dengan defisit kalori (seperti yang dihitung di Kalkulator BMI kami), efek kenyang ini sangat membantu untuk mematuhi diet dan mengurangi lemak tubuh secara efektif.",

                sectionHeader3: "Strategi Praktis: Menyebar Asupan Anda",
                content3: "Kualitas sama pentingnya dengan kuantitas. Untuk memaksimalkan manfaat protein, Anda tidak bisa hanya mengonsumsi semua kebutuhan harian Anda dalam satu kali makan besar. Tubuh paling baik menyerap dan memanfaatkan protein ketika disebarkan ke beberapa porsi sepanjang hari.",
                
                strategyHeader: "Tips Kunci untuk Memaksimalkan Penyerapan Protein",
                strategyList1: "Targetkan 20-40 gram protein per kali makan. Ini adalah rentang optimal untuk merangsang Sintesis Protein Otot (MPS).",
                strategyList2: "Pastikan Anda mengonsumsi protein tinggi dalam waktu 1-2 jam setelah sesi latihan beban Anda untuk pemulihan otot yang maksimal.",
                strategyList3: "Pilih sumber protein berkualitas tinggi dan lengkap, seperti daging tanpa lemak, telur, produk susu (whey protein), dan kacang-kacangan.",
                
                footerPrivacy: "Kebijakan Privasi",
                footerTerms: "Syarat Ketentuan",
                footerAbout: "Tentang Kami",
                footerContact: "Hubungi Kami",
                footerDev: "Dikembangkan oleh DTID Analytics.",
            },
            en: {
                appTitle: "Daily Protein Intake Calculator",
                headerTitle: "Daily Protein Intake Calculator",
                toolSubtitle: "Calculate your precise daily protein requirement based on your body weight and fitness goals.",
                backToCatalogText: "Back to Tools Catalog",
                labelWeight: "Weight (kg)",
                labelGoal: "Fitness Goal",
                goalSedentary: "Sedentary (Minimum intake)",
                goalMaintain: "Maintain Weight/Muscle (Lightly active)",
                goalBuildLean: "Build Lean Muscle (Moderate/Intense training)",
                goalAggressiveCut: "Aggressive Fat Loss (High protein, preserving muscle)",
                calculateButton: "Calculate Protein Need",
                labelDailyIntake: "Your Daily Protein Requirement",
                inputError: "Please enter a valid Weight (greater than 0).",
                placeholderWeight: "E.g.: 70",

                // Advice
                adviceHeader: "Important Advice",
                adviceText: (grams, ratio) => `This daily target of ${grams} grams is based on a ratio of ${ratio} grams per kg of your body weight. Spread your protein intake evenly throughout the day for optimal absorption.`,

                // Mandatory Educational Content
                sectionHeader1: "The Critical Role of Protein: Beyond Muscle",
                content1: "Protein, often referred to as the body's building blocks, is the single most important macronutrient, not just for athletes but for every adult. Protein forms the structure of muscles, skin, enzymes, and hormones. Without sufficient protein intake, the body cannot repair itself, the immune system weakens, and metabolic processes are disrupted. <br><br> Adequate protein intake becomes exceptionally crucial when you are attempting to <strong>lose weight</strong> (it helps maintain muscle mass) or <strong>build muscle</strong> (it provides the necessary raw materials). This calculator provides a scientifically recommended range to help you achieve your fitness goals safely and effectively.",
                
                sectionHeader2: "Protein: The Thermic Effect and Satiety",
                content2Intro: `The two biggest benefits of protein, especially for weight management, are its high thermic effect (Thermic Effect of Food - TEF) and its ability to enhance satiety (fullness).`,
                
                teiHeader: "The Thermic Effect of Food (TEF)",
                teiDesc: "TEF is the energy required for your body to digest, absorb, and metabolize food. Protein has a much higher TEF than carbohydrates or fats. This means that about 20-30% of the calories you consume from protein are burned just to digest it! By increasing your protein intake, you effectively raise your total daily energy expenditure, supporting weight loss goals.",
                
                satietyHeader: "Protein for Satiety and Fat Loss",
                satietyDesc: "Protein is the most satiating macronutrient. High-protein meals take longer to digest, which helps you feel full for longer and reduces cravings. When combined with a calorie deficit (as calculated in our BMI Calculator), this feeling of fullness is invaluable for diet adherence and effective body fat reduction.",

                sectionHeader3: "Practical Strategy: Spreading Your Intake",
                content3: "Quality is just as important as quantity. To maximize the benefits of protein, you cannot simply consume your entire daily requirement in one massive meal. The body best absorbs and utilizes protein when it is spread out over several servings throughout the day.",
                
                strategyHeader: "Key Tips for Maximizing Protein Absorption",
                strategyList1: "Target 20-40 grams of protein per meal. This is the optimal range for stimulating Muscle Protein Synthesis (MPS).",
                strategyList2: "Ensure you consume high-quality protein within 1-2 hours after your resistance training session for maximum muscle recovery.",
                strategyList3: "Choose high-quality, complete protein sources, such as lean meats, eggs, dairy products (whey protein), and legumes.",

                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms of Service",
                footerAbout: "About Us",
                footerContact: "Contact Us",
                footerDev: "Developed by DTID Analytics.",
            }
        };

        let currentLang = 'en'; 

        // Fungsi utama untuk menghitung kebutuhan protein
        function calculateProteinIntake() {
            const weight = parseFloat(document.getElementById('weightInput').value);
            const goalRatio = parseFloat(document.getElementById('goalSelect').value); // Rasio protein per kg berat badan
            
            const lang = currentLang;
            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            // 1. Validasi Input
            if (isNaN(weight) || weight <= 0) {
                document.getElementById('errorText').textContent = translations[lang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            
            // --- PERHITUNGAN KEBUTUHAN PROTEIN ---
            const totalProteinGrams = weight * goalRatio;
            
            // Pembulatan ke 1 desimal
            const formattedGrams = totalProteinGrams.toFixed(1);
            
            // --- TAMPILKAN HASIL ---
            document.getElementById('proteinResultGrams').textContent = `${formattedGrams} g`;
            document.getElementById('proteinGoalRatio').textContent = `(${goalRatio.toFixed(1)} grams per kg of body weight)`;

            // --- TAMPILKAN SARAN ---
            document.getElementById('adviceText').textContent = translations[lang].adviceText(formattedGrams, goalRatio.toFixed(1));
            
            // 7. Tampilkan kotak hasil
            resultBox.classList.add('visible');
        }


        // Fungsi untuk mengubah semua teks UI berdasarkan bahasa
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Update Header Global (Safety Check)
            const backBtn = document.getElementById('backToCatalogText');
            if(backBtn) backBtn.textContent = t.backToCatalogText;

            // Update teks statis
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').textContent = t.toolSubtitle;
            
            // Update label formulir dan tombol
            document.getElementById('labelWeight').textContent = t.labelWeight;
            document.getElementById('labelGoal').textContent = t.labelGoal;
            document.getElementById('calculateButton').textContent = t.calculateButton;

            // Update option tujuan
            document.getElementById('goalSedentary').textContent = t.goalSedentary;
            document.getElementById('goalMaintain').textContent = t.goalMaintain;
            document.getElementById('goalBuildLean').textContent = t.goalBuildLean;
            document.getElementById('goalAggressiveCut').textContent = t.goalAggressiveCut;
            
            // Update placeholder
            document.getElementById('weightInput').placeholder = t.placeholderWeight;
            
            // Update label hasil
            document.getElementById('labelDailyIntake').textContent = t.labelDailyIntake;
            document.getElementById('adviceHeader').textContent = t.adviceHeader;
            
            // Update Konten Edukasi Wajib
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2Intro').innerHTML = t.content2Intro;
            
            // Efek Termal
            document.getElementById('teiHeader').textContent = t.teiHeader;
            document.getElementById('teiDesc').innerHTML = t.teiDesc;
            
            // Rasa Kenyang
            document.getElementById('satietyHeader').textContent = t.satietyHeader;
            document.getElementById('satietyDesc').innerHTML = t.satietyDesc;

            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3;
            
            // Strategi
            document.getElementById('strategyHeader').textContent = t.strategyHeader;
            document.getElementById('strategyList').innerHTML = `
                <li>${t.strategyList1}</li>
                <li>${t.strategyList2}</li>
                <li>${t.strategyList3}</li>
            `;
            
            // Perbarui hasil yang sudah ada (jika sudah dihitung)
            const proteinResultElement = document.getElementById('proteinResultGrams');
            if (proteinResultElement.textContent !== '-- g') {
                 calculateProteinIntake();
            }

             // Pastikan error message diupdate
            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }

            // Update Related Tools Translation
            updateRelatedContent(lang);
        }

        function updateRelatedContent(lang) {
            const translatableElements = document.querySelectorAll('#related-tools-section [data-en]');
            translatableElements.forEach(el => {
                const newText = el.getAttribute(`data-${lang}`);
                if (newText) {
                    el.textContent = newText;
                }
            });
        }

        // ============================================================
        // OBSERVER BAHASA (Agar Konten Lokal Merespon Header)
        // ============================================================
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    const currentLang = document.documentElement.lang || 'en';
                    setLanguage(currentLang);
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(document.documentElement.lang || 'en'); 
        });
    </script>
</body>
</html>