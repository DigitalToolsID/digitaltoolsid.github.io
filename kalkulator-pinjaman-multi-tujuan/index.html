<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-pinjaman-multi-tujuan/" />
    
    <meta name="description" content="Multi-Purpose Loan Calculator. Calculate monthly installments, total interest, and view amortization schedules for personal, car, or unsecured loans." />
    <meta name="keywords" content="Personal Loan Calculator, Car Loan Calculator, Amortization Schedule, Kalkulator Pinjaman Multi Tujuan, Kredit Tanpa Agunan (KTA), Simulasi Cicilan, Kredit Serbaguna, how to calculate monthly loan payment, cara hitung bunga pinjaman">
    
    <link rel="icon" href="data:,">
 
    <title id="appTitle">Multi-Purpose Loan Calculator</title>
    
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-pinjaman-multi-tujuan/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-pinjaman-multi-tujuan/index.html" />
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* STANDAR TAMPILAN: Hard Lock 50% untuk Desktop */
        @media (min-width: 1024px) {
            .layout-article-fixed {
                width: 50% !important;
                max-width: 50% !important;
                min-width: 50% !important;
                margin-left: auto;
                margin-right: auto;
            }
        }

        /* Transisi Hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px;
            padding: 1.5rem;
        }
        
        /* Tombol Utama */
        .calculate-button {
            box-shadow: 0 4px #15803d; /* green-700 */
            background-color: #16a34a; /* green-600 */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #15803d;
            background-color: #22c55e; /* green-500 */
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #15803d;
        }
        
        /* Tombol Bunga Efektif */
        .apr-button {
            box-shadow: 0 4px #2563eb; /* blue-600 */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .apr-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #2563eb;
        }
        
        /* Gaya Tabel Amortisasi */
        .amortization-table-container {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
        }
        .amortization-table th, .amortization-table td {
            padding: 8px 12px;
            text-align: right;
            font-size: 0.75rem;
            white-space: nowrap;
        }
        .amortization-table th {
            background-color: #f3f4f6;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
            text-align: center;
            color: #374151;
        }
        .amortization-table td:first-child {
            text-align: center;
        }
        .amortization-table tr {
            border-bottom: 1px solid #f3f4f6;
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <script>window.headerCategory = 'finance';</script>
    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex flex-col items-center">
        <div class="w-full layout-article-fixed bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3 text-center">Multi-Purpose Loan Calculator</h1>
            
            <p id="toolSubtitle" class="text-sm text-gray-700 font-medium mb-6 leading-relaxed text-justify">
                Calculate your monthly installment and total interest for personal loans, car loans, or other versatile financing needs.
            </p>
            
            <form id="loanForm" onsubmit="calculateLoan(event)" class="space-y-4">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="relative">
                        <label for="loanAmount" class="block text-sm font-medium text-gray-700 mb-1">
                            <span id="labelLoanAmount">Loan Amount</span> <span class="currency-label font-normal text-gray-500">(Rp/$)</span>
                        </label>
                        <input type="text" id="loanAmount" inputmode="numeric" value="50.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-600 focus:border-green-600 transition duration-150" required>
                        <p class="text-xs text-gray-500 mt-1" id="descLoanAmount">Total principal amount you are applying for.</p>
                    </div>
                    
                    <div class="relative">
                        <label for="interestRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelInterestRate">Annual Interest Rate (%)</label>
                        <input type="number" id="interestRate" min="0" step="0.1" value="12" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-600 focus:border-green-600 transition duration-150" required>
                        <p class="text-xs text-gray-500 mt-1" id="descInterestRate">Annual interest rate (e.g., 12 for 12%).</p>
                    </div>
                </div>

                <div class="relative">
                    <label for="loanTermYears" class="block text-sm font-medium text-gray-700 mb-1" id="labelLoanTerm">Loan Term (Years)</label>
                    <input type="number" id="loanTermYears" min="1" max="10" value="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-600 focus:border-green-600 transition duration-150" required>
                    <p class="text-xs text-gray-500 mt-1" id="descLoanTerm">Loan duration in years (Max 10 Years).</p>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl text-lg">
                    Calculate Installment
                </button>
                
                <div id="errorAlert" class="hidden mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-6 bg-white border border-gray-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-4 text-gray-800 border-b pb-2">Loan Summary</h3>
                
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
                    <div class="p-4 bg-green-50 border border-green-200 rounded-lg col-span-1 sm:col-span-3 text-center sm:text-left">
                        <p id="labelMonthlyPayment" class="text-sm text-green-800 font-medium mb-1">Monthly Installment</p>
                        <p id="monthlyPaymentResult" class="text-3xl font-extrabold text-green-600">0</p>
                    </div>
                    
                    <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg">
                        <p id="labelTotalPrincipal" class="text-sm text-gray-800 font-medium mb-1">Total Principal</p>
                        <p id="totalPrincipalResult" class="text-xl font-bold text-gray-700">0</p>
                    </div>
                    
                    <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                        <p id="labelTotalInterest" class="text-sm text-yellow-800 font-medium mb-1">Total Interest</p>
                        <p id="totalInterestResult" class="text-xl font-bold text-yellow-700">0</p>
                    </div>
                    
                    <div class="p-4 bg-red-50 border border-red-200 rounded-lg">
                        <p id="labelTotalCost" class="text-sm text-red-800 font-medium mb-1">Total Cost</p>
                        <p id="totalCostResult" class="text-xl font-bold text-red-700">0</p>
                    </div>
                </div>

                <h3 id="amortizationHeader" class="text-lg font-bold text-gray-800 border-b pb-2 mb-2">Amortization Schedule</h3>
                <div class="amortization-table-container shadow-inner">
                    <table class="amortization-table w-full bg-white">
                        <thead>
                            <tr>
                                <th id="tableHeaderMonth">Month</th>
                                <th id="tableHeaderPayment">Payment</th>
                                <th id="tableHeaderPrincipal">Principal</th>
                                <th id="tableHeaderInterest">Interest</th>
                                <th id="tableHeaderBalance">Balance</th>
                            </tr>
                        </thead>
                        <tbody id="amortizationTableBody" class="text-gray-600">
                            </tbody>
                    </table>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding Multi-Purpose Loans</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">How Amortization Works</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Tips for Managing Personal Loans</h3>
                <ul id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>
                
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-6 rounded-lg">
                    <h3 id="aprCheckHeader" class="text-lg font-bold text-gray-800 mb-2">Important: Always Check APR</h3>
                    <p id="aprCheckText" class="text-gray-700 text-sm leading-relaxed mb-4 text-justify"></p>
                    <a href="../kalkulator-bunga-efektif/index.html" id="aprCheckButton" target="_blank" class="apr-button inline-block bg-blue-600 text-white font-semibold py-3 px-6 rounded-xl hover:bg-blue-700 transition duration-300 ease-in-out text-sm">
                        Calculate Effective Interest Rate
                    </a>
                </div>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2 mt-8">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="layout-article-fixed w-full px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600 dynamic-bg"></div> 
            <h2 class="text-xl font-bold text-gray-800" data-en="Finance Tools" data-id="Alat Keuangan">Finance Tools</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-kpr/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 group-hover:text-green-700 transition-colors" data-en="Mortgage Calculator" data-id="Kalkulator KPR Rumah">Mortgage Calculator</h3>
                <p class="text-xs text-gray-600" data-en="Calculate home loan installments." data-id="Hitung simulasi cicilan rumah.">Calculate home loan installments.</p>
            </a>
            <a href="../kalkulator-pelunasan-utang/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 group-hover:text-green-700 transition-colors" data-en="Debt Payoff" data-id="Pelunasan Utang">Debt Payoff</h3>
                <p class="text-xs text-gray-600" data-en="Snowball vs Avalanche strategy." data-id="Strategi Snowball vs Avalanche.">Snowball vs Avalanche strategy.</p>
            </a>
            <a href="../kalkulator-bunga-efektif/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 group-hover:text-green-700 transition-colors" data-en="Effective Interest" data-id="Bunga Efektif">Effective Interest</h3>
                <p class="text-xs text-gray-600" data-en="Calculate true interest rate." data-id="Hitung suku bunga sebenarnya.">Calculate true interest rate.</p>
            </a>
        </div>

        <div class="border-t border-gray-200 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles" data-id="Artikel Terkait">Related Articles</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm hover:underline group text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Strategies to Accelerate Debt Repayment" data-id="Strategi Mempercepat Pelunasan Utang">Strategies to Accelerate Debt Repayment</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR PINJAMAN MULTI TUJUAN
        // **********************************************

        let currentLang = 'en';

        const translations = {
            id: {
                appTitle: "Kalkulator Pinjaman Multi Tujuan",
                headerTitle: "Kalkulator Pinjaman Multi Tujuan & Amortisasi",
                toolSubtitle: "Hitung angsuran bulanan Anda dan total bunga untuk pinjaman pribadi, kredit multiguna, atau pembiayaan serbaguna lainnya.",
                
                labelLoanAmount: "Jumlah Pinjaman (Pokok)",
                descLoanAmount: "Total pokok pinjaman yang Anda ajukan.",
                labelInterestRate: "Suku Bunga Tahunan (%)",
                descInterestRate: "Suku bunga tahunan pinjaman (contoh: 12 untuk 12%).",
                labelLoanTerm: "Jangka Waktu Pinjaman (Tahun)",
                descLoanTerm: "Jangka waktu pinjaman total dalam tahun (Maks 10 Tahun).",
                calculateButton: "Hitung Angsuran",
                inputError: "Mohon masukkan semua nilai input yang valid (Jumlah Pinjaman > 0, Bunga >= 0, Jangka Waktu 1-10 Tahun).",
                
                resultHeader: "Ringkasan Pinjaman",
                labelMonthlyPayment: "Angsuran Bulanan",
                labelTotalPrincipal: "Total Pokok Pinjaman",
                labelTotalInterest: "Total Bunga Dibayar",
                labelTotalCost: "Total Biaya Pinjaman (Pokok + Bunga)",
                amortizationHeader: "Jadwal Amortisasi (Rincian Bulanan)",
                
                tableHeaderMonth: "Bulan",
                tableHeaderPayment: "Angsuran",
                tableHeaderPrincipal: "Pokok",
                tableHeaderInterest: "Bunga",
                tableHeaderBalance: "Sisa Pokok",

                sectionHeader1: "Memahami Pinjaman Multi Tujuan (Serbaguna)",
                content1: "Pinjaman multi tujuan (sering disebut Kredit Tanpa Agunan atau Kredit Multiguna) adalah fasilitas pinjaman yang fleksibel. Memahami elemen Pokok Pinjaman, Suku Bunga, dan Jangka Waktu sangat krusial. Alat ini memberikan transparansi tentang komposisi angsuran Anda.",
                sectionHeader2: "Cara Kerja Amortisasi",
                content2: "Amortisasi adalah metode pelunasan utang melalui serangkaian pembayaran tetap. Pada awal tenor, mayoritas angsuran digunakan untuk membayar bunga. Seiring waktu, porsi pokok akan membesar.",
                sectionHeader3: "Tips Mengelola Pinjaman Pribadi",
                tip1: "Evaluasi Kebutuhan Riil: Pinjam hanya sebanyak yang Anda butuhkan.",
                tip2: "Perhatikan Suku Bunga Efektif (APR): Tanyakan Total Biaya Pinjaman Tahunan Efektif.",
                tip3: "Tentukan Jangka Waktu Optimal: Pastikan angsuran bulanan nyaman di anggaran Anda.",
                
                aprCheckHeader: "Penting: Selalu Cek Bunga Efektif (APR/EIR)",
                aprCheckText: "Waspadai penawaran yang hanya menyebutkan 'Angsuran Bulanan'. Gunakan alat kami untuk mengecek bunga efektif pinjaman Anda.",
                aprCheckButton: "Hitung Suku Bunga Efektif (APR/EIR)",

                sectionHeader4: "Penting (Disclaimer)",
                content4: "Kalkulator ini menggunakan metode perhitungan anuitas standar. Hasil belum termasuk biaya administrasi atau asuransi.",
            },
            en: {
                appTitle: "Multi-Purpose Loan Calculator",
                headerTitle: "Multi-Purpose Loan & Amortization Calculator",
                toolSubtitle: "Calculate your monthly installment and total interest for personal loans, car loans, or other versatile financing needs.",
                
                labelLoanAmount: "Loan Amount (Principal)",
                descLoanAmount: "The total principal amount you are applying for.",
                labelInterestRate: "Annual Interest Rate (%)",
                descInterestRate: "The annual interest rate of the loan (e.g.: 12 for 12%).",
                labelLoanTerm: "Loan Term (Years)",
                descLoanTerm: "The total duration of the loan in years (Max 10 Years).",
                calculateButton: "Calculate Installment",
                inputError: "Please enter all valid input values (Loan Amount > 0, Interest >= 0, Term 1-10 Years).",
                
                resultHeader: "Loan Summary",
                labelMonthlyPayment: "Monthly Installment",
                labelTotalPrincipal: "Total Loan Principal",
                labelTotalInterest: "Total Interest Paid",
                labelTotalCost: "Total Loan Cost (Principal + Interest)",
                amortizationHeader: "Amortization Schedule (Monthly Breakdown)",
                
                tableHeaderMonth: "Month",
                tableHeaderPayment: "Payment",
                tableHeaderPrincipal: "Principal",
                tableHeaderInterest: "Interest",
                tableHeaderBalance: "Balance",
                
                sectionHeader1: "Understanding Multi-Purpose Loans",
                content1: "A multi-purpose loan is a flexible financing facility. Understanding the Principal, Interest Rate, and Loan Term is crucial. This tool provides transparency on the composition of your installments.",
                sectionHeader2: "How Amortization Works",
                content2: "Amortization is paying off debt through fixed payments. Early on, most of your payment goes to interest. Over time, more goes to principal.",
                sectionHeader3: "Tips for Managing Personal Loans",
                tip1: "Evaluate Real Need: Borrow only as much as you need.",
                tip2: "Mind the Effective Interest Rate (APR): Check for hidden fees.",
                tip3: "Determine Optimal Term: Ensure the installment fits your budget.",
                
                aprCheckHeader: "Important: Always Check the Effective Interest Rate (APR/EIR)",
                aprCheckText: "Beware of loan offers that only state the 'Monthly Installment.' Use our tool to check your loan's effective interest rate.",
                aprCheckButton: "Calculate Effective Interest Rate (APR/EIR)",

                sectionHeader4: "Disclaimer",
                content4: "This calculator uses the standard annuity calculation method. Results do not include administration fees or insurance.",
            }
        };

        function formatNumber(amount) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = '';
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function renderAmortizationTable(amortizationData) {
            const tbody = document.getElementById('amortizationTableBody');
            tbody.innerHTML = '';
            
            amortizationData.forEach(row => {
                const tr = document.createElement('tr');
                tr.className = 'border-b border-gray-100 hover:bg-gray-50';

                const tdMonth = document.createElement('td');
                tdMonth.textContent = row.month;
                tr.appendChild(tdMonth);

                const tdPayment = document.createElement('td');
                tdPayment.textContent = formatNumber(row.payment);
                tr.appendChild(tdPayment);

                const tdPrincipal = document.createElement('td');
                tdPrincipal.textContent = formatNumber(row.principal);
                tr.appendChild(tdPrincipal);

                const tdInterest = document.createElement('td');
                tdInterest.textContent = formatNumber(row.interest);
                tr.appendChild(tdInterest);

                const tdBalance = document.createElement('td');
                tdBalance.textContent = formatNumber(row.balance);
                tr.appendChild(tdBalance);

                tbody.appendChild(tr);
            });
        }

        function calculateLoan(event) {
            event.preventDefault();
            const L = cleanInput(document.getElementById('loanAmount').value);
            const R_annual = parseFloat(document.getElementById('interestRate').value) / 100;
            const T_years = parseInt(document.getElementById('loanTermYears').value) || 0;

            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            if (L <= 0 || R_annual < 0 || T_years < 1 || T_years > 10) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            const R_monthly = R_annual / 12;
            const N_months = T_years * 12;
            let monthlyPayment = 0;
            
            if (R_monthly > 0) {
                const powerFactor = Math.pow(1 + R_monthly, N_months);
                monthlyPayment = L * (R_monthly * powerFactor) / (powerFactor - 1);
            } else {
                monthlyPayment = L / N_months;
            }

            let remainingBalance = L;
            let totalInterestPaid = 0;
            const amortizationSchedule = [];

            for (let month = 1; month <= N_months; month++) {
                const interestPayment = remainingBalance * R_monthly;
                let principalPayment = monthlyPayment - interestPayment;
                
                if (month === N_months) {
                    principalPayment = remainingBalance;
                    monthlyPayment = remainingBalance + interestPayment;
                }

                remainingBalance -= principalPayment;
                totalInterestPaid += interestPayment;

                amortizationSchedule.push({
                    month: month,
                    payment: Math.round(monthlyPayment),
                    principal: Math.round(principalPayment),
                    interest: Math.round(interestPayment),
                    balance: Math.round(Math.max(0, remainingBalance))
                });
                if (remainingBalance <= 0.01) { 
                    remainingBalance = 0;
                    break;
                }
            }
            
            const totalCost = L + totalInterestPaid;
            document.getElementById('monthlyPaymentResult').textContent = formatNumber(Math.round(monthlyPayment));
            document.getElementById('totalPrincipalResult').textContent = formatNumber(Math.round(L));
            document.getElementById('totalInterestResult').textContent = formatNumber(Math.round(totalInterestPaid));
            document.getElementById('totalCostResult').textContent = formatNumber(Math.round(totalCost));

            renderAmortizationTable(amortizationSchedule);
            resultBox.classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            ['appTitle', 'headerTitle', 'toolSubtitle', 'labelLoanAmount', 'descLoanAmount', 'labelInterestRate', 'descInterestRate', 
             'labelLoanTerm', 'descLoanTerm', 'calculateButton', 'resultHeader', 'labelMonthlyPayment', 'labelTotalPrincipal', 
             'labelTotalInterest', 'labelTotalCost', 'amortizationHeader', 'tableHeaderMonth', 'tableHeaderPayment', 
             'tableHeaderPrincipal', 'tableHeaderInterest', 'tableHeaderBalance', 'sectionHeader1', 'sectionHeader2', 
             'sectionHeader3', 'tip1', 'tip2', 'tip3', 'aprCheckHeader', 'aprCheckButton', 'sectionHeader4'].forEach(id => {
                 const el = document.getElementById(id);
                 if(el) el.textContent = t[id];
            });
            
            ['content1', 'content2', 'aprCheckText', 'content4'].forEach(id => {
                const el = document.getElementById(id);
                if(el) el.innerHTML = t[id];
            });

            // Related Tools & Articles
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) el.textContent = text;
            });
            
            const resultElement = document.getElementById('monthlyPaymentResult');
            if (resultElement.textContent !== '0') {
                 calculateLoan({ preventDefault: () => {} });
            }
            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }
        }
        
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((m) => {
                if (m.type === 'attributes' && m.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(document.documentElement.lang || 'en');
        });
    </script>
</body>
</html>