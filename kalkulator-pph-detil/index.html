<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">

    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-pph-detil/" />
    <meta name="description" content="Kalkulator PPh 21 Indonesia Detil. Hitung estimasi pajak penghasilan tahunan dan bulanan Anda dengan rincian lapisan tarif pajak terbaru (UU HPP).">
 
    <title id="appTitle">Indonesia Income Tax Calculator (Detailed)</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* CSS LOKAL */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 2000px; 
            padding: 1.5rem; 
        }
        
        /* TOMBOL HIJAU FINANCE */
        .calculate-button {
            background-color: #16a34a !important; /* Green-600 */
            color: white !important;
            box-shadow: 0 4px #14532d;
            transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
        }
        .calculate-button:hover {
            background-color: #15803d !important; /* Green-700 */
            transform: translateY(-2px);
            box-shadow: 0 6px #14532d;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #14532d;
        }

        .input-description {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-2xl bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-green-700 mb-3">Indonesia PPh 21 Calculator (Detailed)</h1>
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6 leading-relaxed text-justify">
               Calculate your estimated monthly and annual income tax with a detailed breakdown of progressive tax layers (UU HPP).
            </p>
            
            <form id="taxForm" onsubmit="calculateTax(event)" class="space-y-6">
                
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="text-lg font-bold mb-4 text-green-800" id="headerIncome">1. Income Details</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="relative">
                            <label for="monthlySalary" class="block text-sm font-medium text-gray-700 mb-1" id="labelMonthlySalary">Monthly Gross Salary</label>
                            <input type="text" id="monthlySalary" inputmode="numeric" placeholder="e.g. 15,000,000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150" required>
                            <p class="input-description" id="descMonthlySalary">Basic salary + fixed allowances.</p>
                        </div>
                        
                        <div class="relative">
                            <label for="otherIncome" class="block text-sm font-medium text-gray-700 mb-1" id="labelOtherIncome">Other Monthly Allowance</label>
                            <input type="text" id="otherIncome" inputmode="numeric" value="0" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150">
                            <p class="input-description" id="descOtherIncome">Meal/Transport/Overtime (Average).</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="text-lg font-bold mb-4 text-green-800" id="headerStatus">2. Tax Relief Status (PTKP)</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div class="relative">
                            <label for="ptkpStatus" class="block text-sm font-medium text-gray-700 mb-1" id="labelPtkp">Marital Status</label>
                            <select id="ptkpStatus" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white transition duration-150">
                                <option value="54000000">TK/0 - Single, 0 Dep</option>
                                <option value="58500000">TK/1 - Single, 1 Dep</option>
                                <option value="63000000">TK/2 - Single, 2 Dep</option>
                                <option value="67500000">TK/3 - Single, 3 Dep</option>
                                <option value="58500000">K/0 - Married, 0 Dep</option>
                                <option value="63000000">K/1 - Married, 1 Dep</option>
                                <option value="67500000">K/2 - Married, 2 Dep</option>
                                <option value="72000000">K/3 - Married, 3 Dep</option>
                            </select>
                        </div>
                        <div class="relative">
                            <label for="hasNPWP" class="block text-sm font-medium text-gray-700 mb-1" id="labelNpwp">Have NPWP?</label>
                            <select id="hasNPWP" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white transition duration-150">
                                <option value="yes">Yes (Have NPWP)</option>
                                <option value="no">No (Non-NPWP +20%)</option>
                            </select>
                            <p class="input-description" id="descNpwp">+20% rate if No.</p>
                        </div>
                    </div>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full font-semibold py-3 rounded-xl focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-opacity-50">
                    Calculate Tax
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-8 bg-red-50 border border-red-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-6 text-red-800 border-b border-red-200 pb-2">Calculation Result</h3>
                
                <div class="text-center mb-8">
                    <p id="labelMonthlyTax" class="text-sm font-bold text-gray-600 uppercase tracking-wider">Estimated Monthly Tax (PPh 21)</p>
                    <p id="resultMonthlyTax" class="text-4xl font-extrabold text-red-600 mt-2">0</p>
                    <p id="labelTakeHome" class="text-sm text-gray-600 mt-2">Net Take Home Pay: <span id="resultTakeHome" class="font-bold text-green-700 text-lg">0</span></p>
                </div>

                <h4 id="detailHeader" class="text-lg font-bold text-gray-800 mb-3">Calculation Breakdown (Annual)</h4>
                <div class="bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 text-sm">
                    <div class="p-3 grid grid-cols-2 gap-4 border-b border-gray-100">
                        <div class="text-gray-600" id="labelGrossAnnual">Gross Annual Income</div>
                        <div class="text-right font-semibold" id="valGrossAnnual">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-2 gap-4 border-b border-gray-100 bg-gray-50">
                        <div class="text-gray-600" id="labelOccCost">Occupational Cost</div>
                        <div class="text-right text-red-500" id="valOccCost">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-2 gap-4 border-b border-gray-100">
                        <div class="text-gray-600" id="labelNetAnnual">Net Annual Income</div>
                        <div class="text-right font-semibold" id="valNetAnnual">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-2 gap-4 border-b border-gray-100 bg-gray-50">
                        <div class="text-gray-600" id="labelPTKPVal">PTKP (Relief)</div>
                        <div class="text-right text-green-600" id="valPTKP">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-2 gap-4 border-b border-gray-100 font-bold">
                        <div class="text-gray-800" id="labelPKP">Taxable Income (PKP)</div>
                        <div class="text-right text-gray-800" id="valPKP">0</div>
                    </div>
                    <div class="p-3 grid grid-cols-2 gap-4 font-extrabold bg-red-50">
                        <div class="text-red-700" id="labelTotalAnnualTax">Total Annual Tax</div>
                        <div class="text-right text-red-700" id="valTotalAnnualTax">0</div>
                    </div>
                </div>

            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding PPh 21</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Tax Brackets</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Tax Saving Tips</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>

    <section id="related-tools-section" class="max-w-4xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600 dynamic-bg"></div> 
            <h2 class="text-xl font-bold text-gray-800" 
                data-en="Investment & Finance Tools" 
                data-id="Alat Investasi & Keuangan">
                Investment & Finance Tools
            </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-pph/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-700 group-hover:text-green-800 dynamic-text"
                    data-en="Simple Income Tax (Annual)"
                    data-id="Kalkulator PPh Tahunan (Simpel)">
                    Simple Income Tax (Annual)
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Quick estimate for freelancers/business owners."
                    data-id="Estimasi cepat untuk freelancer/pengusaha.">
                    Quick estimate for freelancers/business owners.
                </p>
            </a>

            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-700 group-hover:text-green-800 dynamic-text"
                    data-en="Monthly Budget Planner"
                    data-id="Perencana Anggaran Bulanan">
                    Monthly Budget Planner
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Plan your monthly expenses."
                    data-id="Rencanakan pengeluaran bulanan.">
                    Plan your monthly expenses.
                </p>
            </a>

            <a href="../kalkulator-pajak-keuntungan-modal/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-700 group-hover:text-green-800 dynamic-text"
                    data-en="Capital Gains Tax"
                    data-id="Pajak Keuntungan Modal">
                    Capital Gains Tax
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Estimate tax on investment profits."
                    data-id="Estimasi pajak atas keuntungan investasi.">
                    Estimate tax on investment profits.
                </p>
            </a>
        </div>

        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" 
                data-en="Related Articles:" 
                data-id="Artikel Terkait:">
                Related Articles:
            </h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/klausul-perpajakan-kontrak.html" class="flex items-center text-sm hover:underline group text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                        <span data-en="Understanding Tax Clauses in Contracts" 
                              data-id="Memahami Klausul Perpajakan dalam Kontrak">
                            Understanding Tax Clauses in Contracts
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>

    <script src="../components.js"></script>
    <script>
        // Set Header Category untuk Finance (Hijau)
        window.headerCategory = 'finance';

        const translations = {
            id: {
                appTitle: "Kalkulator PPh 21 Detil",
                headerTitle: "Kalkulator PPh 21 Indonesia (Detil)",
                toolSubtitle: "Hitung estimasi pajak penghasilan bulanan dan tahunan dengan rincian lapisan tarif progresif sesuai peraturan terbaru (UU HPP).",
                backToCatalogText: "Kembali ke Katalog Alat",
                headerIncome: "1. Detail Penghasilan",
                labelMonthlySalary: "Gaji Pokok Bulanan (Bruto)",
                descMonthlySalary: "Gaji kotor sebulan sebelum potongan, termasuk tunjangan tetap.",
                labelOtherIncome: "Tunjangan Tidak Tetap/Lainnya",
                descOtherIncome: "Rata-rata tunjangan makan, transport, atau lembur per bulan.",
                
                headerStatus: "2. Status Pajak (PTKP)",
                labelPtkp: "Status Perkawinan",
                labelNpwp: "Memiliki NPWP?",
                descNpwp: "Jika 'Tidak', tarif pajak akan dikenakan 20% lebih tinggi.",
                calculateButton: "Hitung Pajak",
                inputError: "Mohon masukkan nilai gaji yang valid.",
                
                resultHeader: "Hasil Perhitungan Pajak",
                labelMonthlyTax: "Estimasi PPh 21 Bulanan",
                labelTakeHome: "Gaji Bersih (Take Home Pay): ",
                
                detailHeader: "Rincian Perhitungan (Tahunan)",
                labelGrossAnnual: "Penghasilan Bruto Setahun",
                labelOccCost: "Biaya Jabatan (Maks 6 Jt/th)",
                labelNetAnnual: "Penghasilan Netto Setahun",
                labelPTKPVal: "PTKP (Penghasilan Tidak Kena Pajak)",
                labelPKP: "PKP (Penghasilan Kena Pajak)",
                labelTotalAnnualTax: "Total PPh 21 Terutang Setahun",
                
                sectionHeader1: "Memahami PPh 21",
                content1: "PPh 21 adalah pajak atas penghasilan berupa gaji, upah, honorarium, tunjangan, dan pembayaran lain yang diterima oleh Wajib Pajak orang pribadi dalam negeri sehubungan dengan pekerjaan atau jabatan.",
                sectionHeader2: "Lapisan Tarif Pajak (UU HPP)",
                content2: "Tarif pajak dikenakan pada <b>PKP (Penghasilan Kena Pajak)</b> secara bertingkat: 5%, 15%, 25%, 30%, dan 35%.",
                sectionHeader3: "Tips Menghemat Pajak",
                content3: "Beberapa cara legal untuk mengoptimalkan pajak Anda:",
                tip1: "<b>Pastikan PTKP Benar:</b> Selalu update status tanggungan ke HR.",
                tip2: "<b>Miliki NPWP:</b> Hindari denda tarif 20% lebih tinggi.",
                tip3: "<b>Manfaatkan Pengurang:</b> Iuran pensiun dan JHT adalah pengurang pajak.",
                sectionHeader4: "Disclaimer",
                content4: "Kalkulator ini menggunakan metode perhitungan setahun yang disetahunkan untuk estimasi. Hasil ini bukan merupakan nasihat pajak resmi."
            },
            en: {
                appTitle: "Detailed Income Tax Calculator",
                headerTitle: "Indonesia PPh 21 Calculator (Detailed)",
                toolSubtitle: "Calculate your estimated monthly and annual income tax with a detailed breakdown of progressive tax layers (UU HPP).",
                backToCatalogText: "Back to Tools Catalog",
                headerIncome: "1. Income Details",
                labelMonthlySalary: "Monthly Gross Salary",
                descMonthlySalary: "Gross monthly salary before deductions, including fixed allowances.",
                labelOtherIncome: "Other Monthly Allowances",
                descOtherIncome: "Average monthly meal, transport, or overtime allowances.",
                
                headerStatus: "2. Tax Status (PTKP)",
                labelPtkp: "Marital Status",
                labelNpwp: "Have NPWP?",
                descNpwp: "If 'No', a 20% surcharge is applied.",
                calculateButton: "Calculate Tax",
                inputError: "Please enter a valid salary amount.",
                
                resultHeader: "Tax Calculation Result",
                labelMonthlyTax: "Estimated Monthly Tax (PPh 21)",
                labelTakeHome: "Net Take Home Pay: ",
                
                detailHeader: "Calculation Breakdown (Annual)",
                labelGrossAnnual: "Gross Annual Income",
                labelOccCost: "Occupational Cost (Max 6M/yr)",
                labelNetAnnual: "Net Annual Income",
                labelPTKPVal: "PTKP (Non-Taxable Income)",
                labelPKP: "PKP (Taxable Income)",
                labelTotalAnnualTax: "Total Annual Tax Payable",
                
                sectionHeader1: "Understanding PPh 21",
                content1: "PPh 21 is a tax on income in the form of salaries, wages, honoraria, allowances, and other payments received by individual domestic taxpayers in connection with employment.",
                sectionHeader2: "Tax Brackets",
                content2: "Tax rates are applied to <b>PKP (Taxable Income)</b> in tiers: 5%, 15%, 25%, 30%, and 35%.",
                sectionHeader3: "Tax Saving Tips",
                content3: "Legal ways to optimize your taxes:",
                tip1: "<b>Update PTKP:</b> Always update dependent status with HR.",
                tip2: "<b>Have an NPWP:</b> Avoid the 20% surcharge.",
                tip3: "<b>Deductibles:</b> Pension contributions are tax-deductible.",
                sectionHeader4: "Disclaimer",
                content4: "This calculator uses the annualized calculation method for estimation. This result is not official tax advice."
            }
        };

        let currentLang = 'en';

        function formatNumber(amount) {
            if (typeof amount !== 'number') return '0';
            const locale = 'id-ID'; 
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(Math.round(amount));
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; 
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateTax(event) {
            event.preventDefault();
            const monthlySalary = cleanInput(document.getElementById('monthlySalary').value);
            const otherIncome = cleanInput(document.getElementById('otherIncome').value);
            const ptkp = parseInt(document.getElementById('ptkpStatus').value);
            const hasNPWP = document.getElementById('hasNPWP').value === 'yes';

            if (monthlySalary < 0) return;

            // Calc
            const grossMonthly = monthlySalary + otherIncome;
            const grossAnnual = grossMonthly * 12;
            let occupationalCost = grossAnnual * 0.05;
            if (occupationalCost > 6000000) occupationalCost = 6000000;
            const netAnnual = grossAnnual - occupationalCost;
            let pkp = netAnnual - ptkp;
            pkp = Math.floor(pkp / 1000) * 1000;
            let annualTax = 0;

            if (pkp > 0) {
                let remainingPKP = pkp;
                if (remainingPKP > 60000000) {
                    annualTax += 60000000 * 0.05; remainingPKP -= 60000000;
                } else { annualTax += remainingPKP * 0.05; remainingPKP = 0; }
                
                if (remainingPKP > 0) {
                    if (remainingPKP > 190000000) {
                        annualTax += 190000000 * 0.15; remainingPKP -= 190000000;
                    } else { annualTax += remainingPKP * 0.15; remainingPKP = 0; }
                }
                
                if (remainingPKP > 0) {
                    if (remainingPKP > 250000000) {
                        annualTax += 250000000 * 0.25; remainingPKP -= 250000000;
                    } else { annualTax += remainingPKP * 0.25; remainingPKP = 0; }
                }
                
                if (remainingPKP > 0) {
                    if (remainingPKP > 4500000000) {
                        annualTax += 4500000000 * 0.30; remainingPKP -= 4500000000;
                    } else { annualTax += remainingPKP * 0.30; remainingPKP = 0; }
                }
                
                if (remainingPKP > 0) { annualTax += remainingPKP * 0.35; }
            }
            
            if (!hasNPWP) annualTax = annualTax * 1.20;
            
            const monthlyTax = annualTax / 12;
            const takeHomePay = grossMonthly - monthlyTax;

            // Display
            document.getElementById('resultMonthlyTax').textContent = formatNumber(Math.round(monthlyTax));
            document.getElementById('resultTakeHome').textContent = formatNumber(Math.round(takeHomePay));
            
            document.getElementById('valGrossAnnual').textContent = formatNumber(Math.round(grossAnnual));
            document.getElementById('valOccCost').textContent = "(" + formatNumber(Math.round(occupationalCost)) + ")";
            document.getElementById('valNetAnnual').textContent = formatNumber(Math.round(netAnnual));
            document.getElementById('valPTKP').textContent = "(" + formatNumber(Math.round(ptkp)) + ")";
            document.getElementById('valPKP').textContent = formatNumber(Math.round(pkp));
            document.getElementById('valTotalAnnualTax').textContent = formatNumber(Math.round(annualTax));

            document.getElementById('resultBox').classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            const salaryVal = document.getElementById('monthlySalary').value;
            const otherVal = document.getElementById('otherIncome').value;

            const elements = [
                'appTitle', 'headerTitle', 'toolSubtitle', 'backToCatalogText', 'headerIncome',
                'labelMonthlySalary', 'descMonthlySalary', 'labelOtherIncome', 'descOtherIncome',
                'headerStatus', 'labelPtkp', 'labelNpwp', 'descNpwp', 'calculateButton',
                'resultHeader', 'labelMonthlyTax', 'detailHeader', 'labelGrossAnnual',
                'labelOccCost', 'labelNetAnnual', 'labelPTKPVal', 'labelPKP', 'labelTotalAnnualTax',
                'sectionHeader1', 'content1', 'sectionHeader2', 'content2',
                'sectionHeader3', 'content3', 'tip1', 'tip2', 'tip3', 'sectionHeader4', 'content4'
            ];
            
            elements.forEach(id => {
                const el = document.getElementById(id);
                if(el) {
                    if(['content1','content2','content3','content4','tip1','tip2','tip3'].includes(id)) el.innerHTML = t[id];
                    else el.textContent = t[id];
                }
            });

            // Partial Labels
            const takeHomeVal = document.getElementById('resultTakeHome').textContent;
            document.getElementById('labelTakeHome').innerHTML = t.labelTakeHome + `<span id="resultTakeHome" class="font-bold text-green-700 text-lg">${takeHomeVal}</span>`;

            // Inputs
            document.getElementById('monthlySalary').value = formatNumber(cleanInput(salaryVal));
            document.getElementById('otherIncome').value = formatNumber(cleanInput(otherVal));
            
            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateTax({preventDefault:()=>{}});
            }
            updateRelatedContent(lang);
        }

        function updateRelatedContent(lang) {
            const translatableElements = document.querySelectorAll('#related-tools-section [data-en]');
            translatableElements.forEach(el => {
                const newText = el.getAttribute(`data-${lang}`);
                if (newText) {
                    el.textContent = newText;
                }
            });
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    const currentLang = document.documentElement.lang || 'en';
                    setLanguage(currentLang);
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        document.addEventListener('DOMContentLoaded', () => {
            setLanguage('en'); 
        });
    </script>
</body>
</html>