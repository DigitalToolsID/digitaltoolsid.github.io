<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-kpr/" />
    
    <meta name="description" content="Mortgage Loan Calculator (KPR). Calculate monthly installments, total interest paid, and view the complete amortization schedule.">
    <meta name="keywords" content="Mortgage Calculator, Home Loan Simulator, Amortization Schedule, Kalkulator KPR, Simulasi Kredit Rumah, Hitung Bunga KPR, how to calculate monthly mortgage, cara hitung cicilan rumah">
    
    <link rel="icon" href="data:,">
    
    <title id="appTitle">Mortgage Loan Calculator</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>

    <style>
        /* STANDAR TAMPILAN: Hard Lock 50% untuk Desktop */
        @media (min-width: 1024px) {
            .layout-article-fixed {
                width: 50% !important;
                max-width: 50% !important;
                min-width: 50% !important;
                margin-left: auto;
                margin-right: auto;
            }
        }

        /* CSS LOKAL: Khusus untuk Tabel Amortisasi */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem;
        }
        
        /* Gaya Tombol Hijau (Finance) */
        .calculate-button {
            background-color: #16a34a !important; 
            color: white !important;
        }
        .calculate-button:hover {
            background-color: #15803d !important;
        }

        /* Tabel Amortisasi Scrollable */
        .amortization-table-container {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
        }
        .amortization-table th, .amortization-table td {
            padding: 8px 12px;
            text-align: right;
            font-size: 0.75rem; 
            white-space: nowrap;
        }
        .amortization-table th {
            background-color: #f3f4f6;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
            text-align: center;
        }
        .amortization-table td:first-child {
            text-align: center;
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <script>window.headerCategory = 'finance';</script>
    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex flex-col items-center">
        <div class="w-full layout-article-fixed bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3 text-center">Mortgage Loan (KPR) Calculator</h1>
            
            <p id="toolSubtitle" class="text-sm text-gray-700 font-medium mb-6 leading-relaxed text-justify">
                Calculate monthly installments, total interest, and view the amortization schedule for your home loan.
            </p>
            
            <form id="kprForm" onsubmit="calculateKpr(event)" class="space-y-6">
                
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        
                        <div class="md:col-span-2">
                            <label for="loanAmount" class="block text-sm font-medium text-gray-700 mb-1">
                                <span id="labelLoanAmount">Loan Amount</span>
                                <span class="currency-label font-normal text-gray-500">($)</span>
                            </label>
                            <input type="text" id="loanAmount" inputmode="numeric" value="500.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150" required>
                            <p class="text-xs text-gray-500 mt-1" id="descLoanAmount">Total principal amount.</p>
                        </div>
                        
                        <div class="relative">
                            <label for="interestRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelInterestRate">Annual Interest Rate (%)</label>
                            <input type="number" id="interestRate" min="0" step="0.1" value="8" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150" required>
                            <p class="text-xs text-gray-500 mt-1" id="descInterestRate">Annual effective interest rate.</p>
                        </div>
                        
                        <div class="relative">
                            <label for="loanTermYears" class="block text-sm font-medium text-gray-700 mb-1" id="labelLoanTerm">Loan Term (Years)</label>
                            <input type="number" id="loanTermYears" min="1" max="30" value="15" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150" required>
                            <p class="text-xs text-gray-500 mt-1" id="descLoanTerm">Duration (Max 30 Years).</p>
                        </div>
                    </div>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-bold py-3 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-opacity-50">
                    Calculate Installment
                </button>
            
                <div id="errorAlert" class="hidden mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-6 bg-green-50 border border-green-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-4 text-gray-800 border-b pb-2 border-green-300">Loan Summary</h3>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                    <div class="p-4 bg-white border border-green-200 rounded-lg col-span-1 sm:col-span-2 text-center">
                        <p id="labelMonthlyPayment" class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-1">Monthly Installment</p>
                        <p id="monthlyPaymentResult" class="text-4xl font-extrabold text-green-600">0</p>
                    </div>
                    
                    <div class="p-3 bg-white border border-gray-200 rounded-lg">
                        <p id="labelTotalPrincipal" class="text-xs text-gray-600 mb-1">Total Principal</p>
                        <p id="totalPrincipalResult" class="text-lg font-bold text-gray-800">0</p>
                    </div>
                    
                    <div class="p-3 bg-white border border-gray-200 rounded-lg">
                        <p id="labelTotalInterest" class="text-xs text-red-600 mb-1">Total Interest</p>
                        <p id="totalInterestResult" class="text-lg font-bold text-red-600">0</p>
                    </div>
                    
                    <div class="p-3 bg-green-100 border border-green-200 rounded-lg col-span-1 sm:col-span-2">
                        <div class="flex justify-between items-center">
                            <p id="labelTotalCost" class="text-sm font-bold text-green-800">Total Loan Cost</p>
                            <p id="totalCostResult" class="text-lg font-bold text-green-800">0</p>
                        </div>
                    </div>
                </div>

                <h3 id="amortizationHeader" class="text-md font-bold text-gray-800 border-b pb-2 mb-2">Amortization Schedule</h3>
                <div class="amortization-table-container shadow-inner bg-white">
                    <table class="amortization-table w-full">
                        <thead>
                            <tr>
                                <th id="tableHeaderMonth">Month</th>
                                <th id="tableHeaderPayment">Payment</th>
                                <th id="tableHeaderPrincipal">Principal</th>
                                <th id="tableHeaderInterest">Interest</th>
                                <th id="tableHeaderBalance">Balance</th>
                            </tr>
                        </thead>
                        <tbody id="amortizationTableBody">
                            </tbody>
                    </table>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding Your Mortgage</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">How Amortization Works</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Tips for Choosing the Right Loan</h3>
                <ul class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="layout-article-fixed w-full px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600 dynamic-bg"></div> 
            <h2 class="text-xl font-bold text-gray-800" data-en="Related Finance Tools" data-id="Alat Keuangan Terkait">Related Finance Tools</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-10">
            <a href="../kalkulator-cicilan-mobil/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 group-hover:text-green-700 transition-colors" data-en="Car Loan Calculator" data-id="Kalkulator Cicilan Mobil">Car Loan Calculator</h3>
                <p class="text-xs text-gray-600" data-en="Estimate monthly car payments." data-id="Hitung simulasi kredit mobil.">Estimate monthly car payments.</p>
            </a>
            <a href="../kalkulator-kapasitas-cicilan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 group-hover:text-green-700 transition-colors" data-en="Loan Affordability" data-id="Kapasitas Cicilan">Loan Affordability</h3>
                <p class="text-xs text-gray-600" data-en="How much can you borrow safely?" data-id="Berapa pinjaman yang aman?">How much can you borrow safely?</p>
            </a>
        </div>
        
        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles:" data-id="Artikel Terkait:">Related Articles:</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm hover:underline group text-blue-600 hover:text-blue-800">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-green-500"></span>
                        <span data-en="Strategies to Accelerate Debt Repayment" data-id="Strategi Mempercepat Pelunasan Utang">Strategies to Accelerate Debt Repayment</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR KPR / AMORTISASI
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Cicilan KPR",
                headerTitle: "Kalkulator Cicilan KPR & Amortisasi",
                toolSubtitle: "Hitung angsuran bulanan Anda, total bunga yang dibayar, dan visualisasikan jadwal amortisasi pinjaman.",
                
                currencyLabel: "(Rp)",

                // Input
                labelLoanAmount: "Jumlah Pinjaman",
                descLoanAmount: "Total pokok pinjaman.",
                labelInterestRate: "Suku Bunga Tahunan (%)",
                descInterestRate: "Suku bunga efektif tahunan.",
                labelLoanTerm: "Jangka Waktu (Tahun)",
                descLoanTerm: "Durasi pinjaman (Maks 30 Thn).",
                calculateButton: "Hitung Angsuran",
                
                inputError: "Mohon masukkan semua nilai input yang valid.",
                
                // Hasil
                resultHeader: "Ringkasan Pinjaman",
                labelMonthlyPayment: "Angsuran Bulanan",
                labelTotalPrincipal: "Total Pokok",
                labelTotalInterest: "Total Bunga",
                labelTotalCost: "Total Biaya (Pokok + Bunga)",
                amortizationHeader: "Jadwal Amortisasi Bulanan",
                
                // Tabel Amortisasi
                tableHeaderMonth: "Bulan",
                tableHeaderPayment: "Angsuran",
                tableHeaderPrincipal: "Pokok",
                tableHeaderInterest: "Bunga",
                tableHeaderBalance: "Sisa",

                // Konten Edukasi
                sectionHeader1: "Memahami KPR (Kredit Pemilikan Rumah)",
                content1: "KPR adalah fasilitas pinjaman jangka panjang untuk membeli properti. Memahami elemen seperti Pokok dan Bunga sangat penting karena ini adalah komitmen jangka panjang.",
                sectionHeader2: "Cara Kerja Amortisasi",
                content2: "Amortisasi adalah proses pelunasan utang. Di awal, sebagian besar angsuran Anda membayar Bunga. Seiring waktu, porsi Pokok yang dibayar akan semakin besar.",
                sectionHeader3: "Tips Memilih Pinjaman",
                tip1: "Pertimbangkan Tenor Pendek: Total bunga lebih kecil.",
                tip2: "Bandingkan Suku Bunga: Cek apakah bunga fixed atau floating.",
                tip3: "Perhatikan Biaya Awal: Provisi, notaris, dan pajak.",
                sectionHeader4: "Penting (Disclaimer)",
                content4: "Hasil ini adalah estimasi menggunakan metode anuitas. Biaya real mungkin berbeda tergantung kebijakan bank.",
                
                // Footer
                footerPrivacy: "Kebijakan Privasi",
                footerTerms: "Syarat & Ketentuan",
                footerAbout: "Tentang Kami",
                footerContact: "Hubungi Kami",
                footerDev: "Dikembangkan oleh DTID Analytics."
            },
            en: {
                appTitle: "Mortgage Loan Calculator",
                headerTitle: "Mortgage Loan (KPR) Calculator",
                toolSubtitle: "Calculate your monthly installment, total interest paid, and visualize the amortization schedule.",
                
                currencyLabel: "($)",

                // Input
                labelLoanAmount: "Loan Amount",
                descLoanAmount: "Total principal amount.",
                labelInterestRate: "Annual Interest Rate (%)",
                descInterestRate: "Effective annual interest rate.",
                labelLoanTerm: "Loan Term (Years)",
                descLoanTerm: "Duration (Max 30 Years).",
                calculateButton: "Calculate Installment",
        
                inputError: "Please enter all valid input values.",
                
                // Hasil
                resultHeader: "Loan Summary",
                labelMonthlyPayment: "Monthly Installment",
                labelTotalPrincipal: "Total Principal",
                labelTotalInterest: "Total Interest",
                labelTotalCost: "Total Cost (Principal + Interest)",
                amortizationHeader: "Monthly Amortization Schedule",
                
                // Tabel Amortisasi
                tableHeaderMonth: "Month",
                tableHeaderPayment: "Payment",
                tableHeaderPrincipal: "Principal",
                tableHeaderInterest: "Interest",
                tableHeaderBalance: "Balance",
                
                // Konten Edukasi
                sectionHeader1: "Understanding Mortgage",
                content1: "A mortgage is a long-term loan for property. Understanding Principal vs Interest is crucial for long-term financial planning.",
                sectionHeader2: "How Amortization Works",
                content2: "Amortization pays off debt over time. Initially, you pay mostly interest. Later, you pay more principal.",
                sectionHeader3: "Tips for Choosing Loan",
                tip1: "Shorter Tenor: Pays less total interest.",
                tip2: "Compare Rates: Check for fixed vs floating rates.",
                tip3: "Mind Upfront Costs: Notary fees, taxes, etc.",
                sectionHeader4: "Disclaimer",
                content4: "These results are estimates using standard annuity formulas. Actual bank costs may vary.",
                
                // Footer
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms of Service",
                footerAbout: "About Us",
                footerContact: "Contact Us",
                footerDev: "Developed by DTID Analytics."
            }
        };

        let currentLang = 'en';

        // Helper: Clean & Format
        function cleanInput(formattedValue) {
            if (typeof formattedValue !== 'string') return formattedValue;
            let cleaned = formattedValue.replace(/[^\d]/g, '');
            return parseFloat(cleaned) || 0;
        }

        function formatNumber(num) {
            const currencyCode = currentLang === 'id' ? 'IDR' : 'USD';
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return num.toLocaleString(locale, {
                style: 'currency', currency: currencyCode, minimumFractionDigits: 0, maximumFractionDigits: 0
            }); 
        }

        function formatInput(inputElement) {
            let value = inputElement.value;
            let numericValue = value.replace(/[^0-9]/g, '');
            if (numericValue.length === 0) { inputElement.value = ''; return; }
            let number = parseInt(numericValue, 10);
            inputElement.value = number.toLocaleString(currentLang === 'id' ? 'id-ID' : 'en-US', {
                maximumFractionDigits: 0, minimumFractionDigits: 0
            });
        }

        // Fungsi Render Tabel
        function renderAmortizationTable(amortizationData) {
            const tbody = document.getElementById('amortizationTableBody');
            tbody.innerHTML = '';
            
            amortizationData.forEach(row => {
                const tr = document.createElement('tr');
                tr.className = 'border-b border-gray-100 hover:bg-gray-50';

                const createTd = (text) => {
                    const td = document.createElement('td');
                    td.textContent = text;
                    return td;
                };

                tr.appendChild(createTd(row.month));
                tr.appendChild(createTd(formatNumber(row.payment)));
                tr.appendChild(createTd(formatNumber(row.principal)));
                tr.appendChild(createTd(formatNumber(row.interest)));
                tr.appendChild(createTd(formatNumber(row.balance)));

                tbody.appendChild(tr);
            });
        }

        function calculateKpr(event) {
            if(event) event.preventDefault();
            
            // 1. Ambil Input
            const L = cleanInput(document.getElementById('loanAmount').value);
            const R_annual = parseFloat(document.getElementById('interestRate').value) / 100;
            const T_years = parseInt(document.getElementById('loanTermYears').value) || 0;

            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            // 2. Validasi
            if (L <= 0 || R_annual < 0 || T_years < 1 || T_years > 30) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            errorAlert.classList.add('hidden');

            // 3. Kalkulasi
            const R_monthly = R_annual / 12;
            const N_months = T_years * 12;
            
            let monthlyPayment = 0;
            if (R_monthly > 0) {
                const powerFactor = Math.pow(1 + R_monthly, N_months);
                monthlyPayment = L * (R_monthly * powerFactor) / (powerFactor - 1);
            } else {
                monthlyPayment = L / N_months;
            }

            // 4. Amortisasi Loop
            let remainingBalance = L;
            let totalInterestPaid = 0;
            const amortizationSchedule = [];

            for (let month = 1; month <= N_months; month++) {
                const interestPayment = remainingBalance * R_monthly;
                let principalPayment = monthlyPayment - interestPayment;

                if (month === N_months) {
                    principalPayment = remainingBalance;
                    monthlyPayment = remainingBalance + interestPayment;
                }

                remainingBalance -= principalPayment;
                totalInterestPaid += interestPayment;

                amortizationSchedule.push({
                    month: month,
                    payment: Math.round(monthlyPayment),
                    principal: Math.round(principalPayment),
                    interest: Math.round(interestPayment),
                    balance: Math.round(Math.max(0, remainingBalance))
                });
                
                if (remainingBalance <= 0.01) break;
            }
            
            const totalCost = L + totalInterestPaid;

            // 5. Render Hasil
            document.getElementById('monthlyPaymentResult').textContent = formatNumber(Math.round(monthlyPayment));
            document.getElementById('totalPrincipalResult').textContent = formatNumber(Math.round(L));
            document.getElementById('totalInterestResult').textContent = formatNumber(Math.round(totalInterestPaid));
            document.getElementById('totalCostResult').textContent = formatNumber(Math.round(totalCost));

            renderAmortizationTable(amortizationSchedule);
            resultBox.classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').textContent = t.toolSubtitle;
            
            document.querySelectorAll('.currency-label').forEach(el => el.textContent = t.currencyLabel);
            
            document.getElementById('labelLoanAmount').textContent = t.labelLoanAmount;
            document.getElementById('descLoanAmount').textContent = t.descLoanAmount;
            document.getElementById('labelInterestRate').textContent = t.labelInterestRate;
            document.getElementById('descInterestRate').textContent = t.descInterestRate;
            document.getElementById('labelLoanTerm').textContent = t.labelLoanTerm;
            document.getElementById('descLoanTerm').textContent = t.descLoanTerm;
            document.getElementById('calculateButton').textContent = t.calculateButton;

            document.getElementById('resultHeader').textContent = t.resultHeader;
            document.getElementById('labelMonthlyPayment').textContent = t.labelMonthlyPayment;
            document.getElementById('labelTotalPrincipal').textContent = t.labelTotalPrincipal;
            document.getElementById('labelTotalInterest').textContent = t.labelTotalInterest;
            document.getElementById('labelTotalCost').textContent = t.labelTotalCost;
            document.getElementById('amortizationHeader').textContent = t.amortizationHeader;
            
            document.getElementById('tableHeaderMonth').textContent = t.tableHeaderMonth;
            document.getElementById('tableHeaderPayment').textContent = t.tableHeaderPayment;
            document.getElementById('tableHeaderPrincipal').textContent = t.tableHeaderPrincipal;
            document.getElementById('tableHeaderInterest').textContent = t.tableHeaderInterest;
            document.getElementById('tableHeaderBalance').textContent = t.tableHeaderBalance;

            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('tip1').textContent = t.tip1;
            document.getElementById('tip2').textContent = t.tip2;
            document.getElementById('tip3').textContent = t.tip3;
            document.getElementById('sectionHeader4').textContent = t.sectionHeader4;
            document.getElementById('content4').innerHTML = t.content4;
            
            // Re-format Input
            const input = document.getElementById('loanAmount');
            if(input.value) formatInput(input);
            
            updateRelatedContent(lang);

            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateKpr();
            }
        }

        function updateRelatedContent(lang) {
            document.querySelectorAll('#related-tools-section [data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if(text) el.textContent = text;
            });
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    const currentLang = document.documentElement.lang || 'en';
                    setLanguage(currentLang);
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        document.addEventListener('DOMContentLoaded', () => {
            const currentLang = document.documentElement.lang || 'en';
            formatInput(document.getElementById('loanAmount'));
            setLanguage(currentLang);
        });
    </script>
</body>
</html>