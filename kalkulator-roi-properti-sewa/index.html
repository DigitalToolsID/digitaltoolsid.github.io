<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-roi-properti-sewa/" />
    <!-- Judul akan di-set oleh JS -->
 
    <meta name="description" content="Kalkulator ROI Properti Sewa. Hitung Cash Flow, Cap Rate, dan Cash on Cash Return untuk investasi properti Anda secara akurat." />
 
    <title id="appTitle">Rental Property ROI Calculator</title>
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/rental-property-roi-calculator/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/rental-property-roi-calculator/index.html" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Kode Google Analytic dan Adsense -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864"
         crossorigin="anonymous"></script>
    
    <!-- Konfigurasi Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#2c3e50', 
                        'secondary': '#3498db', 
                        'primary-dark': '#1e3a8a', 
                        'finance-color': '#27ae60', // Hijau untuk Keuangan
                        'property-color': '#8e44ad', // Ungu untuk Properti/Investasi
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Gaya kustom untuk tampilan hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem; 
        }
        
        /* Gaya Toggle Bahasa */
        .lang-toggle-container {
            position: relative;
            display: inline-flex;
            background-color: #e5e7eb; 
            border-radius: 9999px; 
            padding: 4px;
        }
        .lang-toggle-btn {
            padding: 6px 14px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            color: #6b7280; 
            transition: color 0.3s ease;
            position: relative;
        }
        .lang-toggle-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px); 
            background-color: #1e3a8a; /* Primary-dark */
            border-radius: 9999px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .lang-toggle-container.lang-en .lang-toggle-slider { transform: translateX(0%); }
        .lang-toggle-container.lang-id .lang-toggle-slider { transform: translateX(100%); }
        .lang-toggle-container.lang-en #lang-en { color: white; }
        .lang-toggle-container.lang-id #lang-id { color: white; }
        
        /* Gaya kustom untuk input dan tombol */
        .calculate-button {
            box-shadow: 0 4px #6c3483; /* Warna ungu gelap */
            background-color: #8e44ad; /* property-color */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #6c3483;
            background-color: #9b59b6;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #6c3483;
        }

        /* Gaya untuk deskripsi input */
        .input-description {
            font-size: 0.75rem; /* text-xs */
            color: #6b7280; /* text-gray-500 */
            margin-top: 0.25rem;
        }

        /* Gaya Kartu Hasil Utama */
        .result-card-roi {
            background-color: #f3e5f5; /* Purple 50 */
            border: 2px solid #d0aee0; /* Purple 200 */
        }
        
        /* Section Separator */
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #4a5568;
        }
        .section-title::after {
            content: "";
            flex: 1;
            height: 1px;
            background-color: #e2e8f0;
            margin-left: 1rem;
        }
        
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans" oncontextmenu="return false;" oncopy="return false;" oncut="return false;">

    <!-- Header -->
    <header class="bg-primary-dark text-white py-4 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <a href="../index.html" class="text-lg font-semibold tracking-tight text-gray-200 hover:text-white transition duration-150">
                &larr; <span id="backToCatalogText">Back to Tools Catalog</span>
            </a>
            <div id="languageSwitcher" class="lang-toggle-container lang-en">
                <div id="langToggleSlider" class="lang-toggle-slider"></div>
                <button id="lang-en" onclick="setLanguage('en')" class="lang-toggle-btn">EN</button>
                <button id="lang-id" onclick="setLanguage('id')" class="lang-toggle-btn">ID</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-4xl bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-primary-dark mb-3">Rental Property ROI Calculator</h1>
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6 leading-relaxed text-justify">
               <!-- Konten Subtitle akan diisi oleh JS -->
            </p>
            
            <!-- Form Input -->
            <form id="roiForm" onsubmit="calculateROI(event)" class="space-y-6">
                
                <!-- Bagian 1: Detail Pembelian -->
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <div class="section-title text-property-color" id="headerPurchase">1. Purchase & Loan Details</div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <label for="propertyPrice" class="block text-sm font-medium text-gray-700 mb-1" id="labelPropertyPrice">Property Price</label>
                            <input type="text" id="propertyPrice" inputmode="numeric" value="1.000.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-property-color focus:border-property-color" required>
                            <p class="input-description" id="descPropertyPrice">Total harga pembelian properti.</p>
                        </div>
                        <div class="relative">
                            <label for="downPayment" class="block text-sm font-medium text-gray-700 mb-1" id="labelDownPayment">Down Payment (%)</label>
                            <input type="number" id="downPayment" min="0" max="100" step="1" value="20" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-property-color focus:border-property-color" required>
                            <p class="input-description" id="descDownPayment">Persentase uang muka dari harga properti.</p>
                        </div>
                        <div class="relative">
                            <label for="interestRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelInterestRate">Interest Rate (%)</label>
                            <input type="number" id="interestRate" min="0" step="0.1" value="9.5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-property-color focus:border-property-color" required>
                            <p class="input-description" id="descInterestRate">Suku bunga KPR/Pinjaman tahunan.</p>
                        </div>
                        <div class="relative">
                            <label for="loanTerm" class="block text-sm font-medium text-gray-700 mb-1" id="labelLoanTerm">Loan Term (Years)</label>
                            <input type="number" id="loanTerm" min="1" max="30" value="15" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-property-color focus:border-property-color" required>
                            <p class="input-description" id="descLoanTerm">Durasi pinjaman dalam tahun.</p>
                        </div>
                        <div class="relative">
                            <label for="closingCosts" class="block text-sm font-medium text-gray-700 mb-1" id="labelClosingCosts">Closing/Repair Costs</label>
                            <input type="text" id="closingCosts" inputmode="numeric" value="50.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-property-color focus:border-property-color">
                            <p class="input-description" id="descClosingCosts">Biaya notaris, pajak pembeli, renovasi awal, dll (dibayar di muka).</p>
                        </div>
                    </div>
                </div>

                <!-- Bagian 2: Pendapatan & Pengeluaran -->
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <div class="section-title text-finance-color" id="headerIncome">2. Rental Income & Expenses</div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <label for="monthlyRent" class="block text-sm font-medium text-gray-700 mb-1" id="labelMonthlyRent">Monthly Rental Income</label>
                            <input type="text" id="monthlyRent" inputmode="numeric" value="10.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color" required>
                            <p class="input-description" id="descMonthlyRent">Ekspektasi pendapatan sewa kotor per bulan.</p>
                        </div>
                        <div class="relative">
                            <label for="vacancyRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelVacancyRate">Vacancy Rate (%)</label>
                            <input type="number" id="vacancyRate" min="0" max="100" step="1" value="5" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color">
                            <p class="input-description" id="descVacancyRate">Estimasi persentase waktu properti kosong (tidak disewa) per tahun.</p>
                        </div>
                        <div class="relative md:col-span-2">
                            <label for="monthlyExpenses" class="block text-sm font-medium text-gray-700 mb-1" id="labelMonthlyExpenses">Total Monthly Expenses</label>
                            <input type="text" id="monthlyExpenses" inputmode="numeric" value="1.500.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-finance-color focus:border-finance-color" required>
                            <p class="input-description" id="descMonthlyExpenses">Total biaya operasional per bulan (IPL, Pemeliharaan, Pajak PBB (dibagi 12), Asuransi, Manajemen, dll). <b>Jangan masukkan cicilan KPR di sini.</b></p>
                        </div>
                    </div>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl hover:bg-purple-700 transition duration-300 ease-in-out transform focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50">
                    Calculate ROI
                </button>
                
                <!-- Error Alert -->
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <!-- Result Box -->
            <div id="resultBox" class="result-box mt-8 p-6 rounded-xl shadow-lg result-card-roi">
                
                <h3 id="resultHeader" class="text-2xl font-bold mb-6 text-primary border-b pb-2 border-purple-300">Investment Analysis</h3>
                
                <!-- Top Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 text-center">
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-purple-100">
                        <p id="labelCashFlow" class="text-sm font-bold text-gray-600 uppercase tracking-wider">Monthly Cash Flow</p>
                        <p id="resultCashFlow" class="text-3xl font-extrabold text-property-color mt-2">0</p>
                        <p class="text-xs text-gray-500 mt-1" id="descCashFlowResult">Income - Expenses - Mortgage</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-purple-100">
                        <p id="labelCoC" class="text-sm font-bold text-gray-600 uppercase tracking-wider">Cash on Cash Return</p>
                        <p id="resultCoC" class="text-3xl font-extrabold text-finance-color mt-2">0%</p>
                        <p class="text-xs text-gray-500 mt-1" id="descCoCResult">Annual Cash Flow / Total Investment</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-purple-100">
                        <p id="labelCapRate" class="text-sm font-bold text-gray-600 uppercase tracking-wider">Cap Rate</p>
                        <p id="resultCapRate" class="text-3xl font-extrabold text-blue-600 mt-2">0%</p>
                        <p class="text-xs text-gray-500 mt-1" id="descCapRateResult">NOI / Purchase Price</p>
                    </div>
                </div>

                <!-- Interpretasi Hasil -->
                <div class="mb-8 bg-white p-4 rounded-lg border border-purple-200">
                    <h4 id="headerInterpretation" class="text-md font-bold text-primary mb-2">Interpretation of Results</h4>
                    <p id="textInterpretation" class="text-sm text-gray-700 leading-relaxed">
                        <!-- Teks interpretasi dinamis akan muncul di sini -->
                    </p>
                </div>

                <!-- Detailed Breakdown -->
                <h4 id="detailHeader" class="text-lg font-bold text-primary mb-3">Annual Breakdown</h4>
                <div class="bg-white rounded-lg shadow overflow-hidden border border-gray-200">
                    <div class="p-4 grid grid-cols-2 gap-4 border-b border-gray-100">
                        <div class="text-gray-600" id="labelGrossIncome">Gross Income (Yearly)</div>
                        <div class="text-right font-semibold" id="valGrossIncome">0</div>
                    </div>
                    <div class="p-4 grid grid-cols-2 gap-4 border-b border-gray-100 bg-gray-50">
                        <div class="text-gray-600" id="labelTotalExpenses">Operating Expenses (Yearly)</div>
                        <div class="text-right font-semibold text-red-500" id="valTotalExpenses">0</div>
                    </div>
                    <div class="p-4 grid grid-cols-2 gap-4 border-b border-gray-100 font-bold">
                        <div class="text-gray-800" id="labelNOI">Net Operating Income (NOI)</div>
                        <div class="text-right text-blue-600" id="valNOI">0</div>
                    </div>
                    <div class="p-4 grid grid-cols-2 gap-4 border-b border-gray-100 bg-gray-50">
                        <div class="text-gray-600" id="labelMortgage">Mortgage Payments (Yearly)</div>
                        <div class="text-right font-semibold text-red-500" id="valMortgage">0</div>
                    </div>
                    <div class="p-4 grid grid-cols-2 gap-4 font-extrabold bg-purple-50">
                        <div class="text-property-color" id="labelTotalCashFlow">Total Annual Cash Flow</div>
                        <div class="text-right text-property-color" id="valTotalCashFlow">0</div>
                    </div>
                </div>
                
                <div class="mt-4 text-xs text-gray-500 text-center" id="investmentNote">
                    Total Initial Investment (Cash Needed): <span id="valTotalInvestment" class="font-bold">0</span> (Down Payment + Closing Costs)
                </div>

            </div>
            
            <!-- Konten Edukasi -->
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Understanding Rental Property Metrics</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Cash Flow vs. Appreciation</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">What is a Good ROI?</h3>
                <ul id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <!-- Footer -->
    <footer class="mt-12 py-6 border-t border-gray-200 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="footerLinks" class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
                <a href="../privacy-policy.html" id="linkPrivacy" class="hover:text-secondary transition duration-150 ease-in-out">Privacy Policy</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../terms-of-service.html" id="linkTerms" class="hover:text-secondary transition duration-150 ease-in-out">Terms of Service</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../about-us.html" id="linkAbout" class="hover:text-secondary transition duration-150 ease-in-out">About Us</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../contact-us.html" id="linkContact" class="hover:text-secondary transition duration-150 ease-in-out">Contact Us</a>
            </div>
            <div class="mt-6 text-center text-xs text-gray-500">
                <span id="footerCopyright">&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics.</span>
            </div>
        </div>
    </footer>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR ROI PROPERTI SEWA
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator ROI Properti Sewa",
                headerTitle: "Kalkulator ROI Properti Sewa",
                toolSubtitle: "Alat ini dirancang khusus bagi Anda yang berniat <b>membeli properti untuk disewakan</b> demi mendapatkan penghasilan pasif. Mengapa kalkulator ini meminta input pendapatan dan pengeluaran? Karena investasi properti yang sukses bukan hanya soal membeli dan menunggu harga naik (apresiasi), tetapi juga memastikan properti tersebut memiliki <b>arus kas (cash flow)</b> yang sehat. Dengan memasukkan data sewa dan biaya operasional, Anda bisa langsung melihat apakah properti incaran Anda akan memberikan keuntungan bulanan atau justru membebani keuangan Anda.",
                backToCatalogText: "Kembali ke Katalog Alat",
                // Input
                headerPurchase: "1. Detail Pembelian & Pinjaman",
                labelPropertyPrice: "Harga Properti",
                descPropertyPrice: "Total harga pembelian properti.",
                labelDownPayment: "Uang Muka / DP (%)",
                descDownPayment: "Persentase uang muka dari harga properti.",
                labelInterestRate: "Suku Bunga (%)",
                descInterestRate: "Suku bunga KPR/Pinjaman tahunan.",
                labelLoanTerm: "Tenor Pinjaman (Tahun)",
                descLoanTerm: "Durasi pinjaman dalam tahun.",
                labelClosingCosts: "Biaya Awal / Renovasi",
                descClosingCosts: "Biaya notaris, pajak pembeli, renovasi awal, dll (dibayar di muka).",
                
                headerIncome: "2. Pendapatan Sewa & Pengeluaran",
                labelMonthlyRent: "Pendapatan Sewa Bulanan",
                descMonthlyRent: "Ekspektasi pendapatan sewa kotor per bulan.",
                labelVacancyRate: "Tingkat Kekosongan / Vacancy (%)",
                descVacancyRate: "Estimasi persentase waktu properti kosong (tidak disewa) per tahun.",
                labelMonthlyExpenses: "Total Pengeluaran Bulanan",
                descMonthlyExpenses: "Total biaya operasional per bulan (IPL, Pemeliharaan, Pajak PBB (dibagi 12), Asuransi, Manajemen, dll). <b>Jangan masukkan cicilan KPR di sini.</b>",
                calculateButton: "Hitung ROI",
                inputError: "Mohon masukkan semua nilai input yang valid.",
                
                // Result Header
                resultHeader: "Analisis Investasi",
                labelCashFlow: "Arus Kas Bulanan (Cash Flow)",
                descCashFlowResult: "Pendapatan - Pengeluaran - Cicilan KPR",
                labelCoC: "Cash on Cash Return",
                descCoCResult: "Arus Kas Tahunan / Total Modal Awal",
                labelCapRate: "Cap Rate",
                descCapRateResult: "NOI / Harga Pembelian",
                
                // Interpretation
                headerInterpretation: "Interpretasi Hasil",
                interpretationPositive: "<b>Properti ini menghasilkan Cash Flow positif.</b> Ini berarti pendapatan sewa cukup untuk membayar semua biaya operasional dan cicilan KPR, serta memberikan kelebihan uang tunai setiap bulan. Cash on Cash Return yang positif menunjukkan modal Anda bekerja secara efektif.",
                interpretationNegative: "<b>Properti ini memiliki Cash Flow negatif.</b> Ini berarti pendapatan sewa TIDAK cukup menutupi biaya. Anda harus 'nombok' setiap bulan. Ini berisiko tinggi kecuali Anda memiliki cadangan dana yang kuat dan sangat yakin akan kenaikan harga properti (capital gain) yang signifikan di masa depan.",
                
                // Breakdown
                detailHeader: "Rincian Tahunan",
                labelGrossIncome: "Pendapatan Kotor (Tahunan)",
                labelTotalExpenses: "Biaya Operasional (Tahunan)",
                labelNOI: "Pendapatan Operasional Bersih (NOI)",
                labelMortgage: "Pembayaran KPR (Tahunan)",
                labelTotalCashFlow: "Total Arus Kas Tahunan",
                investmentNote: "Total Modal Awal (Uang Tunai Dibutuhkan): ",
                
                // Edukasi
                sectionHeader1: "Memahami Metrik Properti Sewa",
                content1: "Investasi properti bukan hanya tentang harga sewa. Tiga metrik utama yang harus Anda pahami: <br><b>1. Cash Flow:</b> Sisa uang di kantong Anda setiap bulan setelah semua biaya dan cicilan dibayar. <br><b>2. Cash on Cash Return:</b> Persentase keuntungan tahunan dibandingkan dengan uang tunai yang sebenarnya Anda keluarkan (DP + Biaya Awal). Ini adalah metrik terbaik untuk melihat efisiensi modal Anda. <br><b>3. Cap Rate:</b> Tingkat pengembalian properti jika dibeli secara tunai (tanpa pinjaman). Ini berguna untuk membandingkan performa properti satu dengan yang lain tanpa pengaruh bunga pinjaman.",
                sectionHeader2: "Cash Flow vs. Apresiasi",
                content2: "Kalkulator ini fokus pada <b>Cash Flow</b> (pendapatan sewa). Namun, properti juga menghasilkan keuntungan dari <b>Apresiasi</b> (kenaikan harga properti jangka panjang). Investor pemula sebaiknya mencari properti dengan Cash Flow positif agar properti tersebut bisa 'membiayai dirinya sendiri' sambil menunggu kenaikan harga.",
                sectionHeader3: "Berapa ROI yang Bagus?",
                content3: "Tidak ada jawaban pasti, tetapi sebagai panduan umum:",
                tip1: "Cash on Cash Return: Targetkan 8% - 12% atau lebih. Jika di bawah bunga deposito/obligasi, pertimbangkan ulang risikonya.",
                tip2: "Cash Flow: Pastikan positif! Di Indonesia, targetkan minimal 'balik modal' operasional jika Anda mengandalkan gain dari kenaikan harga tanah.",
                tip3: "Aturan 1% (Rule of Thumb): Seringkali dikatakan harga sewa bulanan sebaiknya mendekati 1% dari harga beli properti untuk mendapatkan cash flow yang sehat, meskipun ini sangat sulit dicapai di kota besar.",
                sectionHeader4: "Disclaimer",
                content4: "Kalkulator ini adalah alat estimasi. Hasil tidak menjamin kinerja masa depan. Biaya perawatan tidak terduga, perubahan pajak, atau periode kekosongan yang lama dapat mempengaruhi hasil nyata.",

                // Footer
                linkPrivacy: "Kebijakan Privasi",
                linkTerms: "Ketentuan Layanan",
                linkAbout: "Tentang Kami",
                linkContact: "Hubungi Kami",
                footerCopyright: "&copy; 2025 Digital Tools ID. Semua hak dilindungi. Dikembangkan oleh DTID Analytics."
            },
            en: {
                appTitle: "Rental Property ROI Calculator",
                headerTitle: "Rental Property ROI Calculator",
                toolSubtitle: "This tool is designed for those of you who intend to <b>buy a property to rent it out</b> for passive income. Why does this calculator ask for income and expense details? Because successful real estate investment isn't just about buying and waiting for price appreciation; it's about ensuring the property has a healthy <b>cash flow</b>. By entering rental data and operating costs, you can immediately see if your target property will generate monthly profit or become a financial burden.",
                backToCatalogText: "Back to Tools Catalog",
                // Input
                headerPurchase: "1. Purchase & Loan Details",
                labelPropertyPrice: "Property Price",
                descPropertyPrice: "The total purchase price of the property.",
                labelDownPayment: "Down Payment (%)",
                descDownPayment: "Percentage of the purchase price paid upfront.",
                labelInterestRate: "Interest Rate (%)",
                descInterestRate: "Annual mortgage/loan interest rate.",
                labelLoanTerm: "Loan Term (Years)",
                descLoanTerm: "The duration of the loan in years.",
                labelClosingCosts: "Closing/Repair Costs",
                descClosingCosts: "Notary fees, taxes, initial repairs, etc. (paid upfront).",
                
                headerIncome: "2. Rental Income & Expenses",
                labelMonthlyRent: "Monthly Rental Income",
                descMonthlyRent: "Expected gross monthly rental income.",
                labelVacancyRate: "Vacancy Rate (%)",
                descVacancyRate: "Estimated percentage of time the property sits empty per year.",
                labelMonthlyExpenses: "Total Monthly Expenses",
                descMonthlyExpenses: "Total operating costs per month (HOA, Maintenance, Property Tax (monthly portion), Insurance, Management). <b>Do not include mortgage here.</b>",
                calculateButton: "Calculate ROI",
                inputError: "Please enter all valid input values.",
                
                // Result Header
                resultHeader: "Investment Analysis",
                labelCashFlow: "Monthly Cash Flow",
                descCashFlowResult: "Income - Expenses - Mortgage",
                labelCoC: "Cash on Cash Return",
                descCoCResult: "Annual Cash Flow / Total Investment",
                labelCapRate: "Cap Rate",
                descCapRateResult: "NOI / Purchase Price",
                
                // Interpretation
                headerInterpretation: "Interpretation of Results",
                interpretationPositive: "<b>This property generates positive Cash Flow.</b> This means the rental income is sufficient to cover all operating expenses and mortgage payments, leaving you with extra cash each month. A positive Cash on Cash Return indicates your capital is working efficiently.",
                interpretationNegative: "<b>This property has negative Cash Flow.</b> This means the rental income does NOT cover all costs. You will have to pay out of pocket every month. This is high risk unless you have strong cash reserves and are confident in significant future property appreciation.",
                
                // Breakdown
                detailHeader: "Annual Breakdown",
                labelGrossIncome: "Gross Income (Yearly)",
                labelTotalExpenses: "Operating Expenses (Yearly)",
                labelNOI: "Net Operating Income (NOI)",
                labelMortgage: "Mortgage Payments (Yearly)",
                labelTotalCashFlow: "Total Annual Cash Flow",
                investmentNote: "Total Initial Investment (Cash Needed): ",
                
                // Edukasi
                sectionHeader1: "Understanding Rental Property Metrics",
                content1: "Real estate investment is more than just rent. Three key metrics to understand: <br><b>1. Cash Flow:</b> The money left in your pocket each month after all expenses and mortgage payments. <br><b>2. Cash on Cash Return:</b> The annual return percentage compared to the actual cash you invested (Down Payment + Closing Costs). This is the best metric to measure capital efficiency. <br><b>3. Cap Rate:</b> The rate of return if the property were bought with cash (no loan). Useful for comparing property performance relative to its price.",
                sectionHeader2: "Cash Flow vs. Appreciation",
                content2: "This calculator focuses on <b>Cash Flow</b>. However, properties also generate profit from <b>Appreciation</b> (long-term value increase). Beginners should prioritize positive Cash Flow to ensure the property 'pays for itself' while waiting for value appreciation.",
                sectionHeader3: "What is a Good ROI?",
                content3: "There is no single answer, but as a general guide:",
                tip1: "Cash on Cash Return: Target 8% - 12% or higher. If it's lower than safe bonds/deposits, consider the risk.",
                tip2: "Cash Flow: Ensure it's positive! Negative cash flow means you are paying monthly to hold the property.",
                tip3: "The 1% Rule (Rule of Thumb): It is often said that monthly rent should be close to 1% of the purchase price for healthy cash flow, though this is hard to find in major cities.",
                sectionHeader4: "Disclaimer",
                content4: "This calculator is an estimation tool. Results do not guarantee future performance. Unexpected maintenance, tax changes, or extended vacancy periods can affect actual results.",

                // Footer
                linkPrivacy: "Privacy Policy",
                linkTerms: "Terms of Service",
                linkAbout: "About Us",
                linkContact: "Contact Us",
                footerCopyright: "&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics."
            }
        };

        let currentLang = 'en'; // Default language

        function formatNumber(amount, decimalPlaces = 0) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: decimalPlaces,
                maximumFractionDigits: decimalPlaces,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; 
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateROI(event) {
            event.preventDefault();

            // 1. Inputs
            const propertyPrice = cleanInput(document.getElementById('propertyPrice').value);
            const downPaymentPercent = parseFloat(document.getElementById('downPayment').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value) / 100;
            const loanTermYears = parseInt(document.getElementById('loanTerm').value);
            const closingCosts = cleanInput(document.getElementById('closingCosts').value);
            
            const monthlyRent = cleanInput(document.getElementById('monthlyRent').value);
            const vacancyRate = parseFloat(document.getElementById('vacancyRate').value) / 100;
            const monthlyExpenses = cleanInput(document.getElementById('monthlyExpenses').value);

            // 2. Validasi
            if (propertyPrice <= 0 || loanTermYears <= 0 || monthlyRent <= 0) {
                document.getElementById('errorAlert').classList.remove('hidden');
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                return;
            }
            document.getElementById('errorAlert').classList.add('hidden');

            // 3. Perhitungan Loan
            const downPaymentAmount = propertyPrice * (downPaymentPercent / 100);
            const loanAmount = propertyPrice - downPaymentAmount;
            
            let monthlyMortgage = 0;
            if (interestRate > 0) {
                const r = interestRate / 12;
                const n = loanTermYears * 12;
                monthlyMortgage = loanAmount * (r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            } else {
                monthlyMortgage = loanAmount / (loanTermYears * 12);
            }
            const annualMortgage = monthlyMortgage * 12;

            // 4. Perhitungan Pendapatan & Pengeluaran
            const grossAnnualIncome = monthlyRent * 12;
            const vacancyLoss = grossAnnualIncome * vacancyRate;
            const effectiveGrossIncome = grossAnnualIncome - vacancyLoss;
            
            const annualOperatingExpenses = monthlyExpenses * 12;
            
            // 5. Key Metrics
            const NOI = effectiveGrossIncome - annualOperatingExpenses; // Net Operating Income
            const annualCashFlow = NOI - annualMortgage;
            const monthlyCashFlow = annualCashFlow / 12;
            
            const totalInitialInvestment = downPaymentAmount + closingCosts;
            
            // ROI Metrics
            const cashOnCashReturn = (annualCashFlow / totalInitialInvestment) * 100;
            const capRate = (NOI / propertyPrice) * 100;

            // 6. Display Results
            document.getElementById('resultCashFlow').textContent = formatNumber(monthlyCashFlow);
            // Styling logic for negative cash flow
            if (monthlyCashFlow < 0) {
                document.getElementById('resultCashFlow').classList.remove('text-property-color');
                document.getElementById('resultCashFlow').classList.add('text-red-600');
                document.getElementById('textInterpretation').innerHTML = translations[currentLang].interpretationNegative;
            } else {
                document.getElementById('resultCashFlow').classList.add('text-property-color');
                document.getElementById('resultCashFlow').classList.remove('text-red-600');
                document.getElementById('textInterpretation').innerHTML = translations[currentLang].interpretationPositive;
            }

            document.getElementById('resultCoC').textContent = formatNumber(cashOnCashReturn, 2) + "%";
            document.getElementById('resultCapRate').textContent = formatNumber(capRate, 2) + "%";
            
            // Breakdown
            document.getElementById('valGrossIncome').textContent = formatNumber(Math.round(effectiveGrossIncome)); // Income after vacancy
            document.getElementById('valTotalExpenses').textContent = "(" + formatNumber(Math.round(annualOperatingExpenses)) + ")";
            document.getElementById('valNOI').textContent = formatNumber(Math.round(NOI));
            document.getElementById('valMortgage').textContent = "(" + formatNumber(Math.round(annualMortgage)) + ")";
            document.getElementById('valTotalCashFlow').textContent = formatNumber(Math.round(annualCashFlow));
            
            document.getElementById('valTotalInvestment').textContent = formatNumber(Math.round(totalInitialInvestment));

            document.getElementById('resultBox').classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Toggle Styles
            const switcher = document.getElementById('languageSwitcher');
            switcher.classList.remove('lang-en', 'lang-id');
            switcher.classList.add(`lang-${lang}`);

            // Get current values to re-format
            const priceVal = document.getElementById('propertyPrice').value;
            const closingVal = document.getElementById('closingCosts').value;
            const rentVal = document.getElementById('monthlyRent').value;
            const expVal = document.getElementById('monthlyExpenses').value;

            // Text Updates
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').innerHTML = t.toolSubtitle; // CHANGED to innerHTML
            document.getElementById('backToCatalogText').textContent = t.backToCatalogText;
            
            // Labels Input
            document.getElementById('headerPurchase').textContent = t.headerPurchase;
            document.getElementById('labelPropertyPrice').textContent = t.labelPropertyPrice;
            document.getElementById('descPropertyPrice').textContent = t.descPropertyPrice;
            document.getElementById('labelDownPayment').textContent = t.labelDownPayment;
            document.getElementById('descDownPayment').textContent = t.descDownPayment;
            document.getElementById('labelInterestRate').textContent = t.labelInterestRate;
            document.getElementById('descInterestRate').textContent = t.descInterestRate;
            document.getElementById('labelLoanTerm').textContent = t.labelLoanTerm;
            document.getElementById('descLoanTerm').textContent = t.descLoanTerm;
            document.getElementById('labelClosingCosts').textContent = t.labelClosingCosts;
            document.getElementById('descClosingCosts').textContent = t.descClosingCosts;
            
            document.getElementById('headerIncome').textContent = t.headerIncome;
            document.getElementById('labelMonthlyRent').textContent = t.labelMonthlyRent;
            document.getElementById('descMonthlyRent').textContent = t.descMonthlyRent;
            document.getElementById('labelVacancyRate').textContent = t.labelVacancyRate;
            document.getElementById('descVacancyRate').textContent = t.descVacancyRate;
            document.getElementById('labelMonthlyExpenses').textContent = t.labelMonthlyExpenses;
            document.getElementById('descMonthlyExpenses').innerHTML = t.descMonthlyExpenses; // use innerHTML for bold tag
            
            document.getElementById('calculateButton').textContent = t.calculateButton;
            
            // Re-format Inputs
            document.getElementById('propertyPrice').value = formatNumber(cleanInput(priceVal));
            document.getElementById('closingCosts').value = formatNumber(cleanInput(closingVal));
            document.getElementById('monthlyRent').value = formatNumber(cleanInput(rentVal));
            document.getElementById('monthlyExpenses').value = formatNumber(cleanInput(expVal));
            
            // Results
            document.getElementById('resultHeader').textContent = t.resultHeader;
            document.getElementById('labelCashFlow').textContent = t.labelCashFlow;
            document.getElementById('descCashFlowResult').textContent = t.descCashFlowResult;
            document.getElementById('labelCoC').textContent = t.labelCoC;
            document.getElementById('descCoCResult').textContent = t.descCoCResult;
            document.getElementById('labelCapRate').textContent = t.labelCapRate;
            document.getElementById('descCapRateResult').textContent = t.descCapRateResult;
            
            document.getElementById('headerInterpretation').textContent = t.headerInterpretation;
            
            document.getElementById('detailHeader').textContent = t.detailHeader;
            document.getElementById('labelGrossIncome').textContent = t.labelGrossIncome;
            document.getElementById('labelTotalExpenses').textContent = t.labelTotalExpenses;
            document.getElementById('labelNOI').textContent = t.labelNOI;
            document.getElementById('labelMortgage').textContent = t.labelMortgage;
            document.getElementById('labelTotalCashFlow').textContent = t.labelTotalCashFlow;
            
            // Update Investment Note (Complex string construction)
            const investVal = document.getElementById('valTotalInvestment').textContent;
            document.getElementById('investmentNote').innerHTML = t.investmentNote + `<span id="valTotalInvestment" class="font-bold">${investVal}</span> (Down Payment + Closing Costs)`;

            // Edukasi
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('tip1').textContent = t.tip1;
            document.getElementById('tip2').textContent = t.tip2;
            document.getElementById('tip3').textContent = t.tip3;
            document.getElementById('sectionHeader4').textContent = t.sectionHeader4;
            document.getElementById('content4').textContent = t.content4;
            
            // Footer
            document.getElementById('linkPrivacy').textContent = t.linkPrivacy;
            document.getElementById('linkTerms').textContent = t.linkTerms;
            document.getElementById('linkAbout').textContent = t.linkAbout;
            document.getElementById('linkContact').textContent = t.linkContact;
            document.getElementById('footerCopyright').innerHTML = t.footerCopyright;
            
            // Refresh Calc if needed
            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateROI({preventDefault:()=>{}});
            }
        }

        document.getElementById('languageSwitcher').addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const newLang = event.target.id === 'lang-en' ? 'en' : 'id';
                if (newLang !== currentLang) setLanguage(newLang);
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            let defaultLang = 'en'; 
            const browserLang = (navigator.language || navigator.userLanguage).toLowerCase();
            if (browserLang.startsWith('id')) defaultLang = 'id';
            setLanguage(defaultLang); 
        });
    </script>
</body>
</html>