<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-networth/" />
    
    <meta name="description" content="Personal Net Worth Calculator. Calculate Assets minus Liabilities to determine your financial health and wealth status accurately." />
    <meta name="keywords" content="Net Worth Calculator, Financial Health Assessment, Wealth Calculator, Kalkulator Kekayaan Bersih, Cek Kesehatan Finansial, Hitung Aset Bersih, how to calculate net worth, cara hitung total kekayaan, am I wealthy enough">
 
    <link rel="icon" href="data:,">

    <title id="appTitle">Personal Net Worth & Financial Health Calculator</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>

    <style>
        /* STANDAR TAMPILAN: Hard Lock 50% untuk Desktop */
        @media (min-width: 1024px) {
            .layout-article-fixed {
                width: 50% !important;
                max-width: 50% !important;
                min-width: 50% !important;
                margin-left: auto;
                margin-right: auto;
            }
        }

        /* --- CSS LOKAL (Sesuai Pedoman V.2) --- */
        
        /* Definisi Warna Lokal */
        .text-finance-color { color: #27ae60; } /* Hijau Aset */
        .bg-finance-color { background-color: #27ae60; }
        .text-debt-color { color: #e74c3c; } /* Merah Kewajiban */
        .border-debt-color { border-color: #e74c3c; }
        
        /* Background Transparan Kustom */
        .bg-finance-color\/10 { background-color: rgba(39, 174, 96, 0.1); }
        .bg-debt-color\/10 { background-color: rgba(231, 76, 60, 0.1); }

        /* Gaya Tombol Aksi */
        .calculate-button {
            background-color: #27ae60; /* Hijau Keuangan */
            box-shadow: 0 4px #1e8449; /* Hijau Gelap */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #1e8449;
            background-color: #219150;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #1e8449;
        }

        /* Animasi Hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 2000px;
            padding: 1.5rem; 
        }

        /* Input Description */
        .input-description {
            font-size: 0.75rem;
            color: #6b7280; 
            margin-top: 0.25rem;
        }
        
        /* Style untuk Narasi Nasehat */
        .advice-box {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: left;
            font-size: 0.875rem;
        }
        .advice-box.positive {
            background-color: #d1fae5;
            border: 1px solid #34d399;
            color: #065f46;
        }
        .advice-box.negative {
            background-color: #fee2e2;
            border: 1px solid #f87171;
            color: #991b1b;
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex flex-col items-center">
        <div class="w-full layout-article-fixed bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-2 text-center">Personal Net Worth & Financial Health Calculator</h1>
            
            <p id="valueProposition" class="text-sm text-finance-color font-semibold mb-6 border-b pb-4 text-justify leading-relaxed">
                Know your net worth value and get personalized advice on what adjustments you need to make going forward.
            </p>

            <form id="netWorthForm" onsubmit="calculateNetWorth(event)" class="space-y-6">

                <section class="border border-green-200 p-4 rounded-lg bg-green-50">
                    <h2 id="assetTitle" class="text-xl font-bold text-finance-color mb-3">1. Total Assets</h2>
                    <p id="assetDesc" class="input-description mb-4">Enter the current market value of everything you own.</p>
                    <div id="assetsInputContainer" class="space-y-3">
                        </div>
                    <div class="mt-4 p-3 border-t border-green-300">
                        <p id="assetSubtotalLabel" class="text-sm text-green-800 font-medium">Subtotal Assets:</p>
                        <p id="subtotalAssets" class="text-xl font-extrabold text-finance-color">IDR 0</p>
                    </div>
                </section>

                <section class="border border-red-200 p-4 rounded-lg bg-red-50">
                    <h2 id="liabilityTitle" class="text-xl font-bold text-debt-color mb-3">2. Total Liabilities</h2>
                    <p id="liabilityDesc" class="input-description mb-4">Enter the outstanding balances of all your debts and loans.</p>
                    <div id="liabilitiesInputContainer" class="space-y-3">
                         </div>
                    <div class="mt-4 p-3 border-t border-red-300">
                        <p id="liabilitySubtotalLabel" class="text-sm text-red-800 font-medium">Subtotal Liabilities:</p>
                        <p id="subtotalLiabilities" class="text-xl font-extrabold text-debt-color">IDR 0</p>
                    </div>
                </section>
                
                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl transform focus:outline-none focus:ring-4 focus:ring-finance-color focus:ring-opacity-50">
                    Calculate Net Worth
                </button>
            </form>

            <div id="resultBox" class="result-box mt-6 bg-gray-50 border border-gray-200 rounded-xl shadow-lg">
                
                <h3 id="resultHeader" class="text-xl font-bold mb-4 text-gray-800 border-b pb-2">Net Worth Summary (Assets - Liabilities)</h3>
                
                <div id="netWorthDisplay" class="p-5 rounded-lg text-center transition duration-300">
                    <p id="netWorthLabel" class="text-base text-gray-800 font-medium mb-1">Your Current Financial Health</p>
                    <p id="netWorthResult" class="text-4xl font-extrabold">0</p>
                    <p id="netWorthStatus" class="text-lg font-semibold mt-2"></p>
                </div>

                <div id="adviceContainer"></div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="descriptionTitle" class="text-xl font-bold text-gray-800 mb-3">Understanding Your Net Worth</h2>
                <p id="descriptionP1" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>
                <p id="descriptionP2" class="text-gray-600 text-sm leading-relaxed text-justify mb-4"></p>
                <div id="disclaimerBox" class="bg-gray-100 border-l-4 border-gray-400 text-gray-600 p-4 rounded-lg text-xs mt-4 text-justify"></div>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="layout-article-fixed w-full px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600 dynamic-bg"></div> 
            <h2 class="text-xl font-bold text-gray-800" 
                data-en="Financial Planning Tools" 
                data-id="Alat Perencanaan Keuangan">
                Financial Planning Tools
            </h2>
        </div>
    
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            
            <a href="../kalkulator-dana-darurat/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Emergency Fund Calculator"
                    data-id="Kalkulator Dana Darurat">
                    Emergency Fund Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Calculate savings needed for unexpected events."
                    data-id="Hitung tabungan yang dibutuhkan untuk kejadian tak terduga.">
                    Calculate savings needed for unexpected events.
                </p>
            </a>

            <a href="../kalkulator-pph/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Income Tax Calculator (PPh 21)"
                    data-id="Kalkulator PPh 21 (Pajak)">
                    Income Tax Calculator (PPh 21)
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Estimate your net income after tax."
                    data-id="Estimasi pendapatan bersih setelah pajak.">
                    Estimate your net income after tax.
                </p>
            </a>
            
            <a href="../kalkulator-anggaran-bulanan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 dynamic-border">
                <h3 class="text-base font-bold mb-1 dynamic-text dynamic-hover-text"
                    data-en="Monthly Budget Calculator"
                    data-id="Kalkulator Anggaran Bulanan">
                    Monthly Budget Calculator
                </h3>
                <p class="text-xs text-gray-600 leading-relaxed"
                    data-en="Plan your expenses using the 50/30/20 rule."
                    data-id="Rencanakan pengeluaran dengan aturan 50/30/20.">
                    Plan your expenses using the 50/30/20 rule.
                </p>
            </a>
        </div>
    
        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles:" data-id="Artikel Terkait:">Related Articles:</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm hover:underline group dynamic-text">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 dynamic-bg-group"></span>
                        <span data-en="Debt Repayment Strategies: Snowball vs Avalanche" 
                              data-id="Strategi Pelunasan Utang: Snowball vs Avalanche">
                            Debt Repayment Strategies: Snowball vs Avalanche
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    
    <script>
        window.headerCategory = 'finance';
    </script>
    <script src="../components.js"></script>

    <script>
        // **********************************************
        // CONFIGURATION & LOGIC
        // **********************************************

        let currentLang = 'en';

        const FinancialConfig = {
            ASSETS: [
                { id: 'cash', label_en: 'Cash & Checking Accounts', label_id: 'Kas & Rekening Giro', default: 5000000 },
                { id: 'savings', label_en: 'Savings & Money Market Accounts', label_id: 'Tabungan & Rekening Pasar Uang', default: 10000000 },
                { id: 'stocks', label_en: 'Stocks, Bonds, & Mutual Funds', label_id: 'Saham, Obligasi, & Reksa Dana', default: 30000000 },
                { id: 'retirement', label_en: 'Retirement Accounts (e.g., 401k/IRA)', label_id: 'Rekening Pensiun (misalnya DPLK/IRA)', default: 50000000 },
                { id: 'realEstate', label_en: 'Real Estate Current Value', label_id: 'Nilai Properti Saat Ini', default: 500000000 },
                { id: 'vehicles', label_en: 'Vehicles Current Market Value', label_id: 'Nilai Pasar Kendaraan Saat Ini', default: 50000000 },
                { id: 'otherAssets', label_en: 'Other Significant Assets', label_id: 'Aset Signifikan Lainnya', default: 0 },
            ],
            LIABILITIES: [
                { id: 'mortgage', label_en: 'Mortgage Outstanding Balance', label_id: 'Sisa Utang KPR', default: 350000000 },
                { id: 'carLoan', label_en: 'Car Loan Outstanding Balance', label_id: 'Sisa Utang Kredit Mobil', default: 20000000 },
                { id: 'studentLoan', label_en: 'Student Loan Balance', label_id: 'Sisa Utang Pinjaman Pelajar', default: 0 },
                { id: 'creditCard', label_en: 'Credit Card Debt Balance', label_id: 'Sisa Utang Kartu Kredit', default: 5000000 },
                { id: 'personalLoan', label_en: 'Personal Loans/Other Debt', label_id: 'Pinjaman Pribadi/Utang Lain', default: 0 },
            ],
        };

        const translations = {
            en: {
                appTitle: "Personal Net Worth & Financial Health Calculator",
                backToCatalogText: "Back to Tools Catalog",
                headerTitle: "Personal Net Worth & Financial Health Calculator",
                valueProposition: "Know your net worth value and get personalized advice on what adjustments you need to make going forward.", 
                assetTitle: "1. Total Assets",
                assetDesc: "Enter the current market value of everything you own.",
                assetSubtotalLabel: "Subtotal Assets:",
                liabilityTitle: "2. Total Liabilities",
                liabilityDesc: "Enter the outstanding balances of all your debts and loans.",
                liabilitySubtotalLabel: "Subtotal Liabilities:",
                calculateButton: "Calculate Net Worth",
                resultHeader: "Net Worth Summary (Assets - Liabilities)",
                netWorthLabel: "Your Current Financial Health",
                positiveStatus: "Positive Net Worth!",
                negativeStatus: "Negative Net Worth (Focus on Debt)!",
                zeroStatus: "Net Worth is Zero.",
                
                advicePositive: "Congratulations! A positive Net Worth means you are on the right path to building wealth. **Your key action is to maintain momentum:** Keep increasing your high-value assets and aggressively pay down high-interest debt to accelerate your financial freedom.",
                adviceNegative: "A negative Net Worth indicates that your debts currently exceed your assets. **Your primary focus must be on debt reduction:** Create a strict budget, prioritize paying off high-interest liabilities (like credit cards), and avoid taking on new non-essential debt. Every small action to reduce debt is progress.",
                adviceZero: "Your Net Worth is Zero. Focus on increasing assets or reducing debt to start building positive net worth.",
                
                descriptionTitle: "Understanding Your Net Worth",
                descriptionP1: `Your <strong>Net Worth</strong> is a single, powerful figure that tells you exactly where you stand financially. Calculated simply as <strong>Total Assets minus Total Liabilities</strong>, this number provides a clear benchmark for your financial health and progress towards financial independence. Regularly tracking your Net Worth is key to making informed decisions about debt repayment, saving, and investing.`,
                descriptionP2: `A <strong>Positive Net Worth</strong> indicates that your assets are greater than your debts (wealth accumulation), while a <strong>Negative Net Worth</strong> suggests you owe more than you own. Our calculator uses detailed, customizable categories to ensure you capture the full picture of your financial balance sheet, from liquid savings to long-term investments like real estate.`,
                disclaimerBox: `<strong>Disclaimer:</strong> This tool is intended solely for simulation and tracking purposes. The results are based purely on the values you input and do not constitute professional financial advice, tax, or legal consultation. Always consult certified financial professionals for personalized planning.`,
            },
            id: {
                appTitle: "Kalkulator Nilai Bersih & Kesehatan Finansial Pribadi",
                backToCatalogText: "Kembali ke Katalog Alat",
                headerTitle: "Kalkulator Nilai Bersih & Kesehatan Finansial Pribadi",
                valueProposition: "Ketahui nilai kekayaan bersih Anda dan dapatkan nasehat personal tentang penyesuaian apa yang perlu Anda lakukan ke depannya.",
                assetTitle: "1. Total Aset",
                assetDesc: "Masukkan nilai pasar saat ini dari semua yang Anda miliki (harta).",
                assetSubtotalLabel: "Subtotal Aset:",
                liabilityTitle: "2. Total Kewajiban",
                liabilityDesc: "Masukkan sisa saldo utang dan pinjaman Anda saat ini.",
                liabilitySubtotalLabel: "Subtotal Kewajiban:",
                calculateButton: "Hitung Nilai Bersih",
                resultHeader: "Ringkasan Nilai Bersih (Aset - Kewajiban)",
                netWorthLabel: "Kesehatan Finansial Anda Saat Ini",
                positiveStatus: "Nilai Bersih Positif!",
                negativeStatus: "Nilai Bersih Negatif (Fokus pada Utang)!",
                zeroStatus: "Nilai Bersih Nol.",
                
                advicePositive: "Selamat! Nilai Bersih positif berarti Anda berada di jalur yang benar dalam membangun kekayaan. **Tindakan kunci Anda adalah menjaga momentum:** Terus tingkatkan aset bernilai tinggi dan lunasi utang berbunga tinggi secara agresif untuk mempercepat kemandirian finansial Anda.",
                adviceNegative: "Nilai Bersih negatif menunjukkan bahwa utang Anda saat ini melebihi aset Anda. **Fokus utama Anda harus pada pengurangan utang:** Buat anggaran ketat, prioritaskan pelunasan kewajiban berbunga tinggi (seperti kartu kredit), dan hindari mengambil utang non-esensial baru. Setiap tindakan kecil untuk mengurangi utang adalah kemajuan.",
                adviceZero: "Nilai Bersih Anda adalah Nol. Fokus pada peningkatan aset atau pengurangan utang untuk mulai membangun kekayaan bersih positif.",
                
                descriptionTitle: "Memahami Nilai Bersih (Net Worth) Anda",
                descriptionP1: `<strong>Nilai Bersih (Net Worth)</strong> adalah angka tunggal yang kuat yang menunjukkan posisi finansial Anda secara tepat. Dihitung sederhana sebagai <strong>Total Aset dikurangi Total Kewajiban</strong>, angka ini memberikan tolok ukur yang jelas untuk kesehatan finansial dan kemajuan menuju kemandirian finansial Anda. Melacak Nilai Bersih Anda secara teratur adalah kunci untuk membuat keputusan yang tepat tentang pembayaran utang, tabungan, dan investasi.`,
                descriptionP2: `<strong>Nilai Bersih Positif</strong> menunjukkan bahwa aset Anda lebih besar daripada utang Anda (akumulasi kekayaan), sedangkan <strong>Nilai Bersih Negatif</strong> menunjukkan bahwa Anda berutang lebih dari yang Anda miliki. Kalkulator ini menggunakan kategori yang terperinci dan dapat disesuaikan untuk memastikan Anda menangkap gambaran lengkap neraca keuangan pribadi Anda.`,
                disclaimerBox: `<strong>Penafian:</strong> Alat ini ditujukan semata-mata untuk tujuan simulasi dan pelacakan. Hasil didasarkan murni pada nilai yang Anda masukkan dan bukan merupakan nasihat keuangan profesional, konsultasi pajak, atau hukum. Selalu konsultasikan dengan profesional keuangan bersertifikat untuk perencanaan yang dipersonalisasi.`,
            }
        };

        // --- UTILITY FUNCTIONS ---
        function formatNumber(amount) {
            if (typeof amount !== 'number') return '0';
            const locale = 'id-ID';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(Math.round(amount));
        }

        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, '');
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = '';
            }
            updateSubtotals();
        }

        // --- UI GENERATION ---
        function generateInputFields() {
            const assetsContainer = document.getElementById('assetsInputContainer');
            const liabilitiesContainer = document.getElementById('liabilitiesInputContainer');

            assetsContainer.innerHTML = '';
            liabilitiesContainer.innerHTML = '';

            const lang = currentLang;
            
            // Generate Assets
            FinancialConfig.ASSETS.forEach(item => {
                const labelKey = `label_${lang}`;
                const labelText = item[labelKey] || item.label_en; 

                const div = document.createElement('div');
                div.className = 'relative';
                div.innerHTML = `
                    <label for="${item.id}" class="block text-sm font-medium text-gray-700 mb-1">${labelText}</label>
                    <input type="text" id="${item.id}" inputmode="numeric" value="${formatNumber(item.default)}" 
                           oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150 asset-input" required>
                `;
                assetsContainer.appendChild(div);
            });
            
            // Generate Liabilities
            FinancialConfig.LIABILITIES.forEach(item => {
                const labelKey = `label_${lang}`;
                const labelText = item[labelKey] || item.label_en; 

                const div = document.createElement('div');
                div.className = 'relative';
                div.innerHTML = `
                    <label for="${item.id}" class="block text-sm font-medium text-gray-700 mb-1">${labelText}</label>
                    <input type="text" id="${item.id}" inputmode="numeric" value="${formatNumber(item.default)}" 
                           oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150 liability-input" required>
                `;
                liabilitiesContainer.appendChild(div);
            });
        }

        function updateSubtotals() {
            let totalAssets = 0;
            let totalLiabilities = 0;

            document.querySelectorAll('.asset-input').forEach(input => {
                totalAssets += cleanInput(input.value);
            });
            document.querySelectorAll('.liability-input').forEach(input => {
                totalLiabilities += cleanInput(input.value);
            });
            document.getElementById('subtotalAssets').textContent = `IDR ${formatNumber(totalAssets)}`;
            document.getElementById('subtotalLiabilities').textContent = `IDR ${formatNumber(totalLiabilities)}`;
        }

        // --- CALCULATION LOGIC ---
        function calculateNetWorth(event) {
            event.preventDefault();
            let totalAssets = 0;
            let totalLiabilities = 0;
            const t = translations[currentLang];

            document.querySelectorAll('.asset-input').forEach(input => {
                totalAssets += cleanInput(input.value);
            });
            document.querySelectorAll('.liability-input').forEach(input => {
                totalLiabilities += cleanInput(input.value);
            });

            const netWorth = totalAssets - totalLiabilities;
            const resultBox = document.getElementById('resultBox');
            const netWorthDisplay = document.getElementById('netWorthDisplay');
            const netWorthResult = document.getElementById('netWorthResult');
            const netWorthStatus = document.getElementById('netWorthStatus');
            const adviceContainer = document.getElementById('adviceContainer');

            // 1. Update Subtotal Displays
            document.getElementById('subtotalAssets').textContent = `IDR ${formatNumber(totalAssets)}`;
            document.getElementById('subtotalLiabilities').textContent = `IDR ${formatNumber(totalLiabilities)}`;

            // 2. Determine Status and Apply Styling
            let statusText = t.zeroStatus;
            let bgColor = "bg-yellow-100";
            let textColor = "text-gray-800";
            let adviceHTML = '';

            if (netWorth > 0) {
                statusText = t.positiveStatus;
                bgColor = "bg-finance-color/10";
                textColor = "text-finance-color";
                adviceHTML = `<div class="advice-box positive"><p class="font-bold text-base mb-1">${currentLang === 'en' ? 'Financial Advice:' : 'Nasehat Finansial:'}</p>${t.advicePositive}</div>`;
            } else if (netWorth < 0) {
                statusText = t.negativeStatus;
                bgColor = "bg-debt-color/10";
                textColor = "text-debt-color";
                adviceHTML = `<div class="advice-box negative"><p class="font-bold text-base mb-1">${currentLang === 'en' ? 'Financial Advice:' : 'Nasehat Finansial:'}</p>${t.adviceNegative}</div>`;
            } else {
                 adviceHTML = `<div class="advice-box bg-yellow-100 border-yellow-300 text-yellow-800"><p class="font-bold text-base mb-1">${currentLang === 'en' ? 'Financial Advice:' : 'Nasehat Finansial:'}</p>${t.adviceZero}</div>`;
            }
            
            // 3. Display Results
            netWorthResult.textContent = `IDR ${formatNumber(netWorth)}`;
            netWorthStatus.textContent = statusText;
            adviceContainer.innerHTML = adviceHTML;
            
            netWorthDisplay.className = `p-5 rounded-lg text-center transition duration-300 ${bgColor}`;
            netWorthResult.className = `text-4xl font-extrabold transition duration-300 ${textColor}`;

            resultBox.classList.add('visible');
        }

        // --- LANGUAGE & THEME MANAGER ---
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            const languageSwitcher = document.getElementById('languageSwitcher');

            if(languageSwitcher) {
                languageSwitcher.classList.remove('lang-en', 'lang-id');
                languageSwitcher.classList.add(`lang-${lang}`);
            }
            const backBtn = document.getElementById('backToCatalogText');
            if(backBtn) backBtn.textContent = t.backToCatalogText;
            
            // NOTE: Footer handled by components.js, so we do not translate it here to avoid conflicts.

            // Regenerate inputs with new labels
            generateInputFields();
            
            // Update Texts (Safely)
            const ids = [
                'appTitle', 'headerTitle', 'valueProposition', 'assetTitle', 'assetDesc', 'assetSubtotalLabel',
                'liabilityTitle', 'liabilityDesc', 'liabilitySubtotalLabel', 'calculateButton', 'resultHeader',
                'netWorthLabel', 'descriptionTitle'
            ];
            ids.forEach(id => {
                const el = document.getElementById(id);
                if(el) el.textContent = t[id];
            });

            // Update HTML content elements (Safely)
            const descriptionP1 = document.getElementById('descriptionP1');
            if(descriptionP1) descriptionP1.innerHTML = t.descriptionP1;
            
            const descriptionP2 = document.getElementById('descriptionP2');
            if(descriptionP2) descriptionP2.innerHTML = t.descriptionP2;
            
            const disclaimerBox = document.getElementById('disclaimerBox');
            if(disclaimerBox) disclaimerBox.innerHTML = t.disclaimerBox;

            // Re-calc if result visible
            if (document.getElementById('resultBox').classList.contains('visible')) {
                 calculateNetWorth({ preventDefault: () => {} });
            } else {
                updateSubtotals();
            }
            
            updateRelatedContent(lang);
        }

        function updateRelatedContent(lang) {
            const translatableElements = document.querySelectorAll('#related-tools-section [data-en]');
            translatableElements.forEach(el => {
                const newText = el.getAttribute(`data-${lang}`);
                if (newText) el.textContent = newText;
            });
        }
        
        function applyDynamicTheme() {
            const category = window.headerCategory || 'finance';
            const themes = {
                finance: {
                    bg: 'bg-green-600',
                    text: 'text-green-600',
                    border: 'hover:border-green-400',
                    hoverText: 'group-hover:text-green-700',
                    bgGroup: 'group-hover:bg-green-500'
                }
            };
            const theme = themes[category];
            document.querySelectorAll('.dynamic-bg').forEach(el => el.classList.add(theme.bg));
            document.querySelectorAll('.dynamic-text').forEach(el => el.classList.add(theme.text));
            document.querySelectorAll('.dynamic-border').forEach(el => el.classList.add(theme.border));
            document.querySelectorAll('.dynamic-hover-text').forEach(el => el.classList.add(theme.hoverText));
            document.querySelectorAll('.dynamic-bg-group').forEach(el => el.classList.add(theme.bgGroup));
        }

        // --- OBSERVER & INIT ---
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
                    const currentLang = document.documentElement.lang || 'en';
                    setLanguage(currentLang);
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            observer.observe(document.documentElement, { attributes: true });
            applyDynamicTheme();
            
            let defaultLang = 'en'; 
            const browserLang = (navigator.language || navigator.userLanguage).toLowerCase();
            if (browserLang.startsWith('id')) defaultLang = 'id';
            
            setLanguage(defaultLang); 
        });
    </script>
</body>
</html>