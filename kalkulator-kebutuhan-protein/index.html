<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/" />
    <title id="appTitle">Daily Protein Intake Calculator</title>
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-kebutuhan-protein/index.html" />
    
    <!-- PWA dan Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e3a8a">
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Analytics Code (G-7M8E7QRYNY) - Sesuai Permintaan Butir 13e -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    
    <!-- Google AdSense Code (ca-pub-4885884866232864) - Sesuai Permintaan Butir 13f -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864"
         crossorigin="anonymous"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Warna dasar dari index.html
                        'primary': '#2c3e50', 
                        'secondary': '#3498db', 
                        'primary-dark': '#1e3a8a', 
                        'toggle-bg': '#e5e7eb',
                        'protein-color': '#9b59b6', // Warna ungu untuk protein
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Gaya Kustom untuk toggle bahasa */
        .lang-toggle-container {
            position: relative;
            display: inline-flex;
            background-color: #e5e7eb; 
            border-radius: 9999px; 
            padding: 4px;
        }
        .lang-toggle-btn {
            padding: 6px 14px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            color: #6b7280; 
            transition: color 0.3s ease;
            position: relative;
        }
        .lang-toggle-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px); 
            background-color: #1e3a8a; /* Primary-dark */
            border-radius: 9999px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .lang-toggle-container.lang-en .lang-toggle-slider { transform: translateX(0%); }
        .lang-toggle-container.lang-id .lang-toggle-slider { transform: translateX(100%); }
        .lang-toggle-container.lang-en #lang-en { color: white; }
        .lang-toggle-container.lang-id #lang-id { color: white; }

        /* Gaya Kustom untuk hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 1200px; 
            padding: 1.5rem; 
        }
        
        /* Untuk daftar aksi */
        .action-list {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }
        .action-list li {
            margin-bottom: 0.25rem;
        }
        
        /* Gaya PWA Banner (diambil dari index.html) */
        #pwaBanner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 50;
            opacity: 0;
            transform: translateY(100%);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            height: 70px;
        }
        #pwaBanner.show {
            opacity: 1;
            transform: translateY(0);
        }
        @media (max-width: 767px) {
            body.pwa-visible {
                padding-bottom: 70px; 
            }
        }
    </style>
</head>

<!-- Butir 10: Kode pengaman konten sederhana - menonaktifkan klik kanan dan copy/paste -->
<body class="bg-gray-50 flex flex-col min-h-screen font-sans" oncontextmenu="return false;" oncopy="return false;" oncut="return false;">

    <header class="bg-primary-dark text-white py-4 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            
            <!-- Butir 11d: Link Kembali ke Katalog (halaman utama) -->
            <a href="../index.html" class="text-lg font-semibold tracking-tight text-gray-200 hover:text-white transition duration-150">
                &larr; <span id="backToCatalogText">Back to Tools Catalog</span>
            </a>
            
            <!-- Butir 13a: Tombol EN/ID -->
            <div id="languageSwitcher" class="lang-toggle-container lang-en">
                <div id="langToggleSlider" class="lang-toggle-slider"></div>
                <button id="lang-en" onclick="setLanguage('en')" class="lang-toggle-btn">
                    EN
                </button>
                <button id="lang-id" onclick="setLanguage('id')" class="lang-toggle-btn">
                    ID
                </button>
            </div>
            </div>
    </header>

    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-lg bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-protein-color mb-3">Daily Protein Intake Calculator</h1>
            
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6">
                Calculate your precise daily protein requirement based on your body weight and fitness goals.
            </p>
            
            <div class="space-y-4">
                <!-- Input Berat Badan -->
                <div class="relative">
                    <label for="weightInput" class="block text-sm font-medium text-gray-700 mb-1" id="labelWeight">Weight (kg)</label>
                    <input type="number" id="weightInput" placeholder="E.g.: 70" step="0.1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-protein-color focus:border-protein-color transition duration-150" required>
                </div>

                <!-- Input Tujuan Kebugaran -->
                <div class="relative">
                    <label for="goalSelect" class="block text-sm font-medium text-gray-700 mb-1" id="labelGoal">Fitness Goal</label>
                    <select id="goalSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-protein-color focus:border-protein-color transition duration-150 appearance-none bg-white">
                        <option value="0.8" id="goalSedentary">Sedentary (Minimum intake)</option>
                        <option value="1.2" id="goalMaintain">Maintain Weight (Lightly active)</option>
                        <option value="1.6" id="goalBuildLean">Build Lean Muscle (Moderate/Intense training)</option>
                        <option value="2.0" id="goalAggressiveCut">Aggressive Fat Loss (High protein, preserving muscle)</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                        <svg class="h-5 w-5 text-gray-400 mt-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </div>
                </div>

                <button id="calculateButton" onclick="calculateProteinIntake()" class="w-full bg-protein-color text-white font-semibold py-3 rounded-xl shadow-md hover:bg-primary-dark transition duration-300 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-protein-color focus:ring-opacity-50">
                    Calculate Protein Need
                </button>
                
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </div>

            <!-- Bagian Hasil -->
            <div id="resultBox" class="result-box mt-6 bg-purple-50 border border-purple-200 rounded-xl shadow-lg">
                <div class="text-center p-3 border-b border-purple-200 mb-4">
                    <p id="labelDailyIntake" class="text-sm text-protein-color font-medium">Your Daily Protein Requirement</p>
                    <p id="proteinResultGrams" class="text-5xl font-extrabold text-protein-color mt-1">-- g</p>
                    <p id="proteinGoalRatio" class="text-sm font-semibold text-gray-600 mt-1">(-- grams per kg of body weight)</p>
                </div>

                <div id="adviceBox" class="p-3 mt-4 rounded-lg bg-white border border-gray-300">
                    <p id="adviceHeader" class="text-md font-bold text-primary-dark mb-2">Important Advice</p>
                    <p id="adviceText" class="text-sm text-gray-700"></p>
                </div>
            </div>
            
            <!-- Konten Edukasi Wajib (High-Value Content) -->
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">The Critical Role of Protein: Beyond Muscle</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Protein: The Thermic Effect and Satiety</h3>
                
                <div id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 space-y-4">
                    <p id="content2Intro"></p>
                    <h4 class="text-base font-semibold mt-0 text-primary-dark" id="teiHeader">The Thermic Effect of Food (TEF)</h4>
                    <p id="teiDesc"></p>
                    
                    <h4 class="text-base font-semibold mt-4 text-primary-dark" id="satietyHeader">Protein for Satiety and Fat Loss</h4>
                    <p id="satietyDesc"></p>
                </div>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Practical Strategy: Spreading Your Intake</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
                <div id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6 space-y-4">
                    <h4 class="text-base font-semibold mt-0 text-primary-dark" id="strategyHeader">Key Tips for Maximizing Protein Absorption</h4>
                    <ul class="action-list list-disc ml-4 space-y-1" id="strategyList">
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </div>
            </section>

        </div>
    </main>
    
    <!-- PWA Banner (dari index.html) -->
    <div id="pwaBanner" class="p-3 bg-primary-dark text-white text-center shadow-2xl">
        <p id="pwaAdviceText" class="text-sm font-medium">
            üëã <strong>Install Protein Calculator</strong> ini di Homescreen Anda untuk akses cepat! Klik tombol <strong>Bagikan</strong> (‚¨ÜÔ∏è) lalu pilih <strong>Add to Home Screen</strong>.
        </p>
        <button onclick="closePWABanner()" class="mt-2 text-xs font-semibold text-gray-300 hover:text-white underline">
            Close
        </button>
    </div>

    <!-- Footer (dari index.html) - Butir 12 & 13b -->
    <footer class="mt-12 py-6 border-t border-gray-200 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
                <a href="../privacy-policy.html" class="hover:text-secondary transition duration-150 ease-in-out">Privacy Policy</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../terms-of-service.html" class="hover:text-secondary transition duration-150 ease-in-out">Terms of Service</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../about-us.html" class="hover:text-secondary transition duration-150 ease-in-out">About Us</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../contact-us.html" class="hover:text-secondary transition duration-150 ease-in-out">Contact Us</a>
            </div>
            
            <div class="mt-6 text-center text-xs text-gray-500">
                &copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics.
            </div>
        </div>
    </footer>
    
    <script>
        // **********************************************
        // LOGIKA BARU UNTUK KALKULATOR KEBUTUHAN PROTEIN HARIAN
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Kebutuhan Protein Harian",
                headerTitle: "Kalkulator Kebutuhan Protein Harian",
                toolSubtitle: "Hitung kebutuhan minimum protein harian Anda secara akurat berdasarkan berat badan dan tujuan kebugaran.",
                backToCatalogText: "Kembali ke Katalog Alat",
                labelWeight: "Berat Badan (kg)",
                labelGoal: "Tujuan Kebugaran",
                goalSedentary: "Gaya Hidup Santai (Kebutuhan minimum)",
                goalMaintain: "Mempertahankan Berat/Otot (Aktivitas ringan)",
                goalBuildLean: "Membangun Otot (Latihan sedang/intensif)",
                goalAggressiveCut: "Defisit Kalori Agresif (Protein tinggi, menjaga otot)",
                calculateButton: "Hitung Kebutuhan Protein",
                labelDailyIntake: "Kebutuhan Protein Harian Anda",
                inputError: "Mohon masukkan Berat Badan yang valid (lebih dari 0).",
                placeholderWeight: "Contoh: 70",
                
                // Saran
                adviceHeader: "Saran Penting",
                adviceText: (grams, ratio) => `Target harian ${grams} gram ini didasarkan pada rasio ${ratio} gram per kg berat badan Anda. Sebarkan asupan protein Anda secara merata sepanjang hari untuk penyerapan optimal.`,
                
                // Konten Edukasi Wajib
                sectionHeader1: "Peran Kritis Protein: Melampaui Otot",
                content1: "Protein, sering disebut sebagai blok bangunan tubuh, adalah makronutrien yang paling penting, tidak hanya untuk atlet tetapi untuk setiap orang dewasa. Protein membentuk struktur otot, kulit, enzim, dan hormon. Tanpa asupan protein yang cukup, tubuh tidak dapat memperbaiki dirinya sendiri, sistem kekebalan akan melemah, dan proses metabolisme akan terganggu. <br><br> Asupan protein yang memadai menjadi sangat penting ketika Anda mencoba <strong>menurunkan berat badan</strong> (membantu menjaga massa otot) atau <strong>membangun otot</strong> (memberikan bahan baku yang diperlukan). Kalkulator ini memberikan rentang yang direkomendasikan secara ilmiah untuk membantu Anda mencapai tujuan kebugaran Anda dengan aman dan efektif.",
                
                sectionHeader2: "Protein: Efek Termal dan Rasa Kenyang",
                content2Intro: `Dua manfaat terbesar protein, terutama untuk manajemen berat badan, adalah efek termalnya yang tinggi (Thermic Effect of Food - TEF) dan kemampuannya untuk meningkatkan rasa kenyang (Satiety).`,
                
                teiHeader: "Efek Termal Makanan (TEF)",
                teiDesc: "TEF adalah energi yang dibutuhkan tubuh Anda untuk mencerna, menyerap, dan memetabolisme makanan. Protein memiliki TEF yang jauh lebih tinggi daripada karbohidrat atau lemak. Artinya, sekitar 20-30% kalori yang Anda konsumsi dari protein dibakar hanya untuk mencernanya! Dengan meningkatkan porsi protein, Anda secara efektif meningkatkan pengeluaran energi harian total Anda, mendukung tujuan penurunan berat badan.",
                
                satietyHeader: "Protein untuk Rasa Kenyang dan Penurunan Lemak",
                satietyDesc: "Protein adalah makronutrien yang paling mengenyangkan. Makanan tinggi protein membutuhkan waktu lebih lama untuk dicerna, yang membantu Anda merasa kenyang lebih lama dan mengurangi keinginan untuk ngemil. Ketika dikombinasikan dengan defisit kalori (seperti yang dihitung di Kalkulator BMI kami), efek kenyang ini sangat membantu untuk mematuhi diet dan mengurangi lemak tubuh secara efektif.",

                sectionHeader3: "Strategi Praktis: Menyebar Asupan Anda",
                content3: "Kualitas sama pentingnya dengan kuantitas. Untuk memaksimalkan manfaat protein, Anda tidak bisa hanya mengonsumsi semua kebutuhan harian Anda dalam satu kali makan besar. Tubuh paling baik menyerap dan memanfaatkan protein ketika disebarkan ke beberapa porsi sepanjang hari.",
                
                strategyHeader: "Tips Kunci untuk Memaksimalkan Penyerapan Protein",
                strategyList1: "Targetkan 20-40 gram protein per kali makan. Ini adalah rentang optimal untuk merangsang Sintesis Protein Otot (MPS).",
                strategyList2: "Pastikan Anda mengonsumsi protein tinggi dalam waktu 1-2 jam setelah sesi latihan beban Anda untuk pemulihan otot yang maksimal.",
                strategyList3: "Pilih sumber protein berkualitas tinggi dan lengkap, seperti daging tanpa lemak, telur, produk susu (whey protein), dan kacang-kacangan.",

                // Saran PWA
                pwaAdvice: `üëã <strong>Install Kalkulator Protein</strong> ini di Homescreen Anda untuk akses cepat! Klik tombol <strong>Bagikan</strong> (‚¨ÜÔ∏è) lalu pilih <strong>Add to Home Screen</strong>.`,
            },
            en: {
                appTitle: "Daily Protein Intake Calculator",
                headerTitle: "Daily Protein Intake Calculator",
                toolSubtitle: "Calculate your precise daily protein requirement based on your body weight and fitness goals.",
                backToCatalogText: "Back to Tools Catalog",
                labelWeight: "Weight (kg)",
                labelGoal: "Fitness Goal",
                goalSedentary: "Sedentary (Minimum intake)",
                goalMaintain: "Maintain Weight/Muscle (Lightly active)",
                goalBuildLean: "Build Lean Muscle (Moderate/Intense training)",
                goalAggressiveCut: "Aggressive Fat Loss (High protein, preserving muscle)",
                calculateButton: "Calculate Protein Need",
                labelDailyIntake: "Your Daily Protein Requirement",
                inputError: "Please enter a valid Weight (greater than 0).",
                placeholderWeight: "E.g.: 70",

                // Advice
                adviceHeader: "Important Advice",
                adviceText: (grams, ratio) => `This daily target of ${grams} grams is based on a ratio of ${ratio} grams per kg of your body weight. Spread your protein intake evenly throughout the day for optimal absorption.`,

                // Mandatory Educational Content
                sectionHeader1: "The Critical Role of Protein: Beyond Muscle",
                content1: "Protein, often referred to as the body's building blocks, is the single most important macronutrient, not just for athletes but for every adult. Protein forms the structure of muscles, skin, enzymes, and hormones. Without sufficient protein intake, the body cannot repair itself, the immune system weakens, and metabolic processes are disrupted. <br><br> Adequate protein intake becomes exceptionally crucial when you are attempting to <strong>lose weight</strong> (it helps maintain muscle mass) or <strong>build muscle</strong> (it provides the necessary raw materials). This calculator provides a scientifically recommended range to help you achieve your fitness goals safely and effectively.",
                
                sectionHeader2: "Protein: The Thermic Effect and Satiety",
                content2Intro: `The two biggest benefits of protein, especially for weight management, are its high thermic effect (Thermic Effect of Food - TEF) and its ability to enhance satiety (fullness).`,
                
                teiHeader: "The Thermic Effect of Food (TEF)",
                teiDesc: "TEF is the energy required for your body to digest, absorb, and metabolize food. Protein has a much higher TEF than carbohydrates or fats. This means that about 20-30% of the calories you consume from protein are burned just to digest it! By increasing your protein intake, you effectively raise your total daily energy expenditure, supporting weight loss goals.",
                
                satietyHeader: "Protein for Satiety and Fat Loss",
                satietyDesc: "Protein is the most satiating macronutrient. High-protein meals take longer to digest, which helps you feel full for longer and reduces cravings. When combined with a calorie deficit (as calculated in our BMI Calculator), this feeling of fullness is invaluable for diet adherence and effective body fat reduction.",

                sectionHeader3: "Practical Strategy: Spreading Your Intake",
                content3: "Quality is just as important as quantity. To maximize the benefits of protein, you cannot simply consume your entire daily requirement in one massive meal. The body best absorbs and utilizes protein when it is spread out over several servings throughout the day.",
                
                strategyHeader: "Key Tips for Maximizing Protein Absorption",
                strategyList1: "Target 20-40 grams of protein per meal. This is the optimal range for stimulating Muscle Protein Synthesis (MPS).",
                strategyList2: "Ensure you consume high-quality protein within 1-2 hours after your resistance training session for maximum muscle recovery.",
                strategyList3: "Choose high-quality, complete protein sources, such as lean meats, eggs, dairy products (whey protein), and legumes.",

                // PWA Advice
                pwaAdvice: `üëã <strong>Install Protein Calculator</strong> on your Homescreen for quick access! Click the <strong>Share</strong> button (${getShareIcon()}) lalu pilih <strong>Add to Home Screen</strong>.`,
            }
        };

        let currentLang = 'en'; // Default language

        // Fungsi Bantu untuk ikon Share
        function getShareIcon() {
            const ua = navigator.userAgent;
            if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) { return '‚¨ÜÔ∏è'; } 
            if (/Android/.test(ua)) { return '‚ãÆ'; }
            return '‚¨áÔ∏è'; 
        }

        // Fungsi utama untuk menghitung kebutuhan protein
        function calculateProteinIntake() {
            const weight = parseFloat(document.getElementById('weightInput').value);
            const goalRatio = parseFloat(document.getElementById('goalSelect').value); // Rasio protein per kg berat badan
            
            const lang = currentLang;
            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            // 1. Validasi Input
            if (isNaN(weight) || weight <= 0) {
                document.getElementById('errorText').textContent = translations[lang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');

            // --- PERHITUNGAN KEBUTUHAN PROTEIN ---
            const totalProteinGrams = weight * goalRatio;
            
            // Pembulatan ke 1 desimal
            const formattedGrams = totalProteinGrams.toFixed(1);

            // --- TAMPILKAN HASIL ---
            document.getElementById('proteinResultGrams').textContent = `${formattedGrams} g`;
            document.getElementById('proteinGoalRatio').textContent = `(${goalRatio.toFixed(1)} grams per kg of body weight)`;

            // --- TAMPILKAN SARAN ---
            document.getElementById('adviceText').textContent = translations[lang].adviceText(formattedGrams, goalRatio.toFixed(1));

            // 7. Tampilkan kotak hasil
            resultBox.classList.add('visible');
        }


        // Fungsi untuk mengubah semua teks UI berdasarkan bahasa (Butir 13a)
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            const languageSwitcher = document.getElementById('languageSwitcher');

            // Update status toggle
            languageSwitcher.classList.remove('lang-en', 'lang-id');
            languageSwitcher.classList.add(`lang-${lang}`);

            // Update teks statis
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').textContent = t.toolSubtitle;
            document.getElementById('backToCatalogText').textContent = t.backToCatalogText;
            
            // Update label formulir dan tombol
            document.getElementById('labelWeight').textContent = t.labelWeight;
            document.getElementById('labelGoal').textContent = t.labelGoal;
            document.getElementById('calculateButton').textContent = t.calculateButton;

            // Update option tujuan
            document.getElementById('goalSedentary').textContent = t.goalSedentary;
            document.getElementById('goalMaintain').textContent = t.goalMaintain;
            document.getElementById('goalBuildLean').textContent = t.goalBuildLean;
            document.getElementById('goalAggressiveCut').textContent = t.goalAggressiveCut;
            
            // Update placeholder
            document.getElementById('weightInput').placeholder = t.placeholderWeight;

            // Update label hasil
            document.getElementById('labelDailyIntake').textContent = t.labelDailyIntake;
            document.getElementById('adviceHeader').textContent = t.adviceHeader;
            
            // Update Konten Edukasi Wajib
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2Intro').innerHTML = t.content2Intro;
            
            // Efek Termal
            document.getElementById('teiHeader').textContent = t.teiHeader;
            document.getElementById('teiDesc').innerHTML = t.teiDesc;
            
            // Rasa Kenyang
            document.getElementById('satietyHeader').textContent = t.satietyHeader;
            document.getElementById('satietyDesc').innerHTML = t.satietyDesc;

            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3;
            
            // Strategi
            document.getElementById('strategyHeader').textContent = t.strategyHeader;
            document.getElementById('strategyList').innerHTML = `
                <li>${t.strategyList1}</li>
                <li>${t.strategyList2}</li>
                <li>${t.strategyList3}</li>
            `;

            // Update Saran PWA
            const pwaAdviceText = document.getElementById('pwaAdviceText');
            const pwaMessage = t.pwaAdvice;
            pwaAdviceText.innerHTML = pwaMessage.replace(/<strong>(.*?)<\/strong>/g, '<span>$1</span>');


            // Perbarui hasil yang sudah ada (jika sudah dihitung)
            const proteinResultElement = document.getElementById('proteinResultGrams');
            if (proteinResultElement.textContent !== '-- g') {
                 // Hitung ulang dengan bahasa baru untuk mendapatkan teks saran yang diperbarui
                 calculateProteinIntake();
            }

             // Pastikan error message diupdate
            if (!document.getElementById('errorAlert').classList.contains('hidden')) {
                document.getElementById('errorText').textContent = t.inputError;
            }
        }
        
        // Fungsi PWA Banner (dari index.html)
        function getShareIcon() {
            const ua = navigator.userAgent;
            if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) { return '‚¨ÜÔ∏è'; } 
            if (/Android/.test(ua)) { return '‚ãÆ'; }
            return '‚¨áÔ∏è'; 
        }

        function showPWABanner() {
            const pwaBanner = document.getElementById('pwaBanner');
            const body = document.body;
            if (window.innerWidth < 768) {
                setTimeout(() => {
                    pwaBanner.classList.add('show');
                    body.classList.add('pwa-visible'); 
                }, 2000); 
            }
        }
        
        function closePWABanner() {
            const pwaBanner = document.getElementById('pwaBanner');
            const body = document.body;
            pwaBanner.classList.remove('show');
            body.classList.remove('pwa-visible');
        }
        document.querySelector('#pwaBanner button').onclick = closePWABanner;
        
        // Event listener untuk perubahan bahasa
        document.getElementById('languageSwitcher').addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const newLang = event.target.id === 'lang-en' ? 'en' : 'id';
                if (newLang !== currentLang) {
                    setLanguage(newLang);
                    document.getElementById('resultBox').classList.remove('visible');
                    document.getElementById('errorAlert').classList.add('hidden');
                    closePWABanner();
                }
            }
        });

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage('en'); 
            showPWABanner();
        });

    </script>
</body>
</html>