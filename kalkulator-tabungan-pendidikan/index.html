<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" href="data:,">
    
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-tabungan-pendidikan/" />
    
    <meta name="description" content="Education Savings Calculator. Calculate monthly savings required for future college costs, factoring in inflation and compound interest." />
    <meta name="keywords" content="Education Savings Calculator, College Fund Planner, Tuition Inflation Calculator, Future Value Calculator, Investment Goal Planner, Kalkulator Tabungan Pendidikan, Biaya Kuliah Anak, Simulasi Dana Pendidikan, Asuransi Pendidikan vs Tabungan, Cara menyiapkan dana kuliah, strategi investasi pendidikan anak, hitung biaya masuk kuliah 10 tahun lagi">
 
    <title id="appTitle">Education Savings Calculator</title>
    
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/kalkulator-tabungan-pendidikan/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/kalkulator-tabungan-pendidikan/index.html" />
    
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../output.css">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864" crossorigin="anonymous"></script>
    
    <style>
        /* STANDAR TAMPILAN: Hard Lock 50% Desktop */
        @media (min-width: 1024px) {
            .layout-article-fixed {
                width: 50% !important;
                max-width: 50% !important;
                min-width: 50% !important;
                margin-left: auto;
                margin-right: auto;
            }
        }

        /* Transisi Hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem; 
        }
        
        /* Tombol Utama (Warna Oranye/Kuning Pendidikan) */
        .calculate-button {
            box-shadow: 0 4px #d97706; /* amber-600 */
            background-color: #f59e0b; /* amber-500 */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #d97706;
            background-color: #fbbf24; /* amber-400 */
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #d97706;
        }

        /* Kartu Hasil Utama */
        .result-card-main {
            background-color: #fffbeb; /* amber-50 */
            border: 2px solid #fcd34d; /* amber-300 */
        }
        
        /* Section Header */
        .section-title {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #1f2937;
        }
    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans">

    <script>window.headerCategory = 'finance';</script>
    <div id="global-header-container"></div>

    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="layout-article-fixed w-full max-w-2xl bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-gray-900 mb-3">Education Savings Calculator</h1>
            
            <p id="toolSubtitle" class="text-sm text-gray-700 font-medium mb-6 leading-relaxed text-justify">
                Calculate the monthly or annual amount you need to save to meet future college or education funding goals, factoring in inflation and investment returns.
            </p>
            
            <form id="educationSavingsForm" onsubmit="calculateSavings(event)" class="space-y-6">
                
                <div class="bg-amber-50/50 p-4 rounded-lg border border-amber-100">
                    <h2 class="section-title text-amber-700" id="headerGoal">1. Future Goal Details</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        
                        <div class="relative">
                            <label for="currentCost" class="block text-sm font-medium text-gray-700 mb-1">
                                <span id="labelCurrentCost">Current Annual Education Cost</span> <span class="currency-label font-normal text-gray-500">(Rp/$)</span>
                            </label>
                            <input type="text" id="currentCost" inputmode="numeric" value="30.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descCurrentCost">Estimated current annual tuition.</p>
                        </div>
                        
                        <div class="relative">
                            <label for="yearsToGoal" class="block text-sm font-medium text-gray-700 mb-1" id="labelYearsToGoal">Years Until Education Starts</label>
                            <input type="number" id="yearsToGoal" min="1" step="1" value="15" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descYearsToGoal">Years until goal begins.</p>
                        </div>

                        <div class="relative">
                            <label for="inflationRate" class="block text-sm font-medium text-gray-700 mb-1" id="labelInflationRate">Annual Education Inflation Rate (%)</label>
                            <input type="number" id="inflationRate" min="0" step="0.1" value="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descInflationRate">Education cost increase per year.</p>
                        </div>
                        
                        <div class="relative">
                            <label for="yearsOfStudy" class="block text-sm font-medium text-gray-700 mb-1" id="labelYearsOfStudy">Years of Study/Duration</label>
                            <input type="number" id="yearsOfStudy" min="1" step="1" value="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descYearsOfStudy">Duration of the education.</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="section-title text-gray-700" id="headerInvestment">2. Investment and Savings Details</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                         <div class="relative">
                            <label for="currentSavings" class="block text-sm font-medium text-gray-700 mb-1">
                                <span id="labelCurrentSavings">Current Savings Amount</span> <span class="currency-label font-normal text-gray-500">(Rp/$)</span>
                            </label>
                            <input type="text" id="currentSavings" inputmode="numeric" value="0" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-gray-500 focus:border-gray-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descCurrentSavings">Amount already saved.</p>
                        </div>

                        <div class="relative">
                            <label for="annualReturn" class="block text-sm font-medium text-gray-700 mb-1" id="labelAnnualReturn">Expected Annual Return (%)</label>
                            <input type="number" id="annualReturn" min="0" step="0.1" value="8" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-gray-500 focus:border-gray-500 transition duration-150 text-sm" required>
                            <p class="text-xs text-gray-500 mt-1" id="descAnnualReturn">Expected investment return rate.</p>
                        </div>
                    </div>
                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl text-lg">
                    Calculate Required Savings
                </button>
                
                <div id="errorAlert" class="hidden mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline text-sm"></span>
                </div>
            </form>

            <div id="resultBox" class="result-box mt-8 p-6 rounded-xl shadow-lg result-card-main">
                
                <h3 id="resultHeader" class="text-2xl font-bold mb-6 text-gray-800 border-b pb-2 border-amber-200">Savings Calculation Summary</h3>
                
                <div class="text-center mb-6 border-b border-amber-200 pb-4">
                    <p id="labelMonthlyContribution" class="text-lg font-bold text-gray-700 mb-1">Monthly Contribution Needed</p>
                    <p id="monthlyContributionResult" class="text-5xl font-extrabold text-amber-600">0</p>
                    <p id="labelMonthlyNote" class="text-sm text-gray-600 mt-1">If you save this amount every month, you will meet your goal.</p>
                </div>

                <h4 id="detailHeader" class="text-xl font-bold text-gray-800 mb-3">Goal Breakdown</h4>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-amber-100">
                        <p id="labelFutureCost" class="text-sm text-gray-700 font-medium mb-1">Total Future Education Cost</p>
                        <p id="futureCostResult" class="text-2xl font-bold text-amber-600">0</p>
                        <p id="labelFutureCostNote" class="text-xs text-gray-500 mt-1">Cost inflated to the start year.</p>
                    </div>

                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                        <p id="labelFutureSavingsValue" class="text-sm text-gray-700 font-medium mb-1">Future Value of Current Savings</p>
                        <p id="futureSavingsValueResult" class="text-2xl font-bold text-green-600">0</p>
                        <p id="labelFutureSavingsNote" class="text-xs text-gray-500 mt-1">Your current savings projected forward.</p>
                    </div>
                </div>

                <div class="mt-4 p-4 bg-red-50 rounded-lg border border-red-200">
                    <p id="labelShortfall" class="text-sm text-red-700 font-medium mb-1">Total Shortfall / Required Target</p>
                    <p id="shortfallResult" class="text-2xl font-bold text-red-700">0</p>
                </div>
            </div>
            
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Planning for Education Costs</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">The Impact of Inflation</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Investment Strategies</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <section id="related-tools-section" class="layout-article-fixed w-full max-w-2xl mx-auto px-4 py-8 mb-4">
        <div class="flex items-center mb-5">
            <div class="w-1 h-7 mr-3 bg-green-600"></div> 
            <h2 class="text-xl font-bold text-gray-800" data-en="Finance Tools" data-id="Alat Keuangan">Finance Tools</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10">
            <a href="../kalkulator-inflasi/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Inflation Calculator" data-id="Kalkulator Inflasi">Inflation Calculator</h3>
                <p class="text-xs text-gray-600" data-en="Calculate purchasing power loss." data-id="Hitung penurunan daya beli.">Calculate purchasing power loss.</p>
            </a>
            <a href="../kalkulator-bunga-majemuk/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Compound Interest" data-id="Bunga Majemuk">Compound Interest</h3>
                <p class="text-xs text-gray-600" data-en="Calculate investment growth." data-id="Hitung pertumbuhan investasi.">Calculate investment growth.</p>
            </a>
            <a href="../kalkulator-target-tabungan/index.html" class="tool-card group block p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 hover:border-green-400">
                <h3 class="text-base font-bold mb-1 text-green-600 group-hover:text-green-700" data-en="Savings Goal" data-id="Target Tabungan">Savings Goal</h3>
                <p class="text-xs text-gray-600" data-en="Plan for specific financial goals." data-id="Rencanakan tujuan keuangan spesifik.">Plan for specific financial goals.</p>
            </a>
        </div>

        <div class="border-t border-gray-200 pt-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4" data-en="Related Articles" data-id="Artikel Terkait">Related Articles</h3>
            <ul class="space-y-3">
                <li>
                    <a href="../articles/strategi-mempercepat-pelunasan-utang.html" class="flex items-center text-sm text-blue-600 hover:underline group">
                        <span class="w-1.5 h-1.5 bg-gray-300 rounded-full mr-3 group-hover:bg-blue-500"></span>
                        <span data-en="Strategies to Accelerate Debt Repayment" data-id="Strategi Mempercepat Pelunasan Utang">Strategies to Accelerate Debt Repayment</span>
                    </a>
                </li>
            </ul>
        </div>
    </section>

    <div id="global-footer-container"></div>
    <script src="../components.js"></script>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR TABUNGAN PENDIDIKAN
        // **********************************************

        let currentLang = 'en';

        const translations = {
            id: {
                appTitle: "Kalkulator Tabungan Pendidikan",
                headerTitle: "Kalkulator Tabungan Pendidikan/Kuliah",
                toolSubtitle: "Hitung jumlah bulanan atau tahunan yang perlu Anda tabung untuk mencapai target biaya pendidikan di masa depan, dengan memperhitungkan inflasi dan hasil investasi.",
                
                headerGoal: "1. Detail Tujuan Biaya Masa Depan",
                labelCurrentCost: "Biaya Pendidikan Tahunan Saat Ini",
                descCurrentCost: "Perkiraan biaya kuliah per tahun saat ini (misal: S1 selama 4 tahun).",
                labelYearsToGoal: "Tahun Sampai Tujuan Dimulai",
                descYearsToGoal: "Berapa tahun lagi tujuan pendidikan akan dimulai.",
                labelInflationRate: "Tingkat Inflasi Pendidikan Tahunan (%)",
                descInflationRate: "Perkiraan kenaikan biaya pendidikan per tahun.",
                labelYearsOfStudy: "Durasi Pendidikan (Tahun)",
                descYearsOfStudy: "Durasi pendidikan (misal: 4 tahun untuk gelar S1).",
                
                headerInvestment: "2. Detail Investasi dan Tabungan",
                labelCurrentSavings: "Dana Tabungan/Investasi Saat Ini",
                descCurrentSavings: "Jumlah uang yang sudah Anda miliki saat ini untuk tujuan ini.",
                labelAnnualReturn: "Ekspektasi Pengembalian Investasi Tahunan (%)",
                descAnnualReturn: "Tingkat pengembalian tahunan rata-rata yang Anda harapkan dari investasi Anda.",
                calculateButton: "Hitung Kebutuhan Tabungan",
                inputError: "Mohon masukkan semua nilai input yang valid (Semua biaya, tahun, dan persentase harus >= 0, dan Durasi Studi harus > 0).",
                
                resultHeader: "Ringkasan Perhitungan Tabungan",
                labelMonthlyContribution: "Kontribusi Bulanan yang Dibutuhkan",
                labelMonthlyNote: "Jika Anda menabung jumlah ini setiap bulan, Anda akan mencapai tujuan Anda.",
                detailHeader: "Rincian Tujuan",
                labelFutureCost: "Total Biaya Pendidikan Masa Depan (Nominal)",
                labelFutureCostNote: "Estimasi total biaya selama durasi studi, disesuaikan inflasi.",
                labelFutureSavingsValue: "Nilai Masa Depan dari Tabungan Saat Ini",
                labelFutureSavingsNote: "Tabungan Anda saat ini yang diproyeksikan hingga tahun tujuan dimulai.",
                labelShortfall: "Total Kekurangan / Target yang Harus Ditabung",
                
                sectionHeader1: "Merencanakan Biaya Pendidikan",
                content1: "Perencanaan dana pendidikan adalah proses finansial jangka panjang yang harus mempertimbangkan tiga faktor utama: <b>inflasi</b>, <b>jangka waktu</b>, dan <b>tingkat pengembalian investasi</b>. Mengabaikan inflasi pendidikan, yang seringkali lebih tinggi daripada inflasi umum, dapat menyebabkan kekurangan dana yang signifikan di masa depan.",
                sectionHeader2: "Dampak Inflasi Pendidikan dan Angka Realistis",
                content2: "Inflasi pendidikan adalah kenaikan biaya kuliah tahunan. Kalkulator ini secara akurat memproyeksikan biaya pendidikan di masa depan dengan mengaplikasikan tingkat inflasi yang Anda masukkan. Semakin lama waktu menuju tujuan, semakin besar dampaknya. <br><br>Untuk mendapatkan angka inflasi yang realistis, Anda dapat melakukan hal berikut: <ul><li><b>Lihat Data Historis:</b> Cari data kenaikan biaya rata-rata kampus/sekolah tujuan Anda selama 5-10 tahun terakhir. Gunakan angka rata-rata tersebut.</li><li><b>Gunakan Angka Konservatif:</b> Jika data spesifik sulit ditemukan, gunakan angka yang lebih tinggi dari inflasi umum (misalnya, jika inflasi umum 3%, gunakan 5%-7% untuk pendidikan). Lebih baik dana berlebih daripada kekurangan.</li></ul>",
                sectionHeader3: "Strategi Investasi dan Peninjauan Berkala",
                content3: "Beberapa strategi untuk mencapai tujuan ini:",
                tip1: "Mulai Lebih Awal: Semakin awal Anda memulai, semakin besar waktu yang dimiliki uang Anda untuk berkembang melalui bunga majemuk, sehingga mengurangi beban kontribusi bulanan.",
                tip2: "Diversifikasi Investasi: Pilih instrumen investasi (seperti reksa dana saham atau obligasi) yang menawarkan tingkat pengembalian yang realistis dan sesuai dengan toleransi risiko Anda. <b>Konsultasikan dengan perencana keuangan berlisensi.</b>",
                tip3: "Tinjau Berkala: Tinjau kemajuan tabungan Anda dan sesuaikan kontribusi tahunan (atau bulanan) secara berkala (misalnya setiap tahun) untuk mengimbangi perubahan inflasi atau kinerja investasi. <b>Tidak perlu menghitung ulang setiap kali inflasi naik atau turun sedikit</b>; yang terpenting adalah melakukan peninjauan <b>tahunan</b> atau ketika terjadi perubahan signifikan pada tujuan atau investasi Anda. Ini akan menjaga rencana Anda tetap relevan dalam jangka waktu panjang.",
                sectionHeader4: "Disclaimer",
                content4: "Kalkulator ini menggunakan formula nilai masa depan (Future Value of Annuity Due) dan tidak mempertimbangkan pajak, biaya transaksi investasi, atau variasi tingkat pengembalian tahunan. Hasil ini murni estimasi. Selalu verifikasi perhitungan Anda dengan penasihat keuangan profesional."
            },
            en: {
                appTitle: "Education Savings Calculator",
                headerTitle: "College/Education Savings Calculator",
                toolSubtitle: "Calculate the monthly or annual amount you need to save to meet future college or education funding goals, factoring in inflation and investment returns.",
                
                headerGoal: "1. Future Goal Details",
                labelCurrentCost: "Current Annual Education Cost",
                descCurrentCost: "Estimated current annual tuition cost (e.g., 4 years of undergraduate study).",
                labelYearsToGoal: "Years Until Education Starts",
                descYearsToGoal: "How many years until the education goal begins.",
                labelInflationRate: "Annual Education Inflation Rate (%)",
                descInflationRate: "Estimated annual increase in education costs (often higher than general inflation).",
                labelYearsOfStudy: "Years of Study/Duration",
                descYearsOfStudy: "Duration of the education (e.g., 4 years for a Bachelor's degree).",
                
                headerInvestment: "2. Investment and Savings Details",
                labelCurrentSavings: "Current Savings/Investment Amount",
                descCurrentSavings: "The amount of money you already have saved for this goal.",
                labelAnnualReturn: "Expected Annual Investment Return (%)",
                descAnnualReturn: "The average annual rate of return you expect on your investments.",
                calculateButton: "Calculate Required Savings",
                inputError: "Please enter all valid input values (All costs, years, and percentages must be >= 0, and Study Duration must be > 0).",
                
                resultHeader: "Savings Calculation Summary",
                labelMonthlyContribution: "Monthly Contribution Needed",
                labelMonthlyNote: "If you save this amount every month, you will meet your goal.",
                detailHeader: "Goal Breakdown",
                labelFutureCost: "Total Future Education Cost (Nominal)",
                labelFutureCostNote: "Total estimated cost over the study duration, adjusted for inflation.",
                labelFutureSavingsValue: "Future Value of Current Savings",
                labelFutureSavingsNote: "Your current savings projected until the goal start year.",
                labelShortfall: "Total Shortfall / Required Target",
                
                sectionHeader1: "Planning for Education Costs",
                content1: "Education funding planning is a long-term financial process that must consider three main factors: <b>inflation</b>, <b>time horizon</b>, and <b>investment return rate</b>. Ignoring education inflation can lead to significant funding shortfalls in the future.",
                sectionHeader2: "The Impact of Education Inflation and Realistic Rates",
                content2: "Education inflation is the annual increase in tuition costs. This calculator accurately projects future education costs by applying your input inflation rate. The longer the time to the goal, the greater the impact inflation will have. <br><br>To determine a realistic inflation rate, you can do the following: <ul><li><b>Look at Historical Data:</b> Find the average cost increase data for your target school/university over the last 5-10 years. Use that average rate.</li><li><b>Use a Conservative Figure:</b> If specific data is hard to find, use a rate higher than general inflation (e.g., if general inflation is 3%, use 5%-7% for education). It is better to overshoot than to have a shortfall.</li></ul>",
                sectionHeader3: "Investment Strategies and Regular Review",
                content3: "Some strategies to meet this goal:",
                tip1: "Start Early: The earlier you start, the more time your money has to grow through compounding interest, thus reducing the burden of monthly contributions.",
                tip2: "Diversify Investments: Choose investment instruments (such as stock or bond mutual funds) that offer a realistic rate of return aligned with your risk tolerance. <b>Consult with a licensed financial planner.</b>",
                tip3: "Review Regularly: Periodically review your savings progress and adjust your annual (or monthly) contributions to account for changes in inflation or investment performance. <b>There is no need to recalculate every time inflation fluctuates slightly</b>; the most important thing is to conduct an <b>annual</b> review or when significant changes occur to your goal or investment.",
                sectionHeader4: "Disclaimer",
                content4: "This calculator uses the Future Value of Annuity Due formula and does not account for taxes, investment transaction fees, or variations in the annual rate of return. The results are purely an estimate. Always verify your calculations with a professional financial advisor."
            }
        };

        function formatNumber(amount, decimalPlaces = 0) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; 
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateSavings(event) {
            if(event) event.preventDefault();
            const currentCost = cleanInput(document.getElementById('currentCost').value);
            const yearsToGoal = parseInt(document.getElementById('yearsToGoal').value) || 0;
            const inflationRate = parseFloat(document.getElementById('inflationRate').value) / 100;
            const yearsOfStudy = parseInt(document.getElementById('yearsOfStudy').value) || 0;
            const currentSavings = cleanInput(document.getElementById('currentSavings').value);
            const annualReturn = parseFloat(document.getElementById('annualReturn').value) / 100;

            const resultBox = document.getElementById('resultBox');
            const errorAlert = document.getElementById('errorAlert');

            if (currentCost <= 0 || yearsToGoal < 0 || inflationRate < 0 || yearsOfStudy <= 0 || currentSavings < 0 || annualReturn < 0) {
                document.getElementById('errorText').textContent = translations[currentLang].inputError;
                errorAlert.classList.remove('hidden');
                resultBox.classList.remove('visible');
                return;
            }
            
            errorAlert.classList.add('hidden');
            let totalFutureCostNominal = 0;
            let totalFutureCostPV = 0; 
            
            for (let i = 0; i < yearsOfStudy; i++) {
                 const costThisYear = currentCost * Math.pow(1 + inflationRate, yearsToGoal + i);
                 totalFutureCostNominal += costThisYear;
                 const pvOfCost = costThisYear / Math.pow(1 + annualReturn, yearsToGoal + i);
                 totalFutureCostPV += pvOfCost;
            }
            
            const fvCurrentSavings = currentSavings * Math.pow(1 + annualReturn, yearsToGoal);
            const netRequiredPV = totalFutureCostPV - currentSavings;
            const N = yearsToGoal * 12;
            const R_monthly = annualReturn / 12;
            
            let monthlyContribution = 0;
            if (yearsToGoal > 0 && netRequiredPV > 0) {
                const FV_needed = netRequiredPV * Math.pow(1 + annualReturn, yearsToGoal);
                if (annualReturn > 0) {
                    const FVIF = (Math.pow(1 + R_monthly, N) - 1) / R_monthly;
                    const AnnuityDueFactor = FVIF * (1 + R_monthly);
                    monthlyContribution = FV_needed / AnnuityDueFactor;
                } else {
                    monthlyContribution = FV_needed / N;
                }
            } else if (netRequiredPV <= 0) {
                 monthlyContribution = 0;
            }

            document.getElementById('futureCostResult').textContent = formatNumber(Math.round(totalFutureCostNominal));
            document.getElementById('futureSavingsValueResult').textContent = formatNumber(Math.round(fvCurrentSavings));
            const totalShortfallNominal = totalFutureCostNominal - fvCurrentSavings;
            document.getElementById('shortfallResult').textContent = formatNumber(Math.round(Math.max(0, totalShortfallNominal))); 
            document.getElementById('monthlyContributionResult').textContent = formatNumber(Math.round(monthlyContribution));
            resultBox.classList.add('visible');
        }

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            ['appTitle', 'headerTitle', 'toolSubtitle', 'headerGoal', 'labelCurrentCost', 'descCurrentCost', 
             'labelYearsToGoal', 'descYearsToGoal', 'labelInflationRate', 'descInflationRate', 'labelYearsOfStudy', 
             'descYearsOfStudy', 'headerInvestment', 'labelCurrentSavings', 'descCurrentSavings', 'labelAnnualReturn', 
             'descAnnualReturn', 'calculateButton', 'resultHeader', 'labelMonthlyContribution', 'labelMonthlyNote', 
             'detailHeader', 'labelFutureCost', 'labelFutureCostNote', 'labelFutureSavingsValue', 'labelFutureSavingsNote', 
             'labelShortfall', 'sectionHeader1', 'sectionHeader2', 'sectionHeader3', 'sectionHeader4', 'content3', 'content4'].forEach(id => {
                 const el = document.getElementById(id);
                 if(el) el.textContent = t[id];
            });
            
            ['content1', 'content2', 'tip1', 'tip2', 'tip3'].forEach(id => {
                const el = document.getElementById(id);
                if(el) el.innerHTML = t[id];
            });

            const currentCostValue = document.getElementById('currentCost').value;
            const currentSavingsValue = document.getElementById('currentSavings').value;
            document.getElementById('currentCost').value = formatNumber(cleanInput(currentCostValue));
            document.getElementById('currentSavings').value = formatNumber(cleanInput(currentSavingsValue));

            // Related Tools Update
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) el.textContent = text;
            });

            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateSavings();
            }
        }

        const observer = new MutationObserver((mutations) => {
            mutations.forEach((m) => {
                if (m.type === 'attributes' && m.attributeName === 'lang') {
                    setLanguage(document.documentElement.lang || 'en');
                }
            });
        });
        observer.observe(document.documentElement, { attributes: true });

        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(document.documentElement.lang || 'en');
        });
    </script>
</body>
</html>