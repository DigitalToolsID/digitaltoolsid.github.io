<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://digitaltoolsid.github.io/kalkulator-biaya-hidup/" />
    <!-- Judul akan di-set oleh JS -->
 
    <meta name="description" content="Kalkulator Biaya Hidup. Bandingkan biaya hidup antar dua lokasi dan hitung berapa gaji yang Anda butuhkan untuk mempertahankan standar hidup Anda." />
 
    <title id="appTitle">Cost of Living Calculator</title>
    <link rel="alternate" hreflang="id" href="https://digitaltoolsid.github.io/cost-of-living-calculator/index.html" />
    <link rel="alternate" hreflang="en" href="https://digitaltoolsid.github.io/cost-of-living-calculator/index.html" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Kode Google Analytic dan Adsense -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8E7QRYNY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7M8E7QRYNY');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4885884866232864"
         crossorigin="anonymous"></script>
    
    <!-- Konfigurasi Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#2c3e50', 
                        'secondary': '#3498db', 
                        'primary-dark': '#1e3a8a', 
                        'finance-color': '#27ae60', // Hijau untuk Keuangan
                        'living-color': '#e67e22', // Oranye untuk Lifestyle
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Gaya kustom untuk tampilan hasil */
        .result-box {
            transition: all 0.5s ease-in-out;
            transform-origin: top center;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
        }
        .result-box.visible {
            opacity: 1;
            max-height: 3000px; 
            padding: 1.5rem; 
        }
        
        /* Gaya Toggle Bahasa */
        .lang-toggle-container {
            position: relative;
            display: inline-flex;
            background-color: #e5e7eb; 
            border-radius: 9999px; 
            padding: 4px;
        }
        .lang-toggle-btn {
            padding: 6px 14px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 10;
            color: #6b7280; 
            transition: color 0.3s ease;
            position: relative;
        }
        .lang-toggle-slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px); 
            background-color: #1e3a8a; /* Primary-dark */
            border-radius: 9999px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 5;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .lang-toggle-container.lang-en .lang-toggle-slider { transform: translateX(0%); }
        .lang-toggle-container.lang-id .lang-toggle-slider { transform: translateX(100%); }
        .lang-toggle-container.lang-en #lang-en { color: white; }
        .lang-toggle-container.lang-id #lang-id { color: white; }
        
        /* Gaya kustom untuk input dan tombol */
        .calculate-button {
            box-shadow: 0 4px #a04000; /* Warna oranye gelap */
            background-color: #e67e22; /* living-color */
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px #a04000;
            background-color: #d35400;
        }
        .calculate-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #a04000;
        }

        /* Gaya untuk deskripsi input */
        .input-description {
            font-size: 0.75rem; /* text-xs */
            color: #6b7280; /* text-gray-500 */
            margin-top: 0.25rem;
        }

        /* Gaya Kartu Hasil Utama */
        .result-card-main {
            background-color: #fff7ed; /* Orange 50 */
            border: 2px solid #fdba74; /* Orange 300 */
        }
        
        /* Section Header */
        .section-title {
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #2c3e50;
        }

    </style>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen font-sans" oncontextmenu="return false;" oncopy="return false;" oncut="return false;">

    <!-- Header -->
    <header class="bg-primary-dark text-white py-4 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <a href="../index.html" class="text-lg font-semibold tracking-tight text-gray-200 hover:text-white transition duration-150">
                &larr; <span id="backToCatalogText">Back to Tools Catalog</span>
            </a>
            <div id="languageSwitcher" class="lang-toggle-container lang-en">
                <div id="langToggleSlider" class="lang-toggle-slider"></div>
                <button id="lang-en" onclick="setLanguage('en')" class="lang-toggle-btn">EN</button>
                <button id="lang-id" onclick="setLanguage('id')" class="lang-toggle-btn">ID</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 sm:p-8 flex justify-center">
        <div class="w-full max-w-4xl bg-white shadow-xl rounded-xl p-6 sm:p-8">
            
            <h1 id="headerTitle" class="text-3xl font-extrabold text-primary-dark mb-3">Cost of Living Calculator</h1>
            <p id="toolSubtitle" class="text-base text-gray-700 font-medium mb-6 leading-relaxed text-justify">
               <!-- Konten Subtitle akan diisi oleh JS -->
            </p>
            
            <!-- Form Input -->
            <form id="colForm" onsubmit="calculateCOL(event)" class="space-y-6">
                
                <!-- Profil Gaji -->
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="section-title" id="headerIncome">1. Current Income</h2>
                    <div class="relative">
                        <label for="currentSalary" class="block text-sm font-medium text-gray-700 mb-1" id="labelCurrentSalary">Current Monthly Net Salary</label>
                        <input type="text" id="currentSalary" inputmode="numeric" value="10.000.000" oninput="formatInput(this)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-living-color focus:border-living-color" required>
                        <p class="input-description" id="descCurrentSalary">Gaji bersih (take home pay) Anda saat ini di lokasi asal.</p>
                    </div>
                </div>

                <!-- Perbandingan Biaya -->
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                    <h2 class="section-title" id="headerExpenses">2. Expense Comparison (Current vs. New Location)</h2>
                    <p class="text-xs text-gray-500 mb-4 italic" id="noteEstimates">Enter estimates for key monthly expenses. Use online data or personal research.</p>
                    
                    <!-- Grid Input Biaya -->
                    <div class="grid grid-cols-3 gap-4 mb-2 font-bold text-sm text-gray-700">
                        <div id="colCategory">Category</div>
                        <div id="colCurrent">Current Location</div>
                        <div id="colNew">New Location</div>
                    </div>

                    <!-- Rent -->
                    <div class="grid grid-cols-3 gap-4 mb-4 items-center">
                        <label class="text-sm font-medium text-gray-600" id="labelRent">Housing / Rent</label>
                        <input type="text" id="rentCurrent" inputmode="numeric" value="3.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                        <input type="text" id="rentNew" inputmode="numeric" value="4.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                    </div>

                    <!-- Food -->
                    <div class="grid grid-cols-3 gap-4 mb-4 items-center">
                        <label class="text-sm font-medium text-gray-600" id="labelFood">Food & Groceries</label>
                        <input type="text" id="foodCurrent" inputmode="numeric" value="2.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                        <input type="text" id="foodNew" inputmode="numeric" value="3.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                    </div>

                    <!-- Transport -->
                    <div class="grid grid-cols-3 gap-4 mb-4 items-center">
                        <label class="text-sm font-medium text-gray-600" id="labelTransport">Transportation</label>
                        <input type="text" id="transCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                        <input type="text" id="transNew" inputmode="numeric" value="1.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                    </div>

                    <!-- Utilities -->
                    <div class="grid grid-cols-3 gap-4 mb-4 items-center">
                        <label class="text-sm font-medium text-gray-600" id="labelUtilities">Utilities (Elec, Water, Internet)</label>
                        <input type="text" id="utilCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                        <input type="text" id="utilNew" inputmode="numeric" value="1.200.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                    </div>
                    
                     <!-- Other -->
                    <div class="grid grid-cols-3 gap-4 mb-4 items-center">
                        <label class="text-sm font-medium text-gray-600" id="labelOther">Other/Entertainment</label>
                        <input type="text" id="otherCurrent" inputmode="numeric" value="1.000.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                        <input type="text" id="otherNew" inputmode="numeric" value="1.500.000" oninput="formatInput(this)" class="w-full p-2 border border-gray-300 rounded focus:ring-living-color focus:border-living-color text-sm">
                    </div>

                </div>

                <button type="submit" id="calculateButton" class="calculate-button w-full text-white font-semibold py-3 rounded-xl hover:bg-orange-700 transition duration-300 ease-in-out transform focus:outline-none focus:ring-4 focus:ring-orange-500 focus:ring-opacity-50">
                    Compare Living Costs
                </button>
                
                <!-- Error Alert -->
                <div id="errorAlert" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    <span id="errorText" class="block sm:inline"></span>
                </div>
            </form>

            <!-- Result Box -->
            <div id="resultBox" class="result-box mt-8 p-6 rounded-xl shadow-lg result-card-main">
                
                <h3 id="resultHeader" class="text-2xl font-bold mb-6 text-primary border-b pb-2 border-orange-300">Comparison Result</h3>
                
                <!-- Salary Requirement -->
                <div class="text-center mb-8">
                    <p id="labelRequiredSalary" class="text-lg font-bold text-gray-700 mb-1">To maintain your lifestyle, you need to earn:</p>
                    <p id="resultRequiredSalary" class="text-4xl font-extrabold text-living-color">0</p>
                    <div id="diffBadge" class="inline-block mt-3 px-3 py-1 rounded-full text-sm font-bold bg-gray-200 text-gray-700">
                        0% Difference
                    </div>
                </div>

                <!-- Interpretasi Hasil -->
                <div class="mb-8 bg-white p-4 rounded-lg border border-orange-200">
                    <h4 id="headerInterpretation" class="text-md font-bold text-primary mb-2">Analysis</h4>
                    <p id="textInterpretation" class="text-sm text-gray-700 leading-relaxed">
                        <!-- Teks interpretasi dinamis akan muncul di sini -->
                    </p>
                </div>

                <!-- Cost Breakdown -->
                <h4 id="detailHeader" class="text-lg font-bold text-primary mb-3">Cost Breakdown Summary</h4>
                <div class="bg-white rounded-lg shadow overflow-hidden border border-gray-200 text-sm">
                    <div class="grid grid-cols-3 bg-gray-100 p-3 font-bold border-b">
                        <div id="tableCat">Category</div>
                        <div class="text-right" id="tableCurr">Current</div>
                        <div class="text-right" id="tableNew">New</div>
                    </div>
                    <div class="p-3 grid grid-cols-3 border-b">
                        <div>Total Expenses</div>
                        <div class="text-right" id="valTotalCurr">0</div>
                        <div class="text-right" id="valTotalNew">0</div>
                    </div>
                     <div class="p-3 grid grid-cols-3 border-b bg-green-50">
                        <div id="labelDisposable">Disposable Income</div>
                        <div class="text-right text-green-700" id="valDispCurr">0</div>
                        <div class="text-right text-green-700" id="valDispNew">0</div>
                    </div>
                </div>

            </div>
            
            <!-- Konten Edukasi -->
            <section class="mt-8 pt-4 border-t border-gray-200 font-sans">
                <h2 id="sectionHeader1" class="text-xl font-bold text-gray-800 mb-3">Evaluating Cost of Living</h2>
                <p id="content1" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader2" class="text-lg font-bold text-gray-800 mb-2">Hidden Costs of Relocation</h3>
                <p id="content2" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>

                <h3 id="sectionHeader3" class="text-lg font-bold text-gray-800 mb-2">Negotiating Your Salary</h3>
                <p id="content3" class="text-gray-600 text-sm leading-relaxed text-justify mb-2"></p>
                <ul class="text-gray-600 text-sm leading-relaxed text-justify mb-6 list-disc ml-6 space-y-1">
                    <li id="tip1"></li>
                    <li id="tip2"></li>
                    <li id="tip3"></li>
                </ul>

                <h3 id="sectionHeader4" class="text-lg font-bold text-gray-800 mb-2">Disclaimer</h3>
                <p id="content4" class="text-gray-600 text-sm leading-relaxed text-justify mb-6"></p>
            </section>

        </div>
    </main>
    
    <!-- Footer -->
    <footer class="mt-12 py-6 border-t border-gray-200 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="footerLinks" class="flex flex-wrap justify-center space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
                <a href="../privacy-policy.html" id="linkPrivacy" class="hover:text-secondary transition duration-150 ease-in-out">Privacy Policy</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../terms-of-service.html" id="linkTerms" class="hover:text-secondary transition duration-150 ease-in-out">Terms of Service</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../about-us.html" id="linkAbout" class="hover:text-secondary transition duration-150 ease-in-out">About Us</a>
                <span aria-hidden="true" class="hidden sm:inline">|</span>
                <a href="../contact-us.html" id="linkContact" class="hover:text-secondary transition duration-150 ease-in-out">Contact Us</a>
            </div>
            <div class="mt-6 text-center text-xs text-gray-500">
                <span id="footerCopyright">&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics.</span>
            </div>
        </div>
    </footer>
    
    <script>
        // **********************************************
        // LOGIKA KALKULATOR BIAYA HIDUP
        // **********************************************

        const translations = {
            id: {
                appTitle: "Kalkulator Biaya Hidup",
                headerTitle: "Kalkulator Biaya Hidup",
                toolSubtitle: "Alat ini dirancang untuk Anda yang sedang mempertimbangkan <b>pindah kota atau negara</b> untuk pekerjaan baru atau gaya hidup yang lebih baik. Apakah gaji yang ditawarkan di lokasi baru cukup? Kalkulator ini membandingkan biaya esensial (sewa, makanan, transportasi) antara lokasi saat ini dan lokasi tujuan untuk menghitung estimasi gaji yang Anda butuhkan agar standar hidup Anda tidak turun.",
                backToCatalogText: "Kembali ke Katalog Alat",
                // Input
                headerIncome: "1. Profil Gaji Saat Ini",
                labelCurrentSalary: "Gaji Bersih Bulanan Saat Ini",
                descCurrentSalary: "Pendapatan bersih (take home pay) yang Anda terima sekarang.",
                
                headerExpenses: "2. Perbandingan Pengeluaran (Asal vs Tujuan)",
                noteEstimates: "Masukkan estimasi pengeluaran bulanan. Gunakan data online atau riset pribadi.",
                colCategory: "Kategori",
                colCurrent: "Lokasi Saat Ini",
                colNew: "Lokasi Tujuan",
                
                labelRent: "Tempat Tinggal / Sewa",
                labelFood: "Makanan & Belanja",
                labelTransport: "Transportasi",
                labelUtilities: "Utilitas (Listrik, Air, Internet)",
                labelOther: "Hiburan & Lainnya",
                
                calculateButton: "Bandingkan Biaya Hidup",
                inputError: "Mohon masukkan nilai yang valid (harus berupa angka positif).",
                
                // Result
                resultHeader: "Hasil Perbandingan",
                labelRequiredSalary: "Untuk mempertahankan gaya hidup, Anda butuh gaji:",
                
                headerInterpretation: "Analisis",
                interpHigher: "<b>Biaya hidup di lokasi baru LEBIH TINGGI.</b> Anda memerlukan kenaikan gaji setidaknya sebesar persentase di atas hanya untuk mempertahankan standar hidup yang sama. Pastikan penawaran gaji baru menutupi selisih ini dan memberikan kelebihan untuk tabungan.",
                interpLower: "<b>Biaya hidup di lokasi baru LEBIH RENDAH.</b> Ini kabar baik! Jika gaji Anda tetap sama atau naik, daya beli (purchasing power) Anda akan meningkat drastis. Anda bisa menabung lebih banyak.",
                interpEqual: "<b>Biaya hidup relatif SAMA.</b> Perbedaan biaya tidak signifikan. Keputusan pindah bisa lebih difokuskan pada peluang karir dan kualitas hidup non-finansial.",
                
                detailHeader: "Ringkasan Biaya",
                tableCat: "Kategori",
                tableCurr: "Saat Ini",
                tableNew: "Baru",
                labelDisposable: "Sisa Uang (Disposable Income)",
                
                // Edukasi
                sectionHeader1: "Mengevaluasi Biaya Hidup",
                content1: "Biaya hidup bervariasi drastis antar lokasi. Gaji Rp 10 juta di Yogyakarta mungkin memberikan gaya hidup mewah, tetapi di Jakarta mungkin pas-pasan. Kalkulator ini menggunakan metode <b>Purchasing Power Parity (PPP)</b> sederhana berdasarkan keranjang pengeluaran pribadi Anda untuk menstandarisasi nilai uang di dua tempat berbeda.",
                sectionHeader2: "Biaya Tersembunyi Relokasi",
                content2: "Selain biaya bulanan, jangan lupakan biaya satu kali (one-off) saat pindah: biaya jasa pindahan, deposit sewa (biasanya 1-3 bulan), pembelian perabot baru, dan biaya administrasi dokumen. Pastikan Anda memiliki dana darurat yang cukup untuk menutupi masa transisi ini.",
                sectionHeader3: "Negosiasi Gaji",
                content3: "Gunakan hasil kalkulasi ini sebagai data saat negosiasi gaji:",
                tip1: "<b>Jangan Terima Nominal Mentah:</b> Jika perusahaan menawarkan gaji yang sama di kota yang 30% lebih mahal, Anda sebenarnya mengalami penurunan gaji (pay cut).",
                tip2: "<b>Fokus pada Disposable Income:</b> Yang terpenting bukan seberapa besar gaji kotornya, tapi seberapa besar sisa uang yang bisa ditabung setelah biaya dasar terpenuhi.",
                tip3: "<b>Riset Pasar:</b> Selain biaya hidup, cek standar gaji pasar untuk posisi Anda di kota tujuan.",
                sectionHeader4: "Disclaimer",
                content4: "Hasil perhitungan ini adalah estimasi berdasarkan input pengeluaran yang Anda berikan. Pola konsumsi setiap individu berbeda. Harga sewa dan barang bisa berfluktuasi. Gunakan ini sebagai panduan awal, bukan penentu tunggal keputusan finansial.",

                // Footer
                linkPrivacy: "Kebijakan Privasi",
                linkTerms: "Ketentuan Layanan",
                linkAbout: "Tentang Kami",
                linkContact: "Hubungi Kami",
                footerCopyright: "&copy; 2025 Digital Tools ID. Semua hak dilindungi. Dikembangkan oleh DTID Analytics."
            },
            en: {
                appTitle: "Cost of Living Calculator",
                headerTitle: "Cost of Living Calculator",
                toolSubtitle: "This tool is designed for those considering <b>relocating to a new city or country</b> for a job or lifestyle change. Is the salary offer in the new location enough? This calculator compares essential costs (rent, food, transport) between your current and target locations to estimate the salary you need to maintain your current standard of living.",
                backToCatalogText: "Back to Tools Catalog",
                // Input
                headerIncome: "1. Current Income Profile",
                labelCurrentSalary: "Current Monthly Net Salary",
                descCurrentSalary: "Your current monthly take-home pay.",
                
                headerExpenses: "2. Expense Comparison (Current vs Target)",
                noteEstimates: "Enter monthly estimates. Use online data or personal research.",
                colCategory: "Category",
                colCurrent: "Current Location",
                colNew: "Target Location",
                
                labelRent: "Housing / Rent",
                labelFood: "Food & Groceries",
                labelTransport: "Transportation",
                labelUtilities: "Utilities (Elec, Water, Internet)",
                labelOther: "Entertainment & Others",
                
                calculateButton: "Compare Living Costs",
                inputError: "Please enter valid numeric values.",
                
                // Result
                resultHeader: "Comparison Result",
                labelRequiredSalary: "To maintain your lifestyle, you need to earn:",
                
                headerInterpretation: "Analysis",
                interpHigher: "<b>Cost of living is HIGHER in the new location.</b> You need a salary increase of at least the percentage shown above just to maintain your current lifestyle. Ensure your new salary offer covers this gap and allows for savings.",
                interpLower: "<b>Cost of living is LOWER in the new location.</b> This is great news! If your salary stays the same or increases, your purchasing power will rise significantly, allowing you to save more.",
                interpEqual: "<b>Cost of living is relatively SIMILAR.</b> The financial difference is negligible. Your decision should focus more on career growth and quality of life factors.",
                
                detailHeader: "Cost Summary",
                tableCat: "Category",
                tableCurr: "Current",
                tableNew: "New",
                labelDisposable: "Disposable Income (Savings Potential)",
                
                // Edukasi
                sectionHeader1: "Evaluating Cost of Living",
                content1: "Living costs vary drastically between locations. A $3,000 salary might offer a luxurious lifestyle in Bali but a struggle in Singapore. This calculator uses a simplified <b>Purchasing Power Parity (PPP)</b> approach based on your personal spending basket to standardize the value of money across two locations.",
                sectionHeader2: "Hidden Costs of Relocation",
                content2: "Beyond monthly costs, don't forget one-off relocation expenses: moving services, rental deposits (often 1-3 months), buying new furniture, and administrative fees. Ensure you have a sufficient emergency fund to cover this transition period.",
                sectionHeader3: "Negotiating Your Salary",
                content3: "Use this calculation as leverage during salary negotiations:",
                tip1: "<b>Don't Accept Nominal Value:</b> If a company offers the same salary in a city that is 30% more expensive, you are effectively taking a pay cut.",
                tip2: "<b>Focus on Disposable Income:</b> What matters most isn't the gross salary, but how much is left after covering basic necessities.",
                tip3: "<b>Market Research:</b> Besides living costs, check the market salary standard for your role in the target city.",
                sectionHeader4: "Disclaimer",
                content4: "This calculation is an estimate based on the expense inputs you provide. Individual consumption patterns vary. Rent prices and goods can fluctuate. Use this as a preliminary guide, not the sole determinant for financial decisions.",

                // Footer
                linkPrivacy: "Privacy Policy",
                linkTerms: "Terms of Service",
                linkAbout: "About Us",
                linkContact: "Contact Us",
                footerCopyright: "&copy; 2025 Digital Tools ID. All rights reserved. Developed by DTID Analytics."
            }
        };

        let currentLang = 'en'; // Default language

        function formatNumber(amount, decimalPlaces = 0) {
            const locale = currentLang === 'id' ? 'id-ID' : 'en-US';
            return new Intl.NumberFormat(locale, {
                minimumFractionDigits: decimalPlaces,
                maximumFractionDigits: decimalPlaces,
            }).format(amount);
        }

        function formatInput(inputElement) {
            let rawValue = inputElement.value.replace(/\D/g, ''); 
            if (rawValue) {
                const numericValue = parseInt(rawValue, 10);
                inputElement.value = formatNumber(numericValue);
            } else {
                inputElement.value = ''; 
            }
        }
        
        function cleanInput(formattedValue) {
            return parseFloat(formattedValue.replace(/\D/g, '')) || 0;
        }

        function calculateCOL(event) {
            event.preventDefault();

            // 1. Inputs
            const salary = cleanInput(document.getElementById('currentSalary').value);
            
            // Current Expenses
            const rent1 = cleanInput(document.getElementById('rentCurrent').value);
            const food1 = cleanInput(document.getElementById('foodCurrent').value);
            const trans1 = cleanInput(document.getElementById('transCurrent').value);
            const util1 = cleanInput(document.getElementById('utilCurrent').value);
            const other1 = cleanInput(document.getElementById('otherCurrent').value);
            
            // New Expenses
            const rent2 = cleanInput(document.getElementById('rentNew').value);
            const food2 = cleanInput(document.getElementById('foodNew').value);
            const trans2 = cleanInput(document.getElementById('transNew').value);
            const util2 = cleanInput(document.getElementById('utilNew').value);
            const other2 = cleanInput(document.getElementById('otherNew').value);

            // 2. Validasi Sederhana
            if (salary < 0) {
                 // Alert handled via required attribute mostly, but good for logic check
                 return; 
            }

            // 3. Perhitungan
            const totalExp1 = rent1 + food1 + trans1 + util1 + other1;
            const totalExp2 = rent2 + food2 + trans2 + util2 + other2;
            
            // Persentase kenaikan biaya
            let increaseRatio = 0;
            if (totalExp1 > 0) {
                increaseRatio = (totalExp2 - totalExp1) / totalExp1;
            }
            
            // Gaji yang dibutuhkan untuk mempertahankan rasio pengeluaran yang sama
            // Asumsi: Kita ingin mempertahankan Disposable Income (Tabungan) atau mempertahankan rasio daya beli.
            // Metode: Proportional Increase based on Expense Basket
            const requiredSalary = salary * (totalExp2 / totalExp1);
            
            // Sisa Uang (Disposable)
            const disp1 = salary - totalExp1;
            // Jika gaji baru = requiredSalary, maka disp2 seharusnya setara secara proporsional atau nominal?
            // Mari kita hitung disp2 berdasarkan requiredSalary baru
            const disp2 = requiredSalary - totalExp2;

            // 4. Tampilkan Hasil
            document.getElementById('resultRequiredSalary').textContent = formatNumber(Math.round(requiredSalary));
            
            const badge = document.getElementById('diffBadge');
            const percentageDiff = (increaseRatio * 100).toFixed(1);
            
            if (increaseRatio > 0.01) {
                badge.textContent = `+${percentageDiff}% Higher Costs`;
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-sm font-bold bg-red-100 text-red-700";
            } else if (increaseRatio < -0.01) {
                badge.textContent = `${percentageDiff}% Lower Costs`;
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-sm font-bold bg-green-100 text-green-700";
            } else {
                badge.textContent = "Similar Costs";
                badge.className = "inline-block mt-3 px-3 py-1 rounded-full text-sm font-bold bg-gray-200 text-gray-700";
            }

            // Interpretasi
            const t = translations[currentLang];
            const interpBox = document.getElementById('textInterpretation');
            if (increaseRatio > 0.01) {
                interpBox.innerHTML = t.interpHigher;
                interpBox.parentElement.classList.add('border-red-200', 'bg-red-50');
                interpBox.parentElement.classList.remove('border-green-200', 'bg-green-50');
            } else if (increaseRatio < -0.01) {
                interpBox.innerHTML = t.interpLower;
                 interpBox.parentElement.classList.add('border-green-200', 'bg-green-50');
                 interpBox.parentElement.classList.remove('border-red-200', 'bg-red-50');
            } else {
                interpBox.innerHTML = t.interpEqual;
                interpBox.parentElement.classList.remove('border-red-200', 'bg-red-50', 'border-green-200', 'bg-green-50');
            }

            // Table values
            document.getElementById('valTotalCurr').textContent = formatNumber(totalExp1);
            document.getElementById('valTotalNew').textContent = formatNumber(totalExp2);
            document.getElementById('valDispCurr').textContent = formatNumber(disp1);
            document.getElementById('valDispNew').textContent = formatNumber(Math.round(disp2));

            document.getElementById('resultBox').classList.add('visible');
        }


        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            const switcher = document.getElementById('languageSwitcher');
            switcher.classList.remove('lang-en', 'lang-id');
            switcher.classList.add(`lang-${lang}`);

            // Get values to re-format
            const salaryVal = document.getElementById('currentSalary').value;
            const r1 = document.getElementById('rentCurrent').value;
            const f1 = document.getElementById('foodCurrent').value;
            const t1 = document.getElementById('transCurrent').value;
            const u1 = document.getElementById('utilCurrent').value;
            const o1 = document.getElementById('otherCurrent').value;
            
            const r2 = document.getElementById('rentNew').value;
            const f2 = document.getElementById('foodNew').value;
            const t2 = document.getElementById('transNew').value;
            const u2 = document.getElementById('utilNew').value;
            const o2 = document.getElementById('otherNew').value;

            // Update Text
            document.getElementById('appTitle').textContent = t.appTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('toolSubtitle').innerHTML = t.toolSubtitle;
            document.getElementById('backToCatalogText').textContent = t.backToCatalogText;
            
            document.getElementById('headerIncome').textContent = t.headerIncome;
            document.getElementById('labelCurrentSalary').textContent = t.labelCurrentSalary;
            document.getElementById('descCurrentSalary').textContent = t.descCurrentSalary;
            
            document.getElementById('headerExpenses').textContent = t.headerExpenses;
            document.getElementById('noteEstimates').textContent = t.noteEstimates;
            document.getElementById('colCategory').textContent = t.colCategory;
            document.getElementById('colCurrent').textContent = t.colCurrent;
            document.getElementById('colNew').textContent = t.colNew;
            
            document.getElementById('labelRent').textContent = t.labelRent;
            document.getElementById('labelFood').textContent = t.labelFood;
            document.getElementById('labelTransport').textContent = t.labelTransport;
            document.getElementById('labelUtilities').textContent = t.labelUtilities;
            document.getElementById('labelOther').textContent = t.labelOther;
            
            document.getElementById('calculateButton').textContent = t.calculateButton;
            
            // Re-format Inputs
            document.getElementById('currentSalary').value = formatNumber(cleanInput(salaryVal));
            document.getElementById('rentCurrent').value = formatNumber(cleanInput(r1));
            document.getElementById('foodCurrent').value = formatNumber(cleanInput(f1));
            document.getElementById('transCurrent').value = formatNumber(cleanInput(t1));
            document.getElementById('utilCurrent').value = formatNumber(cleanInput(u1));
            document.getElementById('otherCurrent').value = formatNumber(cleanInput(o1));
            
            document.getElementById('rentNew').value = formatNumber(cleanInput(r2));
            document.getElementById('foodNew').value = formatNumber(cleanInput(f2));
            document.getElementById('transNew').value = formatNumber(cleanInput(t2));
            document.getElementById('utilNew').value = formatNumber(cleanInput(u2));
            document.getElementById('otherNew').value = formatNumber(cleanInput(o2));

            // Results
            document.getElementById('resultHeader').textContent = t.resultHeader;
            document.getElementById('labelRequiredSalary').textContent = t.labelRequiredSalary;
            document.getElementById('headerInterpretation').textContent = t.headerInterpretation;
            
            document.getElementById('detailHeader').textContent = t.detailHeader;
            document.getElementById('tableCat').textContent = t.tableCat;
            document.getElementById('tableCurr').textContent = t.tableCurr;
            document.getElementById('tableNew').textContent = t.tableNew;
            document.getElementById('labelDisposable').textContent = t.labelDisposable;
            
            // Edukasi
            document.getElementById('sectionHeader1').textContent = t.sectionHeader1;
            document.getElementById('content1').innerHTML = t.content1;
            document.getElementById('sectionHeader2').textContent = t.sectionHeader2;
            document.getElementById('content2').innerHTML = t.content2;
            document.getElementById('sectionHeader3').textContent = t.sectionHeader3;
            document.getElementById('content3').innerHTML = t.content3; // Header list
            document.getElementById('tip1').innerHTML = t.tip1;
            document.getElementById('tip2').innerHTML = t.tip2;
            document.getElementById('tip3').innerHTML = t.tip3;
            document.getElementById('sectionHeader4').textContent = t.sectionHeader4;
            document.getElementById('content4').textContent = t.content4;
            
            // Footer
            document.getElementById('linkPrivacy').textContent = t.linkPrivacy;
            document.getElementById('linkTerms').textContent = t.linkTerms;
            document.getElementById('linkAbout').textContent = t.linkAbout;
            document.getElementById('linkContact').textContent = t.linkContact;
            document.getElementById('footerCopyright').innerHTML = t.footerCopyright;
            
            // Refresh Calc if visible
            if(document.getElementById('resultBox').classList.contains('visible')){
                calculateCOL({preventDefault:()=>{}});
            }
        }

        document.getElementById('languageSwitcher').addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const newLang = event.target.id === 'lang-en' ? 'en' : 'id';
                if (newLang !== currentLang) setLanguage(newLang);
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            let defaultLang = 'en'; 
            const browserLang = (navigator.language || navigator.userLanguage).toLowerCase();
            if (browserLang.startsWith('id')) defaultLang = 'id';
            setLanguage(defaultLang); 
        });
    </script>
</body>
</html>